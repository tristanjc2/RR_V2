{"ast":null,"code":"import _objectSpread from\"C:/RR_V3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import ReviewSection from\"./ReviewSection\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function ProductDetailPage(_ref){let{product,reviews,onAddReview,onSave,isAdmin,onBack,productList=[]}=_ref;const[editDesc,setEditDesc]=useState(product.description||\"\");const[editing,setEditing]=useState(false);const[reviewText,setReviewText]=useState(\"\");const[reviewError,setReviewError]=useState(\"\");const handleSave=()=>{if(editDesc.trim()){onSave(_objectSpread(_objectSpread({},product),{},{description:editDesc}));setEditing(false);}};const handleAddReview=()=>{if(reviewText.trim().length<5){setReviewError(\"Review must be at least 5 characters.\");return;}onAddReview(product.id,reviewText.trim());setReviewText(\"\");setReviewError(\"\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl mx-auto p-6 bg-white rounded-lg shadow-lg mt-12 mb-8\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"mb-10 text-green-700 hover:underline\",onClick:onBack,children:\"\\u2190 Back to Store\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-12\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,className:\"w-full md:w-80 h-80 object-cover rounded\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-4\",children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 text-lg text-green-700 font-semibold\",children:[\"$\",product.price]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:editing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"w-full p-2 border rounded mb-2\",value:editDesc,onChange:e=>setEditDesc(e.target.value),rows:4}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-700 text-white px-4 py-1 rounded\",onClick:handleSave,children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-gray-200 text-gray-700 px-4 py-1 rounded\",onClick:()=>setEditing(false),children:\"Cancel\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-2 text-gray-700\",children:product.description}),isAdmin&&/*#__PURE__*/_jsx(\"button\",{className:\"text-xs text-green-700 underline\",onClick:()=>setEditing(true),children:\"Edit Description\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold mb-1\",children:\"THC:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"mb-2 inline-block\",children:product.thc||\"-\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold mb-1\",children:\"CBD:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"mb-2 inline-block\",children:product.cbd||\"-\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold mb-1\",children:\"Effects:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"mb-2 inline-block\",children:product.effects||\"-\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold mb-1\",children:\"Usage:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"mb-2 inline-block\",children:product.usage||\"-\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 mt-24 pt-12\",children:/*#__PURE__*/_jsx(ReviewSection,{productId:product.id,onAdd:onAddReview,productList:productList,isAdmin:false,onDelete:()=>{}})})]});}","map":{"version":3,"names":["React","useState","ReviewSection","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductDetailPage","_ref","product","reviews","onAddReview","onSave","isAdmin","onBack","productList","editDesc","setEditDesc","description","editing","setEditing","reviewText","setReviewText","reviewError","setReviewError","handleSave","trim","_objectSpread","handleAddReview","length","id","className","children","onClick","src","image","alt","name","price","value","onChange","e","target","rows","thc","cbd","effects","usage","productId","onAdd","onDelete"],"sources":["C:/RR_V3/src/components/ProductDetailPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport ReviewSection from \"./ReviewSection\";\n\nexport default function ProductDetailPage({ product, reviews, onAddReview, onSave, isAdmin, onBack, productList = [] }) {\n  const [editDesc, setEditDesc] = useState(product.description || \"\");\n  const [editing, setEditing] = useState(false);\n  const [reviewText, setReviewText] = useState(\"\");\n  const [reviewError, setReviewError] = useState(\"\");\n\n  const handleSave = () => {\n    if (editDesc.trim()) {\n      onSave({ ...product, description: editDesc });\n      setEditing(false);\n    }\n  };\n\n  const handleAddReview = () => {\n    if (reviewText.trim().length < 5) {\n      setReviewError(\"Review must be at least 5 characters.\");\n      return;\n    }\n    onAddReview(product.id, reviewText.trim());\n    setReviewText(\"\");\n    setReviewError(\"\");\n  };\n\n  return (\n    <div className=\"max-w-3xl mx-auto p-6 bg-white rounded-lg shadow-lg mt-12 mb-8\">\n      <button className=\"mb-10 text-green-700 hover:underline\" onClick={onBack}>&larr; Back to Store</button>\n      <div className=\"flex flex-col md:flex-row gap-12\">\n        <img src={product.image} alt={product.name} className=\"w-full md:w-80 h-80 object-cover rounded\" />\n        <div className=\"flex-1\">\n          <h2 className=\"text-3xl font-bold mb-4\">{product.name}</h2>\n          <div className=\"mb-6 text-lg text-green-700 font-semibold\">${product.price}</div>\n          <div className=\"mb-8\">\n            {editing ? (\n              <>\n                <textarea\n                  className=\"w-full p-2 border rounded mb-2\"\n                  value={editDesc}\n                  onChange={e => setEditDesc(e.target.value)}\n                  rows={4}\n                />\n                <div className=\"flex gap-2\">\n                  <button className=\"bg-green-700 text-white px-4 py-1 rounded\" onClick={handleSave}>Save</button>\n                  <button className=\"bg-gray-200 text-gray-700 px-4 py-1 rounded\" onClick={() => setEditing(false)}>Cancel</button>\n                </div>\n              </>\n            ) : (\n              <>\n                <p className=\"mb-2 text-gray-700\">{product.description}</p>\n                {isAdmin && <button className=\"text-xs text-green-700 underline\" onClick={() => setEditing(true)}>Edit Description</button>}\n              </>\n            )}\n          </div>\n          <div className=\"mb-8\">\n            <div className=\"font-semibold mb-1\">THC:</div> <span className=\"mb-2 inline-block\">{product.thc || \"-\"}</span>\n            <div className=\"font-semibold mb-1\">CBD:</div> <span className=\"mb-2 inline-block\">{product.cbd || \"-\"}</span>\n            <div className=\"font-semibold mb-1\">Effects:</div> <span className=\"mb-2 inline-block\">{product.effects || \"-\"}</span>\n            <div className=\"font-semibold mb-1\">Usage:</div> <span className=\"mb-2 inline-block\">{product.usage || \"-\"}</span>\n          </div>\n        </div>\n      </div>\n      {/* Reviews */}\n      <div className=\"border-t border-gray-200 mt-24 pt-12\">\n        <ReviewSection\n          productId={product.id}\n          onAdd={onAddReview}\n          productList={productList}\n          isAdmin={false}\n          onDelete={() => {}}\n        />\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}