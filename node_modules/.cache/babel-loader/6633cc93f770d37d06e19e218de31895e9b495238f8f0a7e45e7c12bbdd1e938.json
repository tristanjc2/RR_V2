{"ast":null,"code":"import React,{useState}from\"react\";import ProductCard from\"./ProductCard\";import AdminProductForm from\"./AdminProductForm\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CATEGORY_CONFIG={Flower:[\"Indica\",\"Hybrid\",\"Sativa\"],Concentrate:[\"Shatter\",\"Badder\",\"Terps\"],Edible:[\"Brownie\",\"Cookie\",\"Drink\"]};export default function StorePage(_ref){let{products,isAdmin,onAdd,onEdit,onDelete,onSelect=()=>{}}=_ref;const[showAddProduct,setShowAddProduct]=useState(false);const[editProduct,setEditProduct]=useState(null);const[selectedCategory,setSelectedCategory]=useState(\"\");const[selectedSubcategory,setSelectedSubcategory]=useState(\"\");// Group products by category and subcategory\nconst grouped={};Object.keys(CATEGORY_CONFIG).forEach(cat=>{grouped[cat]={};CATEGORY_CONFIG[cat].forEach(sub=>{grouped[cat][sub]=products.filter(p=>p.category===cat&&p.subcategory===sub);});});// Filtering logic\nconst visibleCategories=selectedCategory?[selectedCategory]:Object.keys(CATEGORY_CONFIG);return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 py-12\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-10 text-center\",children:\"Reaper Resins Store\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-6 justify-center mb-8\",children:Object.keys(CATEGORY_CONFIG).map(cat=>/*#__PURE__*/_jsx(\"button\",{className:\"text-xl md:text-2xl px-8 py-4 rounded-lg shadow font-bold transition border-2 border-green-700 \".concat(selectedCategory===cat?\"bg-green-700 text-black\":\"bg-white text-green-700 hover:bg-green-700 hover:text-white\"),onClick:()=>{setSelectedCategory(cat===selectedCategory?\"\":cat);setSelectedSubcategory(\"\");},children:cat},cat))}),selectedCategory&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4 justify-center mb-8\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"px-6 py-2 rounded-full border-2 border-green-500 font-semibold transition \".concat(!selectedSubcategory?\"bg-green-700 text-black\":\"bg-green-50 text-green-700 hover:bg-green-700 hover:text-white\"),onClick:()=>setSelectedSubcategory(\"\"),children:[\"All \",selectedCategory,\"s\"]}),CATEGORY_CONFIG[selectedCategory].map(subcat=>/*#__PURE__*/_jsx(\"button\",{className:\"px-6 py-2 rounded-full border-2 border-green-500 font-semibold transition \".concat(selectedSubcategory===subcat?\"bg-green-700 text-black\":\"bg-green-50 text-green-700 hover:bg-green-700 hover:text-white\"),onClick:()=>setSelectedSubcategory(subcat),children:subcat},subcat))]}),isAdmin&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mb-6\",children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-700 text-white px-6 py-2 rounded shadow hover:bg-green-800\",onClick:()=>setShowAddProduct(true),children:\"Add Product\"})}),visibleCategories.map(cat=>/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-6 border-b-2 border-green-700 pb-2\",children:cat}),(selectedCategory?[selectedSubcategory||\"ALL\"]:CATEGORY_CONFIG[cat]).map(sub=>{if(sub===\"ALL\"){// Show all subcategories in this category\nreturn CATEGORY_CONFIG[cat].map(sub2=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-semibold mb-4 text-green-700\",children:sub2}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8\",children:grouped[cat][sub2].map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product,isAdmin:isAdmin,onEdit:(id,updated)=>setEditProduct({id,updated,orig:product}),onDelete:onDelete},product.id))})]},sub2));}return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-semibold mb-4 text-green-700\",children:sub}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8\",children:grouped[cat][sub].map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product,isAdmin:isAdmin,onSelect:onSelect,onEdit:(id,updated)=>setEditProduct({id,updated,orig:product}),onDelete:onDelete},product.id))})]},sub);})]},cat)),showAddProduct&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(AdminProductForm,{onSave:onAdd,onCancel:()=>setShowAddProduct(false)})}),editProduct&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(AdminProductForm,{product:editProduct.orig,onSave:updated=>{onEdit(editProduct.orig.id,updated);setEditProduct(null);},onCancel:()=>setEditProduct(null)})})]});}","map":{"version":3,"names":["React","useState","ProductCard","AdminProductForm","jsx","_jsx","jsxs","_jsxs","CATEGORY_CONFIG","Flower","Concentrate","Edible","StorePage","_ref","products","isAdmin","onAdd","onEdit","onDelete","onSelect","showAddProduct","setShowAddProduct","editProduct","setEditProduct","selectedCategory","setSelectedCategory","selectedSubcategory","setSelectedSubcategory","grouped","Object","keys","forEach","cat","sub","filter","p","category","subcategory","visibleCategories","className","children","map","concat","onClick","subcat","sub2","product","id","updated","orig","onSave","onCancel"],"sources":["C:/Users/trist/OneDrive/Desktop/RR_V3/src/components/StorePage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport ProductCard from \"./ProductCard\";\n\nimport AdminProductForm from \"./AdminProductForm\";\n\nconst CATEGORY_CONFIG = {\n  Flower: [\"Indica\", \"Hybrid\", \"Sativa\"],\n  Concentrate: [\"Shatter\", \"Badder\", \"Terps\"],\n  Edible: [\"Brownie\", \"Cookie\", \"Drink\"],\n};\n\nexport default function StorePage({\n  products,\n  isAdmin,\n  onAdd,\n  onEdit,\n  onDelete,\n  onSelect = () => {},\n}) {\n  const [showAddProduct, setShowAddProduct] = useState(false);\n  const [editProduct, setEditProduct] = useState(null);\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [selectedSubcategory, setSelectedSubcategory] = useState(\"\");\n\n  // Group products by category and subcategory\n  const grouped = {};\n  Object.keys(CATEGORY_CONFIG).forEach(cat => {\n    grouped[cat] = {};\n    CATEGORY_CONFIG[cat].forEach(sub => {\n      grouped[cat][sub] = products.filter(p => p.category === cat && p.subcategory === sub);\n    });\n  });\n\n  // Filtering logic\n  const visibleCategories = selectedCategory ? [selectedCategory] : Object.keys(CATEGORY_CONFIG);\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 py-12\">\n      <h1 className=\"text-4xl font-bold mb-10 text-center\">Reaper Resins Store</h1>\n      {/* Category Selector */}\n      <div className=\"flex flex-wrap gap-6 justify-center mb-8\">\n        {Object.keys(CATEGORY_CONFIG).map((cat) => (\n          <button\n            key={cat}\n            className={`text-xl md:text-2xl px-8 py-4 rounded-lg shadow font-bold transition border-2 border-green-700 ${selectedCategory === cat ? \"bg-green-700 text-black\" : \"bg-white text-green-700 hover:bg-green-700 hover:text-white\"}`}\n            onClick={() => {\n              setSelectedCategory(cat === selectedCategory ? \"\" : cat);\n              setSelectedSubcategory(\"\");\n            }}\n          >\n            {cat}\n          </button>\n        ))}\n      </div>\n      {/* Subcategory Selector */}\n      {selectedCategory && (\n        <div className=\"flex flex-wrap gap-4 justify-center mb-8\">\n          <button\n            className={`px-6 py-2 rounded-full border-2 border-green-500 font-semibold transition ${!selectedSubcategory ? \"bg-green-700 text-black\" : \"bg-green-50 text-green-700 hover:bg-green-700 hover:text-white\"}`}\n            onClick={() => setSelectedSubcategory(\"\")}\n          >\n            All {selectedCategory}s\n          </button>\n          {CATEGORY_CONFIG[selectedCategory].map((subcat) => (\n            <button\n              key={subcat}\n              className={`px-6 py-2 rounded-full border-2 border-green-500 font-semibold transition ${selectedSubcategory === subcat ? \"bg-green-700 text-black\" : \"bg-green-50 text-green-700 hover:bg-green-700 hover:text-white\"}`}\n              onClick={() => setSelectedSubcategory(subcat)}\n            >\n              {subcat}\n            </button>\n          ))}\n        </div>\n      )}\n      {isAdmin && (\n        <div className=\"flex justify-end mb-6\">\n          <button\n            className=\"bg-green-700 text-white px-6 py-2 rounded shadow hover:bg-green-800\"\n            onClick={() => setShowAddProduct(true)}\n          >\n            Add Product\n          </button>\n        </div>\n      )}\n      {visibleCategories.map(cat => (\n        <section key={cat} className=\"mb-12\">\n          <h2 className=\"text-3xl font-bold mb-6 border-b-2 border-green-700 pb-2\">{cat}</h2>\n          {(selectedCategory ? [selectedSubcategory || \"ALL\"] : CATEGORY_CONFIG[cat]).map(sub => {\n            if (sub === \"ALL\") {\n              // Show all subcategories in this category\n              return CATEGORY_CONFIG[cat].map(sub2 => (\n                <div key={sub2} className=\"mb-8\">\n                  <h3 className=\"text-2xl font-semibold mb-4 text-green-700\">{sub2}</h3>\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8\">\n                    {grouped[cat][sub2].map(product => (\n                      <ProductCard\n                        key={product.id}\n                        product={product}\n                        isAdmin={isAdmin}\n                        onEdit={(id, updated) => setEditProduct({ id, updated, orig: product })}\n                        onDelete={onDelete}\n                      />\n                    ))}\n                  </div>\n                </div>\n              ));\n            }\n            return (\n              <div key={sub} className=\"mb-8\">\n                <h3 className=\"text-2xl font-semibold mb-4 text-green-700\">{sub}</h3>\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8\">\n                  {grouped[cat][sub].map(product => (\n                    <ProductCard\n                      key={product.id}\n                      product={product}\n                      isAdmin={isAdmin}\n                      onSelect={onSelect}\n                      onEdit={(id, updated) => setEditProduct({ id, updated, orig: product })}\n                      onDelete={onDelete}\n                    />\n                  ))}\n                </div>\n              </div>\n            );\n          })}\n        </section>\n      ))}\n      {/* Add/Edit Product Modals */}\n      {showAddProduct && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <AdminProductForm onSave={onAdd} onCancel={() => setShowAddProduct(false)} />\n        </div>\n      )}\n      {editProduct && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <AdminProductForm\n            product={editProduct.orig}\n            onSave={updated => {\n              onEdit(editProduct.orig.id, updated);\n              setEditProduct(null);\n            }}\n            onCancel={() => setEditProduct(null)}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}