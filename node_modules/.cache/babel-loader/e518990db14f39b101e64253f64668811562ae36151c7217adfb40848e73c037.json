{"ast":null,"code":"import React,{useState}from\"react\";import ProductCard from\"./ProductCard\";import AdminProductForm from\"./AdminProductForm\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CATEGORY_CONFIG={Flower:[\"Indica\",\"Hybrid\",\"Sativa\"],Concentrate:[\"Shatter\",\"Badder\",\"Terps\"],Edible:[\"Brownie\",\"Cookie\",\"Drink\"]};export default function StorePage(_ref){let{products,isAdmin,onAdd,onEdit,onDelete,onSelect=()=>{}}=_ref;const[showAddProduct,setShowAddProduct]=useState(false);const[editProduct,setEditProduct]=useState(null);const[selectedCategory,setSelectedCategory]=useState(\"\");const[selectedSubcategory,setSelectedSubcategory]=useState(\"\");// Group products by category and subcategory\nconst grouped={};Object.keys(CATEGORY_CONFIG).forEach(cat=>{grouped[cat]={};CATEGORY_CONFIG[cat].forEach(sub=>{grouped[cat][sub]=products.filter(p=>p.category===cat&&p.subcategory===sub);});});// Filtering logic\nconst visibleCategories=selectedCategory?[selectedCategory]:Object.keys(CATEGORY_CONFIG);return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-2 sm:px-4 py-6 sm:py-12\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-extrabold mb-12 text-center tracking-tight drop-shadow-lg\",children:\"Reaper Resins Store\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-4 justify-center mb-10 sticky top-0 z-20 bg-opacity-80 backdrop-blur rounded-xl py-4\",children:Object.keys(CATEGORY_CONFIG).map(cat=>/*#__PURE__*/_jsx(\"button\",{className:\"px-7 py-3 rounded-full font-semibold border-2 transition-all duration-150 shadow-sm text-lg md:text-xl mx-1 mb-2 focus:outline-none \".concat(selectedCategory===cat?\"bg-green-700 text-white border-green-700 scale-105\":\"bg-white text-green-700 border-green-700 hover:bg-green-700 hover:text-white\"),onClick:()=>{setSelectedCategory(cat===selectedCategory?\"\":cat);setSelectedSubcategory(\"\");},children:cat},cat))}),selectedCategory&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 justify-center mb-10\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"px-5 py-2 rounded-full border-2 font-medium transition-all duration-150 shadow-sm text-base md:text-lg mx-1 mb-2 focus:outline-none \".concat(!selectedSubcategory?\"bg-green-700 text-white border-green-700 scale-105\":\"bg-white text-green-700 border-green-500 hover:bg-green-700 hover:text-white\"),onClick:()=>setSelectedSubcategory(\"\"),children:[\"All \",selectedCategory,\"s\"]}),CATEGORY_CONFIG[selectedCategory].map(subcat=>/*#__PURE__*/_jsx(\"button\",{className:\"px-5 py-2 rounded-full border-2 font-medium transition-all duration-150 shadow-sm text-base md:text-lg mx-1 mb-2 focus:outline-none \".concat(selectedSubcategory===subcat?\"bg-green-700 text-white border-green-700 scale-105\":\"bg-white text-green-700 border-green-500 hover:bg-green-700 hover:text-white\"),onClick:()=>setSelectedSubcategory(subcat),children:subcat},subcat))]}),isAdmin&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mb-6\",children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-700 text-white px-6 py-2 rounded shadow hover:bg-green-800\",onClick:()=>setShowAddProduct(true),children:\"Add Product\"})}),visibleCategories.map(cat=>/*#__PURE__*/_jsxs(\"section\",{className:\"mb-16\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-3xl font-extrabold mb-8 border-b-4 border-green-700 pb-3 pl-1 tracking-tight flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-block w-3 h-3 rounded-full bg-green-700 mr-2\"}),cat]}),Object.keys(CATEGORY_CONFIG[cat]).map(subIdx=>{const subcat=CATEGORY_CONFIG[cat][subIdx];const productsToShow=selectedSubcategory?grouped[cat][selectedSubcategory]:grouped[cat][subcat];return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold mb-5 text-green-600 tracking-wide uppercase flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-block w-2 h-2 rounded-full bg-green-400 mr-2\"}),subcat]}),productsToShow.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 italic text-center py-8 border border-dashed border-gray-200 rounded-lg bg-gray-50\",children:\"No products available in this category yet. Check back soon!\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8\",children:productsToShow.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product,isAdmin:isAdmin,onSelect:onSelect,onEdit:(id,updated)=>setEditProduct({id,updated,orig:product}),onDelete:onDelete},product.id))})]},subcat);})]},cat)),showAddProduct&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(AdminProductForm,{onSave:onAdd,onCancel:()=>setShowAddProduct(false)})}),editProduct&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(AdminProductForm,{product:editProduct.orig,onSave:updated=>{onEdit(editProduct.orig.id,updated);setEditProduct(null);},onCancel:()=>setEditProduct(null)})})]});}","map":{"version":3,"names":["React","useState","ProductCard","AdminProductForm","jsx","_jsx","jsxs","_jsxs","CATEGORY_CONFIG","Flower","Concentrate","Edible","StorePage","_ref","products","isAdmin","onAdd","onEdit","onDelete","onSelect","showAddProduct","setShowAddProduct","editProduct","setEditProduct","selectedCategory","setSelectedCategory","selectedSubcategory","setSelectedSubcategory","grouped","Object","keys","forEach","cat","sub","filter","p","category","subcategory","visibleCategories","className","children","map","concat","onClick","subcat","subIdx","productsToShow","length","product","id","updated","orig","onSave","onCancel"],"sources":["C:/RR_V3/src/components/StorePage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport ProductCard from \"./ProductCard\";\n\nimport AdminProductForm from \"./AdminProductForm\";\n\nconst CATEGORY_CONFIG = {\n  Flower: [\"Indica\", \"Hybrid\", \"Sativa\"],\n  Concentrate: [\"Shatter\", \"Badder\", \"Terps\"],\n  Edible: [\"Brownie\", \"Cookie\", \"Drink\"],\n};\n\nexport default function StorePage({\n  products,\n  isAdmin,\n  onAdd,\n  onEdit,\n  onDelete,\n  onSelect = () => {},\n}) {\n  const [showAddProduct, setShowAddProduct] = useState(false);\n  const [editProduct, setEditProduct] = useState(null);\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [selectedSubcategory, setSelectedSubcategory] = useState(\"\");\n\n  // Group products by category and subcategory\n  const grouped = {};\n  Object.keys(CATEGORY_CONFIG).forEach(cat => {\n    grouped[cat] = {};\n    CATEGORY_CONFIG[cat].forEach(sub => {\n      grouped[cat][sub] = products.filter(p => p.category === cat && p.subcategory === sub);\n    });\n  });\n\n  // Filtering logic\n  const visibleCategories = selectedCategory ? [selectedCategory] : Object.keys(CATEGORY_CONFIG);\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-2 sm:px-4 py-6 sm:py-12\">\n      <h1 className=\"text-4xl font-extrabold mb-12 text-center tracking-tight drop-shadow-lg\">Reaper Resins Store</h1>\n      {/* Category Selector */}\n      <div className=\"flex flex-wrap gap-4 justify-center mb-10 sticky top-0 z-20 bg-opacity-80 backdrop-blur rounded-xl py-4\">\n        {Object.keys(CATEGORY_CONFIG).map((cat) => (\n          <button\n            key={cat}\n            className={`px-7 py-3 rounded-full font-semibold border-2 transition-all duration-150 shadow-sm text-lg md:text-xl mx-1 mb-2 focus:outline-none ${selectedCategory === cat ? \"bg-green-700 text-white border-green-700 scale-105\" : \"bg-white text-green-700 border-green-700 hover:bg-green-700 hover:text-white\"}`}\n            onClick={() => {\n              setSelectedCategory(cat === selectedCategory ? \"\" : cat);\n              setSelectedSubcategory(\"\");\n            }}\n          >\n            {cat}\n          </button>\n        ))}\n      </div>\n      {/* Subcategory Selector */}\n      {selectedCategory && (\n        <div className=\"flex flex-wrap gap-2 justify-center mb-10\">\n          <button\n            className={`px-5 py-2 rounded-full border-2 font-medium transition-all duration-150 shadow-sm text-base md:text-lg mx-1 mb-2 focus:outline-none ${!selectedSubcategory ? \"bg-green-700 text-white border-green-700 scale-105\" : \"bg-white text-green-700 border-green-500 hover:bg-green-700 hover:text-white\"}`}\n            onClick={() => setSelectedSubcategory(\"\")}\n          >\n            All {selectedCategory}s\n          </button>\n          {CATEGORY_CONFIG[selectedCategory].map((subcat) => (\n            <button\n              key={subcat}\n              className={`px-5 py-2 rounded-full border-2 font-medium transition-all duration-150 shadow-sm text-base md:text-lg mx-1 mb-2 focus:outline-none ${selectedSubcategory === subcat ? \"bg-green-700 text-white border-green-700 scale-105\" : \"bg-white text-green-700 border-green-500 hover:bg-green-700 hover:text-white\"}`}\n              onClick={() => setSelectedSubcategory(subcat)}\n            >\n              {subcat}\n            </button>\n          ))}\n        </div>\n      )}\n      {isAdmin && (\n        <div className=\"flex justify-end mb-6\">\n          <button\n            className=\"bg-green-700 text-white px-6 py-2 rounded shadow hover:bg-green-800\"\n            onClick={() => setShowAddProduct(true)}\n          >\n            Add Product\n          </button>\n        </div>\n      )}\n      {visibleCategories.map((cat) => (\n        <section key={cat} className=\"mb-16\">\n          <h2 className=\"text-3xl font-extrabold mb-8 border-b-4 border-green-700 pb-3 pl-1 tracking-tight flex items-center gap-2\">\n            <span className=\"inline-block w-3 h-3 rounded-full bg-green-700 mr-2\"></span>{cat}\n          </h2>\n          {Object.keys(CATEGORY_CONFIG[cat]).map((subIdx) => {\n            const subcat = CATEGORY_CONFIG[cat][subIdx];\n            const productsToShow = selectedSubcategory\n              ? grouped[cat][selectedSubcategory]\n              : grouped[cat][subcat];\n            return (\n              <div key={subcat} className=\"mb-12\">\n                <h3 className=\"text-xl font-bold mb-5 text-green-600 tracking-wide uppercase flex items-center gap-2\">\n                  <span className=\"inline-block w-2 h-2 rounded-full bg-green-400 mr-2\"></span>{subcat}\n                </h3>\n                {productsToShow.length === 0 ? (\n                  <div className=\"text-gray-400 italic text-center py-8 border border-dashed border-gray-200 rounded-lg bg-gray-50\">\n                    No products available in this category yet. Check back soon!\n                  </div>\n                ) : (\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8\">\n                    {productsToShow.map((product) => (\n                      <ProductCard\n                        key={product.id}\n                        product={product}\n                        isAdmin={isAdmin}\n                        onSelect={onSelect}\n                        onEdit={(id, updated) => setEditProduct({ id, updated, orig: product })}\n                        onDelete={onDelete}\n                      />\n                    ))}\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </section>\n      ))}\n      {/* Add/Edit Product Modals */}\n      {showAddProduct && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <AdminProductForm onSave={onAdd} onCancel={() => setShowAddProduct(false)} />\n        </div>\n      )}\n      {editProduct && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <AdminProductForm\n            product={editProduct.orig}\n            onSave={updated => {\n              onEdit(editProduct.orig.id, updated);\n              setEditProduct(null);\n            }}\n            onCancel={() => setEditProduct(null)}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}