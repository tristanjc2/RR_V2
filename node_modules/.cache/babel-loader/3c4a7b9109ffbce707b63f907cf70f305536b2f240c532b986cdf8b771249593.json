{"ast":null,"code":"import _objectSpread from\"C:/RR_V3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Firestore CRUD for reviews\nimport{collection,addDoc,getDocs,deleteDoc,doc,query,orderBy}from\"firebase/firestore\";import{db}from\"./firebase\";const REVIEWS_COLLECTION=\"reviews\";export async function fetchReviews(){const q=query(collection(db,REVIEWS_COLLECTION),orderBy(\"date\",\"desc\"));const snapshot=await getDocs(q);return snapshot.docs.map(docSnap=>_objectSpread({id:docSnap.id},docSnap.data()));}export async function addReview(review){// Add server timestamp if you want, or use local date\nreturn await addDoc(collection(db,REVIEWS_COLLECTION),_objectSpread(_objectSpread({},review),{},{date:new Date().toISOString()}));}export async function deleteReview(id){return await deleteDoc(doc(db,REVIEWS_COLLECTION,id));}","map":{"version":3,"names":["collection","addDoc","getDocs","deleteDoc","doc","query","orderBy","db","REVIEWS_COLLECTION","fetchReviews","q","snapshot","docs","map","docSnap","_objectSpread","id","data","addReview","review","date","Date","toISOString","deleteReview"],"sources":["C:/RR_V3/src/firebaseReviews.js"],"sourcesContent":["// Firestore CRUD for reviews\nimport { collection, addDoc, getDocs, deleteDoc, doc, query, orderBy } from \"firebase/firestore\";\nimport { db } from \"./firebase\";\n\nconst REVIEWS_COLLECTION = \"reviews\";\n\nexport async function fetchReviews() {\n  const q = query(collection(db, REVIEWS_COLLECTION), orderBy(\"date\", \"desc\"));\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map(docSnap => ({ id: docSnap.id, ...docSnap.data() }));\n}\n\nexport async function addReview(review) {\n  // Add server timestamp if you want, or use local date\n  return await addDoc(collection(db, REVIEWS_COLLECTION), {\n    ...review,\n    date: new Date().toISOString()\n  });\n}\n\nexport async function deleteReview(id) {\n  return await deleteDoc(doc(db, REVIEWS_COLLECTION, id));\n}\n"],"mappings":"6FAAA;AACA,OAASA,UAAU,CAAEC,MAAM,CAAEC,OAAO,CAAEC,SAAS,CAAEC,GAAG,CAAEC,KAAK,CAAEC,OAAO,KAAQ,oBAAoB,CAChG,OAASC,EAAE,KAAQ,YAAY,CAE/B,KAAM,CAAAC,kBAAkB,CAAG,SAAS,CAEpC,MAAO,eAAe,CAAAC,YAAYA,CAAA,CAAG,CACnC,KAAM,CAAAC,CAAC,CAAGL,KAAK,CAACL,UAAU,CAACO,EAAE,CAAEC,kBAAkB,CAAC,CAAEF,OAAO,CAAC,MAAM,CAAE,MAAM,CAAC,CAAC,CAC5E,KAAM,CAAAK,QAAQ,CAAG,KAAM,CAAAT,OAAO,CAACQ,CAAC,CAAC,CACjC,MAAO,CAAAC,QAAQ,CAACC,IAAI,CAACC,GAAG,CAACC,OAAO,EAAAC,aAAA,EAAOC,EAAE,CAAEF,OAAO,CAACE,EAAE,EAAKF,OAAO,CAACG,IAAI,CAAC,CAAC,CAAG,CAAC,CAC9E,CAEA,MAAO,eAAe,CAAAC,SAASA,CAACC,MAAM,CAAE,CACtC;AACA,MAAO,MAAM,CAAAlB,MAAM,CAACD,UAAU,CAACO,EAAE,CAAEC,kBAAkB,CAAC,CAAAO,aAAA,CAAAA,aAAA,IACjDI,MAAM,MACTC,IAAI,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,EAC/B,CAAC,CACJ,CAEA,MAAO,eAAe,CAAAC,YAAYA,CAACP,EAAE,CAAE,CACrC,MAAO,MAAM,CAAAb,SAAS,CAACC,GAAG,CAACG,EAAE,CAAEC,kBAAkB,CAAEQ,EAAE,CAAC,CAAC,CACzD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}