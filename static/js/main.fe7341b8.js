/*! For license information please see main.fe7341b8.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},150:(e,t,n)=>{n.d(t,{MF:()=>de,j6:()=>ae,xZ:()=>oe,om:()=>se,Sx:()=>fe,Wp:()=>he,KO:()=>pe});var r=n(812),i=n(443),s=n(529),a=n(555);let o,l;const c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return y(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(v(this),n),y(c.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(e.apply(v(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(v(this),t,...r);return d.set(s,t.sort?t.sort():[t]),y(s)}}function g(e){return"function"===typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});u.set(e,t)}(e),t=e,(o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,p):e);var t}function y(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(y(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&c.set(t,e)}).catch(()=>{}),f.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=g(e);return t!==e&&(h.set(e,t),f.set(t,e)),t}const v=e=>f.get(e);const b=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],x=new Map;function _(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(x.get(t))return x.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return x.set(t,s),s}p=(e=>(0,a.A)((0,a.A)({},e),{},{get:(t,n,r)=>_(t,n)||e.get(t,n,r),has:(t,n)=>!!_(t,n)||e.has(t,n)}))(p);class k{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const S="@firebase/app",E="0.13.1",C=new i.Vy("@firebase/app"),T="@firebase/app-compat",A="@firebase/analytics-compat",N="@firebase/analytics",I="@firebase/app-check-compat",P="@firebase/app-check",R="@firebase/auth",j="@firebase/auth-compat",D="@firebase/database",O="@firebase/data-connect",L="@firebase/database-compat",M="@firebase/functions",V="@firebase/functions-compat",F="@firebase/installations",U="@firebase/installations-compat",z="@firebase/messaging",B="@firebase/messaging-compat",H="@firebase/performance",W="@firebase/performance-compat",q="@firebase/remote-config",K="@firebase/remote-config-compat",G="@firebase/storage",Z="@firebase/storage-compat",Q="@firebase/firestore",Y="@firebase/ai",$="@firebase/firestore-compat",X="firebase",J="[DEFAULT]",ee={[S]:"fire-core",[T]:"fire-core-compat",[N]:"fire-analytics",[A]:"fire-analytics-compat",[P]:"fire-app-check",[I]:"fire-app-check-compat",[R]:"fire-auth",[j]:"fire-auth-compat",[D]:"fire-rtdb",[O]:"fire-data-connect",[L]:"fire-rtdb-compat",[M]:"fire-fn",[V]:"fire-fn-compat",[F]:"fire-iid",[U]:"fire-iid-compat",[z]:"fire-fcm",[B]:"fire-fcm-compat",[H]:"fire-perf",[W]:"fire-perf-compat",[q]:"fire-rc",[K]:"fire-rc-compat",[G]:"fire-gcs",[Z]:"fire-gcs-compat",[Q]:"fire-fst",[$]:"fire-fst-compat",[Y]:"fire-vertex","fire-js":"fire-js",[X]:"fire-js-all"},te=new Map,ne=new Map,re=new Map;function ie(e,t){try{e.container.addComponent(t)}catch(n){C.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function se(e){const t=e.name;if(re.has(t))return C.debug("There were multiple attempts to register component ".concat(t,".")),!1;re.set(t,e);for(const n of te.values())ie(n,e);for(const n of ne.values())ie(n,e);return!0}function ae(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function oe(e){return null!==e&&void 0!==e&&void 0!==e.settings}const le={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ce=new s.FA("app","Firebase",le);class ue{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}const de="11.9.0";function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:J,automaticDataCollectionEnabled:!0},t),a=i.name;if("string"!==typeof a||!a)throw ce.create("bad-app-name",{appName:String(a)});if(n||(n=(0,s.T9)()),!n)throw ce.create("no-options");const o=te.get(a);if(o){if((0,s.bD)(n,o.options)&&(0,s.bD)(i,o.config))return o;throw ce.create("duplicate-app",{appName:a})}const l=new r.h1(a);for(const r of re.values())l.addComponent(r);const c=new ue(n,i,l);return te.set(a,c),c}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;const t=te.get(e);if(!t&&e===J&&(0,s.T9)())return he();if(!t)throw ce.create("no-app",{appName:e});return t}function pe(e,t,n){var i;let s=null!==(i=ee[e])&&void 0!==i?i:e;n&&(s+="-".concat(n));const a=s.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void C.warn(e.join(" "))}se(new r.uA("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const me="firebase-heartbeat-store";let ge=null;function ye(){return ge||(ge=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=y(a);return r&&a.addEventListener("upgradeneeded",e=>{r(y(a.result),e.oldVersion,e.newVersion,y(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(me)}catch(n){console.warn(n)}}}).catch(e=>{throw ce.create("idb-open",{originalErrorMessage:e.message})})),ge}async function ve(e,t){try{const n=(await ye()).transaction(me,"readwrite"),r=n.objectStore(me);await r.put(t,be(e)),await n.done}catch(n){if(n instanceof s.g)C.warn(n.message);else{const e=ce.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});C.warn(e.message)}}}function be(e){return"".concat(e.name,"!").concat(e.options.appId)}class we{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _e(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xe();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){C.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=xe(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ke(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ke(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return C.warn(t),""}}}function xe(){return(new Date).toISOString().substring(0,10)}class _e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ye()).transaction(me),n=await t.objectStore(me).get(be(e));return await t.done,n}catch(t){if(t instanceof s.g)C.warn(t.message);else{const e=ce.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});C.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ve(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ve(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ke(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var Se;Se="",se(new r.uA("platform-logger",e=>new k(e),"PRIVATE")),se(new r.uA("heartbeat",e=>new we(e),"PRIVATE")),pe(S,E,Se),pe(S,E,"esm2017"),pe("fire-js","")},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},175:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+A(l,0):s,x(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(a,t,i,"",function(e){return e})):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+A(o=e[c],c);l+=N(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=N(o=o.value,t,i,u=s+A(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},j={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:j,ReactCurrentOwner:k};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,j(_);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,v(C),C=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,E=null,C=-1,T=5,A=-1;function N(){return!(t.unstable_now()-A<T)}function I(){if(null!==E){var e=t.unstable_now();A=e;var n=!0;try{n=E(!0,e)}finally{n?k():(S=!1,E=null)}}else S=!1}if("function"===typeof b)k=function(){b(I)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=I,k=function(){R.postMessage(null)}}else k=function(){y(I,0)};function j(e){E=e,S||(S=!0,k())}function D(e,n){C=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,j(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(C),C=-1):g=!0,D(x,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,j(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.H=r.createRoot,r.hydrateRoot},443:(e,t,n)=>{n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},a=i.INFO,o={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=o[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},470:(e,t,n)=>{n.r(t),n.d(t,{addReview:()=>o,deleteReview:()=>d,fetchReviews:()=>l,fetchReviewsByUserId:()=>c,updateReview:()=>u});var r=n(555),i=n(791),s=n(472);const a=(0,s.rJ)(i.db,"reviews"),o=async e=>{try{await(0,s.gS)(a,(0,r.A)((0,r.A)({},e),{},{timestamp:(0,s.O5)()}))}catch(t){throw console.error("Error adding review: ",t),new Error("Failed to submit review.")}},l=async()=>{try{return(await(0,s.GG)(a)).docs.map(e=>(0,r.A)({id:e.id},e.data()))}catch(e){throw console.error("Error fetching reviews: ",e),new Error("Failed to load reviews.")}},c=async e=>{if(!e)return[];try{const t=(0,s.P)(a,(0,s._M)("userId","==",e));return(await(0,s.GG)(t)).docs.map(e=>(0,r.A)({id:e.id},e.data()))}catch(t){throw console.error("Error fetching user reviews: ",t),new Error("Failed to load your reviews.")}},u=async(e,t)=>{try{const n=(0,s.H9)(i.db,"reviews",e);await(0,s.mZ)(n,(0,r.A)((0,r.A)({},t),{},{lastUpdated:(0,s.O5)()}))}catch(n){throw console.error("Error updating review: ",n),new Error("Failed to update review.")}},d=async e=>{try{const t=(0,s.H9)(i.db,"reviews",e);await(0,s.kd)(t)}catch(t){throw console.error("Error deleting review: ",t),new Error("Failed to delete review.")}}},472:(e,t,n)=>{n.d(t,{gS:()=>oc,C3:()=>hc,hq:()=>dc,rJ:()=>Yo,kd:()=>ac,H9:()=>$o,x7:()=>tc,GG:()=>rc,aU:()=>nl,P:()=>zl,O5:()=>uc,BN:()=>ic,mZ:()=>sc,_M:()=>Hl});var r,i,s=n(150),a=n(812),o=n(443),l=n(529),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function s(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function o(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new s([0|e],0>e?-1:0)}):new s([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(0>e)return m(l(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new s(t,0)}var c=o(0),d=o(1),h=o(16777216);function f(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function m(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new s(n,~e.h).add(d)}function g(e,t){return e.add(m(t))}function y(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function v(e,t){this.g=e,this.h=t}function b(e,t){if(f(t))throw Error("division by zero");if(f(e))return new v(c,c);if(p(e))return t=b(m(e),t),new v(m(t.g),m(t.h));if(p(t))return t=b(e,m(t)),new v(m(t.g),t.h);if(30<e.g.length){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=d,r=t;0>=r.l(e);)n=w(n),r=w(r);var i=x(n,1),s=x(r,1);for(r=x(r,2),n=x(n,2);!f(r);){var a=s.add(r);0>=a.l(e)&&(i=i.add(n),s=a),r=x(r,1),n=x(n,1)}return t=g(e,i.j(t)),new v(i,t)}for(i=c;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=l(n)).j(t);p(a)||0<a.l(e);)a=(s=l(n-=r)).j(t);f(s)&&(s=d),i=i.add(s),e=g(e,a)}return new v(i,e)}function w(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new s(n,e.h)}function x(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new s(i,e.h)}(e=s.prototype).m=function(){if(p(this))return-m(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(p(this))return"-"+m(this).toString(e);for(var t=l(Math.pow(e,6)),n=this,r="";;){var i=b(n,t).g,s=((0<(n=g(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(f(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=g(this,e))?-1:f(e)?0:1},e.abs=function(){return p(this)?m(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new s(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(f(this)||f(e))return c;if(p(this))return p(e)?m(this).j(m(e)):m(m(this).j(e));if(p(e))return m(this.j(m(e)));if(0>this.l(h)&&0>e.l(h))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.i(r)>>>16,o=65535&this.i(r),u=e.i(i)>>>16,d=65535&e.i(i);n[2*r+2*i]+=o*d,y(n,2*r+2*i),n[2*r+2*i+1]+=a*d,y(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,y(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,y(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new s(n,0)},e.A=function(e){return b(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new s(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new s(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new s(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,i=u.Md5=t,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return m(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=l(Math.pow(n,8)),i=c,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=l(Math.pow(n,a)),i=i.j(a).add(l(o))):i=(i=i.j(r)).add(l(o))}return i},r=u.Integer=s}).apply("undefined"!==typeof c?c:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var d,h,f,p,m,g,y,v,b="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function x(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function _(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function k(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function S(e){return/^[\s\xa0]*$/.test(e)}function E(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function C(e){return C[" "](e),e}C[" "]=function(){};var T=-1!=E().indexOf("Gecko")&&!(-1!=E().toLowerCase().indexOf("webkit")&&-1==E().indexOf("Edge"))&&!(-1!=E().indexOf("Trident")||-1!=E().indexOf("MSIE"))&&-1==E().indexOf("Edge");function A(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function N(e){const t={};for(const n in e)t[n]=e[n];return t}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<I.length;t++)n=I[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function R(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function j(e){i.setTimeout(()=>{throw e},0)}function D(){var e=F;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var O=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new L,e=>e.reset());class L{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let M,V=!1,F=new class{constructor(){this.h=this.g=null}add(e,t){const n=O.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},U=()=>{const e=i.Promise.resolve(void 0);M=()=>{e.then(z)}};var z=()=>{for(var e;e=D();){try{e.h.call(e.g)}catch(n){j(n)}var t=O;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}V=!1};function B(){this.s=this.s,this.C=this.C}function H(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},H.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function q(e,t){if(H.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(T){e:{try{C(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:K[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&q.aa.h.call(this)}}x(q,H);var K={2:"touch",3:"pen",4:"mouse"};q.prototype.h=function(){q.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),Z=0;function Q(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Z,this.da=this.fa=!1}function Y(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e){this.src=e,this.g={},this.h=0}function X(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Y(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function J(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}$.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=J(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Q(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var ee="closure_lm_"+(1e6*Math.random()|0),te={};function ne(e,t,n,r,i){if(r&&r.once)return ie(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ne(e,t[s],n,r,i);return null}return n=de(n),e&&e[G]?e.K(t,n,a(r)?!!r.capture:!!r,i):re(e,t,n,!1,r,i)}function re(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=ce(e);if(l||(e[ee]=l=new $(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=le;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)W||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(oe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ie(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ie(e,t[s],n,r,i);return null}return n=de(n),e&&e[G]?e.L(t,n,a(r)?!!r.capture:!!r,i):re(e,t,n,!0,r,i)}function se(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)se(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=de(n),e&&e[G]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=J(s=e.g[t],n,r,i))&&(Y(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=ce(e))&&(t=e.g[t.toString()],e=-1,t&&(e=J(t,n,r,i)),(n=-1<e?t[e]:null)&&ae(n))}function ae(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[G])X(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(oe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ce(t))?(X(n,e),0==n.h&&(n.src=null,t[ee]=null)):Y(e)}}}function oe(e){return e in te?te[e]:te[e]="on"+e}function le(e,t){if(e.da)e=!0;else{t=new q(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&ae(e),e=n.call(r,t)}return e}function ce(e){return(e=e[ee])instanceof $?e:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(e){return"function"===typeof e?e:(e[ue]||(e[ue]=function(t){return e.handleEvent(t)}),e[ue])}function he(){B.call(this),this.i=new $(this),this.M=this,this.F=null}function fe(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new H(t,e);else if(t instanceof H)t.target=t.target||e;else{var i=t;P(t=new H(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=pe(a,r,!0,t)&&i}if(i=pe(a=t.g=e,r,!0,t)&&i,i=pe(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=pe(a=t.g=n[s],r,!1,t)&&i}function pe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&X(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function me(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ge(e){e.g=me(()=>{e.g=null,e.i&&(e.i=!1,ge(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}x(he,B),he.prototype[G]=!0,he.prototype.removeEventListener=function(e,t,n,r){se(this,e,t,n,r)},he.prototype.N=function(){if(he.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Y(n[r]);delete t.g[e],t.h--}}this.F=null},he.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},he.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ye extends B{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ge(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ve(e){B.call(this),this.h=e,this.g={}}x(ve,B);var be=[];function we(e){A(e.g,function(e,t){this.g.hasOwnProperty(t)&&ae(e)},e),e.g={}}ve.prototype.N=function(){ve.aa.N.call(this),we(this)},ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=i.JSON.stringify,_e=i.JSON.parse,ke=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function Se(){}function Ee(e){return e.h||(e.h=e.i())}function Ce(){}Se.prototype.h=null;var Te={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ae(){H.call(this,"d")}function Ne(){H.call(this,"c")}x(Ae,H),x(Ne,H);var Ie={},Pe=null;function Re(){return Pe=Pe||new he}function je(e){H.call(this,Ie.La,e)}function De(e){const t=Re();fe(t,new je(t))}function Oe(e,t){H.call(this,Ie.STAT_EVENT,e),this.stat=t}function Le(e){const t=Re();fe(t,new Oe(t,e))}function Me(e,t){H.call(this,Ie.Ma,e),this.size=t}function Ve(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Fe(){this.g=!0}function Ue(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return xe(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}Ie.La="serverreachability",x(je,H),Ie.STAT_EVENT="statevent",x(Oe,H),Ie.Ma="timingevent",x(Me,H),Fe.prototype.xa=function(){this.g=!1},Fe.prototype.info=function(){};var ze,Be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},He={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function We(){}function qe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ve(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ke}function Ke(){this.i=null,this.g="",this.h=!1}x(We,Se),We.prototype.g=function(){return new XMLHttpRequest},We.prototype.i=function(){return{}},ze=new We;var Ge={},Ze={};function Qe(e,t,n){e.L=1,e.v=xt(gt(t)),e.m=n,e.P=!0,Ye(e,null)}function Ye(e,t){e.F=Date.now(),Je(e),e.A=gt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Dt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Ke,e.g=_n(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ye(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(be[0]=i.toString()),i=be);for(var s=0;s<i.length;s++){var a=ne(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?N(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),De(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function $e(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Xe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ze:(n=Number(t.substring(n,r)),isNaN(n)?Ge:(r+=1)+n>t.length?Ze:(t=t.slice(r,r+n),e.C=r+n,t))}function Je(e){e.S=Date.now()+e.I,et(e,e.I)}function et(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ve(c(e.ba,e),t)}function tt(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function nt(e){0==e.j.G||e.J||yn(e.j,e)}function rt(e){tt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,we(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function it(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||ct(n.h,e)))if(!e.K&&ct(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;gn(n),an(n)}fn(n),Le(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ve(c(n.Za,n),6e3));if(1>=lt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else bn(n,11)}else if((e.K||n.g==e)&&gn(n),!S(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ut(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,wt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=xn(r,r.J?r.ia:null,r.W),a.K){dt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(tt(o),Je(o)),r.g=a}else hn(r);0<n.i.length&&ln(n)}else"stop"!=c[0]&&"close"!=c[0]||bn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?bn(n,7):sn(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}De()}catch(u){}}qe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==en(e)?t.j():this.Y(e)},qe.prototype.Y=function(e){try{if(e==this.g)e:{const h=en(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||tn(this.g)))){this.J||4!=h||7==t||De(),tt(this);var n=this.g.Z();this.X=n;t:if($e(this)){var r=tn(this.g);e="";var s=r.length,a=4==en(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){rt(this),nt(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Le(12),rt(this),nt(this);break e}Ue(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,it(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Xe(this,o),e==Ze){4==h&&(this.s=4,Le(14),n=!1),Ue(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ge){this.s=4,Le(15),Ue(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ue(this.i,this.l,e,null),it(this,e)}if($e(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Le(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),pn(d),d.M=!0,Le(11))}}else Ue(this.i,this.l,o,"[Invalid Chunked Response]"),rt(this),nt(this)}else Ue(this.i,this.l,o,null),it(this,o);4==h&&rt(this),this.o&&!this.J&&(4==h?yn(this.j,this):(this.o=!1,Je(this)))}else(function(e){const t={};e=(e.g&&2<=en(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(S(e[r]))continue;var n=R(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Le(12)):(this.s=0,Le(13)),rt(this),nt(this)}}}catch(h){}},qe.prototype.cancel=function(){this.J=!0,rt(this)},qe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(De(),Le(17)),rt(this),this.s=2,nt(this)):et(this,this.S-e)};var st=class{constructor(e,t){this.g=e,this.map=t}};function at(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ot(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lt(e){return e.h?1:e.g?e.g.size:0}function ct(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ut(e,t){e.g?e.g.add(t):e.h=t}function dt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ht(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return _(e.i)}function ft(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}at.prototype.cancel=function(){if(this.i=ht(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof mt){this.h=e.h,yt(this,e.j),this.o=e.o,this.g=e.g,vt(this,e.s),this.l=e.l;var t=e.i,n=new It;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),bt(this,n),this.m=e.m}else e&&(t=String(e).match(pt))?(this.h=!1,yt(this,t[1]||"",!0),this.o=_t(t[2]||""),this.g=_t(t[3]||"",!0),vt(this,t[4]),this.l=_t(t[5]||"",!0),bt(this,t[6]||"",!0),this.m=_t(t[7]||"")):(this.h=!1,this.i=new It(null,this.h))}function gt(e){return new mt(e)}function yt(e,t,n){e.j=n?_t(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function bt(e,t,n){t instanceof It?(e.i=t,function(e,t){t&&!e.j&&(Pt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Rt(this,t),Dt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=kt(t,At)),e.i=new It(t,e.h))}function wt(e,t,n){e.i.set(t,n)}function xt(e){return wt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function _t(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function kt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,St),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function St(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}mt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(kt(t,Et,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(kt(t,Et,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(kt(n,"/"==n.charAt(0)?Tt:Ct,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",kt(n,Nt)),e.join("")};var Et=/[#\/\?@]/g,Ct=/[#\?:]/g,Tt=/[#\?]/g,At=/[#\?@]/g,Nt=/#/g;function It(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Rt(e,t){Pt(e),t=Ot(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function jt(e,t){return Pt(e),t=Ot(e,t),e.g.has(t)}function Dt(e,t,n){Rt(e,t),0<n.length&&(e.i=null,e.g.set(Ot(e,t),_(n)),e.h+=n.length)}function Ot(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Lt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Mt(){this.g=new ke}function Vt(e,t,n){const r=n||"";try{ft(e,function(e,n){let i=e;a(e)&&(i=xe(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ft(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ut(e,t){he.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function zt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Bt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ht(e)}function Ht(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Wt(e){let t="";return A(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function qt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Wt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):wt(e,t,n))}function Kt(e){he.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=It.prototype).add=function(e,t){Pt(this),this.i=null,e=Ot(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Pt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Pt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Pt(this);let t=[];if("string"===typeof e)jt(this,e)&&(t=t.concat(this.g.get(Ot(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Pt(this),this.i=null,jt(this,e=Ot(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},x(Ft,Se),Ft.prototype.g=function(){return new Ut(this.l,this.j)},Ft.prototype.i=function(e){return function(){return e}}({}),x(Ut,he),(e=Ut.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ht(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ht(this)),this.g&&(this.readyState=3,Ht(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Bt(this):Ht(this),3==this.readyState&&zt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Bt(this))},e.Qa=function(e){this.g&&(this.response=e,Bt(this))},e.ga=function(){this.g&&Bt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ut.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),x(Kt,he);var Gt=/^https?$/i,Zt=["POST","PUT"];function Qt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Yt(e),Xt(e)}function Yt(e){e.A||(e.A=!0,fe(e,"complete"),fe(e,"error"))}function $t(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=en(e)||2!=e.Z()))if(e.u&&4==en(e))me(e.Ea,0,e);else if(fe(e,"readystatechange"),4==en(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(pt)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Gt.test(a?a.toLowerCase():"")}n=s}if(n)fe(e,"complete"),fe(e,"success");else{e.m=6;try{var o=2<en(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Yt(e)}}finally{Xt(e)}}}function Xt(e,t){if(e.g){Jt(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||fe(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Jt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function en(e){return e.g?e.g.readyState:0}function tn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function nn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function rn(e){this.Aa=0,this.i=[],this.j=new Fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nn("baseRetryDelayMs",5e3,e),this.cb=nn("retryDelaySeedMs",1e4,e),this.Wa=nn("forwardChannelMaxRetries",2,e),this.wa=nn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new at(e&&e.concurrentRequestLimit),this.Da=new Mt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function sn(e){if(on(e),3==e.G){var t=e.U++,n=gt(e.I);if(wt(n,"SID",e.K),wt(n,"RID",t),wt(n,"TYPE","terminate"),un(e,n),(t=new qe(e,e.j,t)).L=2,t.v=xt(gt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=_n(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Je(t)}wn(e)}function an(e){e.g&&(pn(e),e.g.cancel(),e.g=null)}function on(e){an(e),e.u&&(i.clearTimeout(e.u),e.u=null),gn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function ln(e){if(!ot(e.h)&&!e.s){e.s=!0;var t=e.Ga;M||U(),V||(M(),V=!0),F.add(t,e),e.B=0}}function cn(e,t){var n;n=t?t.l:e.U++;const r=gt(e.I);wt(r,"SID",e.K),wt(r,"RID",n),wt(r,"AID",e.T),un(e,r),e.m&&e.o&&qt(r,e.m,e.o),n=new qe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=dn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ut(e.h,n),Qe(n,r,t)}function un(e,t){e.H&&A(e.H,function(e,n){wt(t,n,e)}),e.l&&ft({},function(e,n){wt(t,n,e)})}function dn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{Vt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function hn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;M||U(),V||(M(),V=!0),F.add(t,e),e.v=0}}function fn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ve(c(e.Fa,e),vn(e,e.v)),e.v++,!0)}function pn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function mn(e){e.g=new qe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=gt(e.qa);wt(t,"RID","rpc"),wt(t,"SID",e.K),wt(t,"AID",e.T),wt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&wt(t,"TO",e.ja),wt(t,"TYPE","xmlhttp"),un(e,t),e.m&&e.o&&qt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=xt(gt(t)),n.m=null,n.P=!0,Ye(n,e)}function gn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function yn(e,t){var n=null;if(e.g==t){gn(e),pn(e),e.g=null;var r=2}else{if(!ct(e.h,t))return;n=t.D,dt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;fe(r=Re(),new Me(r,n)),ln(e)}else hn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(lt(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ve(c(e.Ga,e,t),vn(e,e.B)),e.B++,!0))}(e,t)||2==r&&fn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:bn(e,5);break;case 4:bn(e,10);break;case 3:bn(e,6);break;default:bn(e,2)}}function vn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function bn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new mt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||yt(r,"https"),xt(r),t?function(e,t){const n=new Fe;if(i.Image){const r=new Image;r.onload=u(Lt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Lt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Lt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Lt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Fe;const n=new AbortController,r=setTimeout(()=>{n.abort(),Lt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Lt(0,0,!0,t):Lt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Lt(0,0,!1,t)})}(r.toString(),n)}else Le(2);e.G=0,e.l&&e.l.sa(t),wn(e),on(e)}function wn(e){if(e.G=0,e.ka=[],e.l){const t=ht(e.h);0==t.length&&0==e.i.length||(k(e.ka,t),k(e.ka,e.i),e.h.i.length=0,_(e.i),e.i.length=0),e.l.ra()}}function xn(e,t,n){var r=n instanceof mt?gt(n):new mt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),vt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new mt(null);r&&yt(a,r),t&&(a.g=t),s&&vt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&wt(r,n,t),wt(r,"VER",e.la),un(e,r),r}function _n(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Kt(new Ft({eb:n})):new Kt(e.pa)).Ha(e.J),t}function kn(){}function Sn(){}function En(e,t){he.call(this),this.g=new rn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!S(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!S(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new An(this)}function Cn(e){Ae.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Tn(){Ne.call(this),this.status=1}function An(e){this.g=e}(e=Kt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ze.g(),this.v=this.o?Ee(this.o):Ee(ze),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Qt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Zt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Qt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,fe(this,"complete"),fe(this,"abort"),Xt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),Kt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$t(this):this.bb())},e.bb=function(){$t(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<en(this)?this.g.status:-1}catch(Vp){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Vp){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_e(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=rn.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Le(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=xn(this,null,this.W),ln(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new qe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=N(s),P(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=dn(this,i,t),wt(n=gt(this.I),"RID",e),wt(n,"CVER",22),this.D&&wt(n,"X-HTTP-Session-Id",this.D),un(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Wt(s)))+"&"+t:this.m&&qt(n,this.m,s)),ut(this.h,i),this.Ua&&wt(n,"TYPE","init"),this.P?(wt(n,"$req",t),wt(n,"SID","null"),i.T=!0,Qe(i,n,null)):Qe(i,n,t),this.G=2}}else 3==this.G&&(e?cn(this,e):0==this.i.length||ot(this.h)||cn(this))},e.Fa=function(){if(this.u=null,mn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ve(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Le(10),an(this),mn(this))},e.Za=function(){null!=this.C&&(this.C=null,an(this),fn(this),Le(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=kn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Sn.prototype.g=function(e,t){return new En(e,t)},x(En,he),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){sn(this.g)},En.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=xe(e),e=n);t.i.push(new st(t.Ya++,e)),3==t.G&&ln(t)},En.prototype.N=function(){this.g.l=null,delete this.j,sn(this.g),delete this.g,En.aa.N.call(this)},x(Cn,Ae),x(Tn,Ne),x(An,kn),An.prototype.ua=function(){fe(this.g,"a")},An.prototype.ta=function(e){fe(this.g,new Cn(e))},An.prototype.sa=function(e){fe(this.g,new Tn)},An.prototype.ra=function(){fe(this.g,"b")},Sn.prototype.createWebChannel=Sn.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,v=w.createWebChannelTransport=function(){return new Sn},y=w.getStatEventTarget=function(){return Re()},g=w.Event=Ie,m=w.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Be.NO_ERROR=0,Be.TIMEOUT=8,Be.HTTP_ERROR=6,p=w.ErrorCode=Be,He.COMPLETE="complete",f=w.EventType=He,Ce.EventType=Te,Te.OPEN="a",Te.CLOSE="b",Te.ERROR="c",Te.MESSAGE="d",he.prototype.listen=he.prototype.K,h=w.WebChannel=Ce,w.FetchXmlHttpFactory=Ft,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,d=w.XhrIo=Kt}).apply("undefined"!==typeof b?b:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const x="@firebase/firestore",_="4.7.17";class k{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}k.UNAUTHENTICATED=new k(null),k.GOOGLE_CREDENTIALS=new k("google-credentials-uid"),k.FIRST_PARTY=new k("first-party-uid"),k.MOCK_USER=new k("mock-user");let S="11.9.0";const E=new o.Vy("@firebase/firestore");function C(){return E.logLevel}function T(e){if(E.logLevel<=o.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(I);E.debug("Firestore (".concat(S,"): ").concat(e),...i)}}function A(e){if(E.logLevel<=o.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(I);E.error("Firestore (".concat(S,"): ").concat(e),...i)}}function N(e){if(E.logLevel<=o.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(I);E.warn("Firestore (".concat(S,"): ").concat(e),...i)}}function I(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(Op){return e}}function P(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,R(e,r,n)}function R(e,t,n){let r="FIRESTORE (".concat(S,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw A(r),new Error(r)}function j(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||R(t,i,r)}function D(e,t){return e}const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends l.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class M{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class V{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class F{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(k.UNAUTHENTICATED))}shutdown(){}}class U{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class z{constructor(e){this.t=e,this.currentUser=k.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){j(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new M;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new M,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new M)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(j("string"==typeof t.accessToken,31837,{l:t}),new V(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e,2055,{h:e}),new k(e)}}class B{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=k.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new B(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(k.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,s.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){j(void 0===this.o,3512);const n=e=>{null!=e.error&&T("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,T("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new W(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(j("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new W(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function K(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function G(){return new TextEncoder}class Z{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=K(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Q(e,t){return e<t?-1:e>t?1:0}function Y(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Q(r,i);{const s=G(),a=X(s.encode($(e,n)),s.encode($(t,n)));return 0!==a?a:Q(r,i)}}n+=r>65535?2:1}return Q(e.length,t.length)}function $(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function X(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Q(e[n],t[n]);return Q(e.length,t.length)}function J(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const ee=-62135596800,te=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*te);return new ne(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ee)throw new L(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/te}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ee;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class re{static fromTimestamp(e){return new re(e)}static min(){return new re(new ne(0,0))}static max(){return new re(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ie="__name__";class se{constructor(e,t,n){void 0===t?t=0:t>e.length&&P(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&P(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===se.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof se?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=se.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Q(e.length,t.length)}static compareSegments(e,t){const n=se.isNumericId(e),r=se.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?se.extractNumericId(e).compare(se.extractNumericId(t)):Y(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class ae extends se{construct(e,t,n){return new ae(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new L(O.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new ae(e)}static emptyPath(){return new ae([])}}const oe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class le extends se{construct(e,t,n){return new le(e,t,n)}static isValidIdentifier(e){return oe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),le.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ie}static keyField(){return new le([ie])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new L(O.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new L(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new L(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new L(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new le(t)}static emptyPath(){return new le([])}}class ce{constructor(e){this.path=e}static fromPath(e){return new ce(ae.fromString(e))}static fromName(e){return new ce(ae.fromString(e).popFirst(5))}static empty(){return new ce(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ae.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ae.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new ae(e.slice()))}}const ue=-1;class de{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}de.UNKNOWN_ID=-1;function he(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=re.fromTimestamp(1e9===r?new ne(n+1,0):new ne(n,r));return new pe(i,ce.empty(),t)}function fe(e){return new pe(e.readTime,e.key,ue)}class pe{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new pe(re.min(),ce.empty(),ue)}static max(){return new pe(re.max(),ce.empty(),ue)}}function me(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ce.comparator(e.documentKey,t.documentKey),0!==n?n:Q(e.largestBatchId,t.largestBatchId))}const ge="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ye{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function ve(e){if(e.code!==O.FAILED_PRECONDITION||e.message!==ge)throw e;T("LocalStore","Unexpectedly lost primary lease")}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&P(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(e){return be.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):be.reject(t)}static resolve(e){return new be((t,n)=>{t(e)})}static reject(e){return new be((t,n)=>{n(e)})}static waitFor(e){return new be((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=be.resolve(!1);for(const n of e)t=t.next(e=>e?be.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new be((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new be((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function we(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xe(e){return"IndexedDbTransactionError"===e.name}class _e{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}_e.le=-1;const ke=-1;function Se(e){return null==e}function Ee(e){return 0===e&&1/e==-1/0}function Ce(e){return"number"==typeof e&&Number.isInteger(e)&&!Ee(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Te="\x01";function Ae(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ie(t)),t=Ne(e.get(n),t);return Ie(t)}function Ne(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Te:n+="\x01\x11";break;default:n+=t}}return n}function Ie(e){return e+Te+"\x01"}const Pe="remoteDocuments",Re="owner",je="mutationQueues",De="mutations";const Oe="documentMutations",Le="remoteDocumentsV14",Me="remoteDocumentGlobal",Ve="targets",Fe="targetDocuments",Ue="targetGlobal",ze="collectionParents",Be="clientMetadata",He="bundles",We="namedQueries",qe="indexConfiguration",Ke="indexState",Ge="indexEntries",Ze="documentOverlays",Qe="globals",Ye=[je,De,Oe,Pe,Ve,Re,Ue,Fe,Be,Me,ze,He,We],$e=[je,De,Oe,Le,Ve,Re,Ue,Fe,Be,Me,ze,He,We,Ze],Xe=$e,Je=[...Xe,qe,Ke,Ge];function et(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function tt(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class rt{constructor(e,t){this.comparator=e,this.root=t||st.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new it(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new it(this.root,e,this.comparator,!1)}getReverseIterator(){return new it(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new it(this.root,e,this.comparator,!0)}}class it{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:st.RED,this.left=null!=r?r:st.EMPTY,this.right=null!=i?i:st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new st(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return st.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw P(43730,{key:this.key,value:this.value});if(this.right.isRed())throw P(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw P(27949);return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1,st.EMPTY=new class{constructor(){this.size=0}get key(){throw P(57766)}get value(){throw P(16141)}get color(){throw P(16727)}get left(){throw P(29726)}get right(){throw P(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new st(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class at{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ot(this.data.getIterator())}getIteratorFrom(e){return new ot(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof at))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new at(this.comparator);return t.data=e,t}}class ot{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class lt{constructor(e){this.fields=e,e.sort(le.comparator)}static empty(){return new lt([])}unionWith(e){let t=new at(le.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new lt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return J(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class ct extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ct("Invalid base64 string: "+e):e}}(e);return new ut(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const dt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ht(e){if(j(!!e,39018),"string"==typeof e){let t=0;const n=dt.exec(e);if(j(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ft(e.seconds),nanos:ft(e.nanos)}}function ft(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function pt(e){return"string"==typeof e?ut.fromBase64String(e):ut.fromUint8Array(e)}const mt="server_timestamp",gt="__type__",yt="__previous_value__",vt="__local_write_time__";function bt(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[gt])||void 0===n?void 0:n.stringValue)===mt}function wt(e){const t=e.mapValue.fields[yt];return bt(t)?wt(t):t}function xt(e){const t=ht(e.mapValue.fields[vt].timestampValue);return new ne(t.seconds,t.nanos)}class _t{constructor(e,t,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const kt="(default)";class St{constructor(e,t){this.projectId=e,this.database=t||kt}static empty(){return new St("","")}get isDefaultDatabase(){return this.database===kt}isEqual(e){return e instanceof St&&e.projectId===this.projectId&&e.database===this.database}}const Et="__type__",Ct="__max__",Tt={mapValue:{fields:{__type__:{stringValue:Ct}}}},At="__vector__",Nt="value";function It(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bt(e)?4:Gt(e)?9007199254740991:qt(e)?10:11:P(28295,{value:e})}function Pt(e,t){if(e===t)return!0;const n=It(e);if(n!==It(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xt(e).isEqual(xt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ht(e.timestampValue),r=ht(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return pt(e.bytesValue).isEqual(pt(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ft(e.geoPointValue.latitude)===ft(t.geoPointValue.latitude)&&ft(e.geoPointValue.longitude)===ft(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ft(e.integerValue)===ft(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ft(e.doubleValue),r=ft(t.doubleValue);return n===r?Ee(n)===Ee(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return J(e.arrayValue.values||[],t.arrayValue.values||[],Pt);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(et(n)!==et(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pt(n[i],r[i])))return!1;return!0}(e,t);default:return P(52216,{left:e})}}function Rt(e,t){return void 0!==(e.values||[]).find(e=>Pt(e,t))}function jt(e,t){if(e===t)return 0;const n=It(e),r=It(t);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ft(e.integerValue||e.doubleValue),r=ft(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Dt(e.timestampValue,t.timestampValue);case 4:return Dt(xt(e),xt(t));case 5:return Y(e.stringValue,t.stringValue);case 6:return function(e,t){const n=pt(e),r=pt(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Q(n[i],r[i]);if(0!==e)return e}return Q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Q(ft(e.latitude),ft(t.latitude));return 0!==n?n:Q(ft(e.longitude),ft(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ot(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[Nt])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Nt])||void 0===r?void 0:r.arrayValue,u=Q((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Ot(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Tt.mapValue&&t===Tt.mapValue)return 0;if(e===Tt.mapValue)return 1;if(t===Tt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Y(r[a],s[a]);if(0!==e)return e;const t=jt(n[r[a]],i[s[a]]);if(0!==t)return t}return Q(r.length,s.length)}(e.mapValue,t.mapValue);default:throw P(23264,{Pe:n})}}function Dt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Q(e,t);const n=ht(e),r=ht(t),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function Ot(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=jt(n[i],r[i]);if(e)return e}return Q(n.length,r.length)}function Lt(e){return Mt(e)}function Mt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ht(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return pt(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ce.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Mt(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Mt(e.fields[i]));return n+"}"}(e.mapValue):P(61005,{value:e})}function Vt(e){switch(It(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=wt(e);return t?16+Vt(t):16;case 5:return 2*e.stringValue.length;case 6:return pt(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Vt(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return tt(e.fields,(e,n)=>{t+=e.length+Vt(n)}),t}(e.mapValue);default:throw P(13486,{value:e})}}function Ft(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ut(e){return!!e&&"integerValue"in e}function zt(e){return!!e&&"arrayValue"in e}function Bt(e){return!!e&&"nullValue"in e}function Ht(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wt(e){return!!e&&"mapValue"in e}function qt(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Et])||void 0===n?void 0:n.stringValue)===At}function Kt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return tt(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Kt(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Kt(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Gt(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ct}class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Wt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kt(t)}setAll(e){let t=le.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Kt(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Wt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Wt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){tt(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Zt(Kt(this.value))}}function Qt(e){const t=[];return tt(e.fields,(e,n)=>{const r=new le([e]);if(Wt(n)){const e=Qt(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new lt(t)}class Yt{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Yt(e,0,re.min(),re.min(),re.min(),Zt.empty(),0)}static newFoundDocument(e,t,n,r){return new Yt(e,1,t,re.min(),n,r,0)}static newNoDocument(e,t){return new Yt(e,2,t,re.min(),re.min(),Zt.empty(),0)}static newUnknownDocument(e,t){return new Yt(e,3,t,re.min(),re.min(),Zt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class $t{constructor(e,t){this.position=e,this.inclusive=t}}function Xt(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?ce.comparator(ce.fromName(a.referenceValue),n.key):jt(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Jt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Pt(e.position[n],t.position[n]))return!1;return!0}class en{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function tn(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class nn{}class rn extends nn{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new hn(e,t,n):"array-contains"===t?new gn(e,n):"in"===t?new yn(e,n):"not-in"===t?new vn(e,n):"array-contains-any"===t?new bn(e,n):new rn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new fn(e,n):new pn(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(jt(t,this.value)):null!==t&&It(this.value)===It(t)&&this.matchesComparison(jt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sn extends nn{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new sn(e,t)}matches(e){return an(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function an(e){return"and"===e.op}function on(e){return ln(e)&&an(e)}function ln(e){for(const t of e.filters)if(t instanceof sn)return!1;return!0}function cn(e){if(e instanceof rn)return e.field.canonicalString()+e.op.toString()+Lt(e.value);if(on(e))return e.filters.map(e=>cn(e)).join(",");{const t=e.filters.map(e=>cn(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function un(e,t){return e instanceof rn?function(e,t){return t instanceof rn&&e.op===t.op&&e.field.isEqual(t.field)&&Pt(e.value,t.value)}(e,t):e instanceof sn?function(e,t){return t instanceof sn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&un(n,t.filters[r]),!0)}(e,t):void P(19439)}function dn(e){return e instanceof rn?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Lt(e.value))}(e):e instanceof sn?function(e){return e.op.toString()+" {"+e.getFilters().map(dn).join(" ,")+"}"}(e):"Filter"}class hn extends rn{constructor(e,t,n){super(e,t,n),this.key=ce.fromName(n.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class fn extends rn{constructor(e,t){super(e,"in",t),this.keys=mn("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pn extends rn{constructor(e,t){super(e,"not-in",t),this.keys=mn("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ce.fromName(e.referenceValue))}class gn extends rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zt(t)&&Rt(t.arrayValue,this.value)}}class yn extends rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Rt(this.value.arrayValue,t)}}class vn extends rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Rt(this.value.arrayValue,t)}}class bn extends rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Rt(this.value.arrayValue,e))}}class wn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Ie=null}}function xn(e){return new wn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function _n(e){const t=D(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>cn(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Se(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Lt(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Lt(e)).join(",")),t.Ie=e}return t.Ie}function kn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!tn(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!un(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Jt(e.startAt,t.startAt)&&Jt(e.endAt,t.endAt)}function Sn(e){return ce.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class En{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Cn(e,t,n,r,i,s,a,o){return new En(e,t,n,r,i,s,a,o)}function Tn(e){return new En(e)}function An(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Nn(e){return null!==e.collectionGroup}function In(e){const t=D(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new at(le.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new en(r,n))}),e.has(le.keyField().canonicalString())||t.Ee.push(new en(le.keyField(),n))}return t.Ee}function Pn(e){const t=D(e);return t.de||(t.de=Rn(t,In(e))),t.de}function Rn(e,t){if("F"===e.limitType)return xn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new en(e.field,t)});const n=e.endAt?new $t(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new $t(e.startAt.position,e.startAt.inclusive):null;return xn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function jn(e,t){const n=e.filters.concat([t]);return new En(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Dn(e,t,n){return new En(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function On(e,t){return kn(Pn(e),Pn(t))&&e.limitType===t.limitType}function Ln(e){return"".concat(_n(Pn(e)),"|lt:").concat(e.limitType)}function Mn(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>dn(e)).join(", "),"]")),Se(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Lt(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Lt(e)).join(",")),"Target(".concat(t,")")}(Pn(e)),"; limitType=").concat(e.limitType,")")}function Vn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ce.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of In(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Xt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,In(e),t))&&!(e.endAt&&!function(e,t,n){const r=Xt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,In(e),t))}(e,t)}function Fn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Un(e){return(t,n)=>{let r=!1;for(const i of In(e)){const e=zn(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function zn(e,t,n){const r=e.field.isKeyField()?ce.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?jt(r,i):P(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return P(19790,{direction:e.dir})}}class Bn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){tt(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return nt(this.inner)}size(){return this.innerSize}}const Hn=new rt(ce.comparator);function Wn(){return Hn}const qn=new rt(ce.comparator);function Kn(){let e=qn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Gn(e){let t=qn;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Zn(){return Yn()}function Qn(){return Yn()}function Yn(){return new Bn(e=>e.toString(),(e,t)=>e.isEqual(t))}const $n=new rt(ce.comparator),Xn=new at(ce.comparator);function Jn(){let e=Xn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const er=new at(Q);function tr(){return er}function nr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ee(t)?"-0":t}}function rr(e){return{integerValue:""+e}}function ir(e,t){return Ce(t)?rr(t):nr(e,t)}class sr{constructor(){this._=void 0}}function ar(e,t,n){return e instanceof cr?function(e,t){const n={fields:{[gt]:{stringValue:mt},[vt]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&bt(t)&&(t=wt(t)),t&&(n.fields[yt]=t),{mapValue:n}}(n,t):e instanceof ur?dr(e,t):e instanceof hr?fr(e,t):function(e,t){const n=lr(e,t),r=mr(n)+mr(e.Re);return Ut(n)&&Ut(e.Re)?rr(r):nr(e.serializer,r)}(e,t)}function or(e,t,n){return e instanceof ur?dr(e,t):e instanceof hr?fr(e,t):n}function lr(e,t){return e instanceof pr?function(e){return Ut(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class cr extends sr{}class ur extends sr{constructor(e){super(),this.elements=e}}function dr(e,t){const n=gr(t);for(const r of e.elements)n.some(e=>Pt(e,r))||n.push(r);return{arrayValue:{values:n}}}class hr extends sr{constructor(e){super(),this.elements=e}}function fr(e,t){let n=gr(t);for(const r of e.elements)n=n.filter(e=>!Pt(e,r));return{arrayValue:{values:n}}}class pr extends sr{constructor(e,t){super(),this.serializer=e,this.Re=t}}function mr(e){return ft(e.integerValue||e.doubleValue)}function gr(e){return zt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class yr{constructor(e,t){this.field=e,this.transform=t}}class vr{constructor(e,t){this.version=e,this.transformResults=t}}class br{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wr(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xr{}function _r(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Rr(e.key,br.none()):new Tr(e.key,e.data,br.none());{const n=e.data,r=Zt.empty();let i=new at(le.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ar(e.key,r,new lt(i.toArray()),br.none())}}function kr(e,t,n){e instanceof Tr?function(e,t,n){const r=e.value.clone(),i=Ir(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ar?function(e,t,n){if(!wr(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ir(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Nr(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Sr(e,t,n,r){return e instanceof Tr?function(e,t,n,r){if(!wr(e.precondition,t))return n;const i=e.value.clone(),s=Pr(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ar?function(e,t,n,r){if(!wr(e.precondition,t))return n;const i=Pr(e.fieldTransforms,r,t),s=t.data;return s.setAll(Nr(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return wr(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Er(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=lr(r.transform,e||null);null!=i&&(null===n&&(n=Zt.empty()),n.set(r.field,i))}return n||null}function Cr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&J(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ur&&t instanceof ur||e instanceof hr&&t instanceof hr?J(e.elements,t.elements,Pt):e instanceof pr&&t instanceof pr?Pt(e.Re,t.Re):e instanceof cr&&t instanceof cr}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Tr extends xr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ar extends xr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Nr(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ir(e,t,n){const r=new Map;j(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,or(a,o,n[i]))}return r}function Pr(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,ar(e,s,t))}return r}class Rr extends xr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jr extends xr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Dr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&kr(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Sr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Sr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Qn();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=_r(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(re.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jn())}isEqual(e){return this.batchId===e.batchId&&J(this.mutations,e.mutations,(e,t)=>Cr(e,t))&&J(this.baseMutations,e.baseMutations,(e,t)=>Cr(e,t))}}class Or{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){j(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=$n;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Or(e,t,n,r)}}class Lr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Mr{constructor(e,t){this.count=e,this.unchangedNames=t}}var Vr,Fr;function Ur(e){switch(e){case O.OK:return P(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return P(15467,{code:e})}}function zr(e){if(void 0===e)return A("GRPC error has no .code"),O.UNKNOWN;switch(e){case Vr.OK:return O.OK;case Vr.CANCELLED:return O.CANCELLED;case Vr.UNKNOWN:return O.UNKNOWN;case Vr.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Vr.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Vr.INTERNAL:return O.INTERNAL;case Vr.UNAVAILABLE:return O.UNAVAILABLE;case Vr.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Vr.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Vr.NOT_FOUND:return O.NOT_FOUND;case Vr.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Vr.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Vr.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Vr.ABORTED:return O.ABORTED;case Vr.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Vr.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Vr.DATA_LOSS:return O.DATA_LOSS;default:return P(39323,{code:e})}}(Fr=Vr||(Vr={}))[Fr.OK=0]="OK",Fr[Fr.CANCELLED=1]="CANCELLED",Fr[Fr.UNKNOWN=2]="UNKNOWN",Fr[Fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fr[Fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fr[Fr.NOT_FOUND=5]="NOT_FOUND",Fr[Fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fr[Fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fr[Fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fr[Fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fr[Fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fr[Fr.ABORTED=10]="ABORTED",Fr[Fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fr[Fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fr[Fr.INTERNAL=13]="INTERNAL",Fr[Fr.UNAVAILABLE=14]="UNAVAILABLE",Fr[Fr.DATA_LOSS=15]="DATA_LOSS";let Br=null;const Hr=new r([4294967295,4294967295],0);function Wr(e){const t=G().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function qr(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new r([n,i],0),new r([s,a],0)]}class Kr{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Gr("Invalid padding: ".concat(t));if(n<0)throw new Gr("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Gr("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Gr("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=r.fromNumber(this.pe)}we(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(Hr)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=Wr(e),[n,r]=qr(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Kr(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.pe)return;const t=Wr(e),[n,r]=qr(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Gr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zr{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Qr.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Zr(re.min(),r,new rt(Q),Wn(),Jn())}}class Qr{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Qr(n,t,Jn(),Jn(),Jn())}}class Yr{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class $r{constructor(e,t){this.targetId=e,this.Ce=t}}class Xr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ut.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Jr{constructor(){this.Fe=0,this.Me=ni(),this.xe=ut.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Jn(),t=Jn(),n=Jn();return this.Me.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:P(38017,{changeType:i})}}),new Qr(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=ni()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,j(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ei{constructor(e){this.ze=e,this.je=new Map,this.He=Wn(),this.Je=ti(),this.Ye=ti(),this.Ze=new rt(Q)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:P(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((e,n)=>{this.it(n)&&t(n)})}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(Sn(i))if(0===n){const e=new ce(i.path);this.tt(t,e,Yt.newNoDocument(e,re.min()))}else j(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==Br||Br.ht(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=pt(n).toUint8Array()}catch(e){if(e instanceof ct)return N("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Kr(s,r,i)}catch(e){return N(e instanceof Gr?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.pe?null:a}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.ze.Pt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.tt(t,n,null),r++)}),r}It(e){const t=new Map;this.je.forEach((n,r)=>{const i=this._t(r);if(i){if(n.current&&Sn(i.target)){const t=new ce(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,Yt.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}});let n=Jn();this.Ye.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.He.forEach((t,n)=>n.setReadTime(e));const r=new Zr(e,t,this.Ze,this.He,n);return this.He=Wn(),this.Je=ti(),this.Ye=ti(),this.Ze=new rt(Q),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Jr,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new at(Q),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new at(Q),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Jr),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ti(){return new rt(ce.comparator)}function ni(){return new rt(ce.comparator)}const ri={asc:"ASCENDING",desc:"DESCENDING"},ii={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},si={and:"AND",or:"OR"};class ai{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function oi(e,t){return e.useProto3Json||Se(t)?t:{value:t}}function li(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ci(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ui(e,t){return li(e,t.toTimestamp())}function di(e){return j(!!e,49232),re.fromTimestamp(function(e){const t=ht(e);return new ne(t.seconds,t.nanos)}(e))}function hi(e,t){return fi(e,t).canonicalString()}function fi(e,t){const n=function(e){return new ae(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function pi(e){const t=ae.fromString(e);return j(Di(t),10190,{key:t.toString()}),t}function mi(e,t){return hi(e.databaseId,t.path)}function gi(e,t){const n=pi(t);if(n.get(1)!==e.databaseId.projectId)throw new L(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ce(wi(n))}function yi(e,t){return hi(e.databaseId,t)}function vi(e){const t=pi(e);return 4===t.length?ae.emptyPath():wi(t)}function bi(e){return new ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wi(e){return j(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function xi(e,t,n){return{name:mi(e,t),fields:n.value.mapValue.fields}}function _i(e,t){let n;if(t instanceof Tr)n={update:xi(e,t.key,t.value)};else if(t instanceof Rr)n={delete:mi(e,t.key)};else if(t instanceof Ar)n={update:xi(e,t.key,t.data),updateMask:ji(t.fieldMask)};else{if(!(t instanceof jr))return P(16599,{ft:t.type});n={verify:mi(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof cr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ur)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof hr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof pr)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw P(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ui(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:P(27497)}(e,t.precondition)),n}function ki(e,t){return{documents:[yi(e,t.path)]}}function Si(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yi(e,i);const s=function(e){if(0!==e.length)return Ri(sn.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Ii(e.field),direction:Ti(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=oi(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function Ei(e){let t=vi(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Ci(e);return t instanceof sn&&on(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new en(Pi(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Se(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new $t(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new $t(n,t)}(n.endAt)),Cn(t,i,a,s,o,"F",l,c)}function Ci(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Pi(e.unaryFilter.field);return rn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Pi(e.unaryFilter.field);return rn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Pi(e.unaryFilter.field);return rn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Pi(e.unaryFilter.field);return rn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return P(61313);default:return P(60726)}}(e):void 0!==e.fieldFilter?function(e){return rn.create(Pi(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return P(58110);default:return P(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return sn.create(e.compositeFilter.filters.map(e=>Ci(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return P(1026)}}(e.compositeFilter.op))}(e):P(30097,{filter:e})}function Ti(e){return ri[e]}function Ai(e){return ii[e]}function Ni(e){return si[e]}function Ii(e){return{fieldPath:e.canonicalString()}}function Pi(e){return le.fromServerFormat(e.fieldPath)}function Ri(e){return e instanceof rn?function(e){if("=="===e.op){if(Ht(e.value))return{unaryFilter:{field:Ii(e.field),op:"IS_NAN"}};if(Bt(e.value))return{unaryFilter:{field:Ii(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ht(e.value))return{unaryFilter:{field:Ii(e.field),op:"IS_NOT_NAN"}};if(Bt(e.value))return{unaryFilter:{field:Ii(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ii(e.field),op:Ai(e.op),value:e.value}}}(e):e instanceof sn?function(e){const t=e.getFilters().map(e=>Ri(e));return 1===t.length?t[0]:{compositeFilter:{op:Ni(e.op),filters:t}}}(e):P(54877,{filter:e})}function ji(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Di(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Oi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:re.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:re.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ut.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Li{constructor(e){this.wt=e}}function Mi(e){const t=Ei({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Dn(t,t.limit,"L"):t}class Vi{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(ft(e.integerValue));else if("doubleValue"in e){const n=ft(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),Ee(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=ht(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(pt(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?Gt(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):qt(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):P(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const s=Nt,a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(ft(a)),this.Nt(s,t),this.Ct(i[s],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),ce.fromName(e).path.forEach(e=>{this.Mt(t,60),this.Kt(e,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Vi.Wt=new Vi;class Fi{constructor(){this.Cn=new Ui}addToCollectionParentIndex(e,t){return this.Cn.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve(pe.min())}getMinOffsetFromCollectionGroup(e,t){return be.resolve(pe.min())}updateCollectionGroup(e,t,n){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class Ui{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new at(ae.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new at(ae.comparator)).toArray()}}new Uint8Array(0);const zi={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bi=41943040;class Hi{static withCacheSize(e){return new Hi(e,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Hi.DEFAULT_COLLECTION_PERCENTILE=10,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hi.DEFAULT=new Hi(Bi,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hi.DISABLED=new Hi(-1,0,0);class Wi{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Wi(0)}static lr(){return new Wi(-1)}}const qi="LruGarbageCollector",Ki=1048576;function Gi(e,t){let[n,r]=e,[i,s]=t;const a=Q(n,i);return 0===a?Q(r,s):a}class Zi{constructor(e){this.Er=e,this.buffer=new at(Gi),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Gi(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Qi{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){T(qi,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){xe(e)?T(qi,"Ignoring IndexedDB error during garbage collection: ",e):await ve(e)}await this.mr(3e5)})}}class Yi{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return be.resolve(_e.le);const n=new Zi(t);return this.gr.forEachTarget(e,e=>n.Rr(e.sequenceNumber)).next(()=>this.gr.yr(e,e=>n.Rr(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(zi)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),zi):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,i,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(T("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),C()<=o.$b.DEBUG&&T("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(l-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-l)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function $i(e,t){return new Yi(e,t)}class Xi{constructor(){this.changes=new Bn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?be.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ji{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class es{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Sr(n.mutation,e,lt.empty(),ne.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Jn()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jn();const r=Zn();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Kn();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Zn();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Jn()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Wn();const s=Yn(),a=Yn();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ar)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Sr(a.mutation,t,a.mutation.getFieldMask(),ne.now())):s.set(t.key,lt.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Ji(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Yn();let r=new rt((e,t)=>e-t),i=Jn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||lt.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Jn()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Qn();l.forEach(e=>{if(!i.has(e)){const r=_r(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return be.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ce.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Nn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):be.resolve(Zn());let a=ue,o=i;return s.next(t=>be.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?be.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,Jn())).next(e=>({batchId:a,changes:Gn(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next(e=>{let t=Kn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Kn();return this.indexManager.getCollectionParents(e,i).next(a=>be.forEach(a,a=>{const o=function(e,t){return new En(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Yt.newInvalidDocument(r)))});let n=Kn();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Sr(s.mutation,r,lt.empty(),ne.now()),Vn(t,r)&&(n=n.insert(e,r))}),n})}}class ts{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return be.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:di(e.createTime)}}(t)),be.resolve()}getNamedQuery(e,t){return be.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:Mi(e.bundledQuery),readTime:di(e.readTime)}}(t)),be.resolve()}}class ns{constructor(){this.overlays=new rt(ce.comparator),this.Qr=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Zn();return be.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),be.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Qr.delete(n)),be.resolve()}getOverlaysForCollection(e,t,n){const r=Zn(),i=t.length+1,s=new ce(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return be.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new rt((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Zn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Zn(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return be.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Lr(t,n));let i=this.Qr.get(t);void 0===i&&(i=Jn(),this.Qr.set(t,i)),this.Qr.set(t,i.add(n.key))}}class rs{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,be.resolve()}}class is{constructor(){this.$r=new at(ss.Ur),this.Kr=new at(ss.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new ss(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.zr(new ss(e,t))}jr(e,t){e.forEach(e=>this.removeReference(e,t))}Hr(e){const t=new ce(new ae([])),n=new ss(t,e),r=new ss(t,e+1),i=[];return this.Kr.forEachInRange([n,r],e=>{this.zr(e),i.push(e.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ce(new ae([])),n=new ss(t,e),r=new ss(t,e+1);let i=Jn();return this.Kr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new ss(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ss{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ce.comparator(e.key,t.key)||Q(e.Zr,t.Zr)}static Wr(e,t){return Q(e.Zr,t.Zr)||ce.comparator(e.key,t.key)}}class as{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new at(ss.Ur)}checkEmpty(e){return be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Dr(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Xr=this.Xr.add(new ss(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return be.resolve(s)}lookupMutationBatch(e,t){return be.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),i=r<0?0:r;return be.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.mutationQueue.length?ke:this.nr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ss(t,0),r=new ss(t,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([n,r],e=>{const t=this.ei(e.Zr);i.push(t)}),be.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new at(Q);return t.forEach(e=>{const t=new ss(e,0),r=new ss(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],e=>{n=n.add(e.Zr)})}),be.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ce.isDocumentKey(i)||(i=i.child(""));const s=new ss(new ce(i),0);let a=new at(Q);return this.Xr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Zr)),!0)},s),be.resolve(this.ni(a))}ni(e){const t=[];return e.forEach(e=>{const n=this.ei(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){j(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return be.forEach(t.mutations,r=>{const i=new ss(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,t){const n=new ss(t,0),r=this.Xr.firstAfterOrEqual(n);return be.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class os{constructor(e){this.ii=e,this.docs=new rt(ce.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return be.resolve(n?n.document.mutableCopy():Yt.newInvalidDocument(t))}getEntries(e,t){let n=Wn();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Yt.newInvalidDocument(e))}),be.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Wn();const s=t.path,a=new ce(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||me(fe(a),n)<=0||(r.has(a.key)||Vn(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return be.resolve(i)}getAllFromCollectionGroup(e,t,n,r){P(9500)}si(e,t){return be.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new ls(this)}getSize(e){return be.resolve(this.size)}}class ls extends Xi{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)}),be.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class cs{constructor(e){this.persistence=e,this.oi=new Bn(e=>_n(e),kn),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this._i=0,this.ai=new is,this.targetCount=0,this.ui=Wi.cr()}forEachTarget(e,t){return this.oi.forEach((e,n)=>t(n)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),be.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Wi(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.Tr(t),be.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.oi.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),be.waitFor(i).next(()=>r)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return be.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),be.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),be.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),be.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return be.resolve(n)}containsKey(e,t){return be.resolve(this.ai.containsKey(t))}}class us{constructor(e,t){this.ci={},this.overlays={},this.li=new _e(0),this.hi=!1,this.hi=!0,this.Pi=new rs,this.referenceDelegate=e(this),this.Ti=new cs(this),this.indexManager=new Fi,this.remoteDocumentCache=function(e){return new os(e)}(e=>this.referenceDelegate.Ii(e)),this.serializer=new Li(t),this.Ei=new ts(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ns,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new as(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){T("MemoryPersistence","Starting transaction:",e);const r=new ds(this.li.next());return this.referenceDelegate.di(),n(r).next(e=>this.referenceDelegate.Ai(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ri(e,t){return be.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,t)))}}class ds extends ye{constructor(e){super(),this.currentSequenceNumber=e}}class hs{constructor(e){this.persistence=e,this.Vi=new is,this.mi=null}static fi(e){return new hs(e)}get gi(){if(this.mi)return this.mi;throw P(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),be.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),be.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(e=>this.gi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.gi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.gi,n=>{const r=ce.fromPath(n);return this.pi(e,r).next(e=>{e||t.removeEntry(r,re.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return be.or([()=>be.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class fs{constructor(e,t){this.persistence=e,this.yi=new Bn(e=>Ae(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=$i(this,t)}static fi(e,t){return new fs(e,t)}di(){}Ai(e){return be.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}br(e){let t=0;return this.yr(e,e=>{t++}).next(()=>t)}yr(e,t){return be.forEach(this.yi,(n,r)=>this.Dr(e,n,r).next(e=>e?be.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.si(e,r=>this.Dr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,re.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),be.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),be.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),be.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vt(e.data.value)),t}Dr(e,t,n){return be.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return be.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ps{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=Jn(),r=Jn();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ps(e,t.fromCache,n,r)}}class ms{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gs{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=(0,l.nr)()?8:we((0,l.ZQ)())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ws(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.bs(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new ms;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.fs)return this.Ds(e,t,n,r.size)})}).next(()=>i.result)}Ds(e,t,n,r){return n.documentReadCount<this.gs?(C()<=o.$b.DEBUG&&T("QueryEngine","SDK will not create cache indexes for query:",Mn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),be.resolve()):(C()<=o.$b.DEBUG&&T("QueryEngine","Query:",Mn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(C()<=o.$b.DEBUG&&T("QueryEngine","The SDK decides to create cache indexes for query:",Mn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pn(t))):be.resolve())}ws(e,t){if(An(t))return be.resolve(null);let n=Pn(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Dn(t,null,"F"),n=Pn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Jn(...r);return this.ys.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.vs(t,r);return this.Cs(t,s,i,n.readTime)?this.ws(e,Dn(t,null,"F")):this.Fs(e,s,t,n)}))})))}bs(e,t,n,r){return An(t)||r.isEqual(re.min())?be.resolve(null):this.ys.getDocuments(e,n).next(i=>{const s=this.vs(t,i);return this.Cs(t,s,n,r)?be.resolve(null):(C()<=o.$b.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Mn(t)),this.Fs(e,s,t,he(r,ue)).next(e=>e))})}vs(e,t){let n=new at(Un(e));return t.forEach((t,r)=>{Vn(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return C()<=o.$b.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",Mn(t)),this.ys.getDocumentsMatchingQuery(e,t,pe.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const ys="LocalStore",vs=3e8;class bs{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new rt(Q),this.Os=new Bn(e=>_n(e),kn),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new es(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function ws(e,t,n,r){return new bs(e,t,n,r)}async function xs(e,t){const n=D(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=Jn();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({ks:e,removedBatchIds:i,addedBatchIds:s}))})})}function _s(e){const t=D(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function ks(e,t,n){let r=Jn(),i=Jn();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Wn();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(re.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):T(ys,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{qs:r,Qs:i}})}function Ss(e,t){const n=D(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=ke),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Es(e,t){const n=D(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ti.getTargetData(e,t).next(i=>i?(r=i,be.resolve(r)):n.Ti.allocateTargetId(e).next(i=>(r=new Oi(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e})}async function Cs(e,t,n){const r=D(e),i=r.xs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!xe(e))throw e;T(ys,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(i.target)}function Ts(e,t,n){const r=D(e);let i=re.min(),s=Jn();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=D(e),i=r.Os.get(n);return void 0!==i?be.resolve(r.xs.get(i)):r.Ti.getTargetData(t,n)}(r,e,Pn(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Ms.getDocumentsMatchingQuery(e,t,n?i:re.min(),n?s:Jn())).next(e=>(As(r,Fn(t),e),{documents:e,$s:s})))}function As(e,t,n){let r=e.Ns.get(t)||re.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ns.set(t,r)}class Ns{constructor(){this.activeTargetIds=tr()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Is{constructor(){this.xo=new Ns,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Ns,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ps{No(e){}shutdown(){}}const Rs="ConnectivityMonitor";class js{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){T(Rs,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){T(Rs,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ds=null;function Os(){return null===Ds?Ds=268435456+Math.round(2147483648*Math.random()):Ds++,"0x"+Ds.toString(16)}const Ls="RestConnection",Ms={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vs{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===kt?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,i){const s=Os(),a=this.jo(e,t.toUriEncodedString());T(Ls,"Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(o,r,i);const{host:c}=new URL(a),u=(0,l.zJ)(c);return this.Jo(e,a,o,n,u).then(t=>(T(Ls,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw N(Ls,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Yo(e,t,n,r,i,s){return this.zo(e,t,n,r,i)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+S,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}jo(e,t){const n=Ms[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class Fs{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const Us="WebChannelConnection";class zs extends Vs{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=Os();return new Promise((i,a)=>{const o=new d;o.setWithCredentials(!0),o.listenOnce(f.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case p.NO_ERROR:const t=o.getResponseJson();T(Us,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(t)),i(t);break;case p.TIMEOUT:T(Us,"RPC '".concat(e,"' ").concat(s," timed out")),a(new L(O.DEADLINE_EXCEEDED,"Request time out"));break;case p.HTTP_ERROR:const n=o.getStatus();if(T(Us,"RPC '".concat(e,"' ").concat(s," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(t)>=0?t:O.UNKNOWN}(t.status);a(new L(e,t.message))}else a(new L(O.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new L(O.UNAVAILABLE,"Connection failed."));break;default:P(9055,{h_:e,streamId:s,P_:o.getLastErrorCode(),T_:o.getLastError()})}}finally{T(Us,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);T(Us,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)})}I_(e,t,n){const r=Os(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=v(),a=y(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");T(Us,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);this.E_(u);let d=!1,f=!1;const p=new Fs({Zo:t=>{f?T(Us,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(T(Us,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),T(Us,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Xo:()=>u.close()}),b=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return b(u,h.EventType.OPEN,()=>{f||(T(Us,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.__())}),b(u,h.EventType.CLOSE,()=>{f||(f=!0,T(Us,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.u_(),this.d_(u))}),b(u,h.EventType.ERROR,t=>{f||(f=!0,N(Us,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),p.u_(new L(O.UNAVAILABLE,"The operation could not be completed")))}),b(u,h.EventType.MESSAGE,t=>{var n;if(!f){const i=t.data[0];j(!!i,16349);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){T(Us,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Vr[e];if(void 0!==t)return zr(t)}(t),i=a.message;void 0===n&&(n=O.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),f=!0,p.u_(new L(n,i)),u.close()}else T(Us,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p.c_(i)}}),b(a,g.STAT_EVENT,t=>{t.stat===m.PROXY?T(Us,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===m.NOPROXY&&T(Us,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{p.a_()},0),p}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Bs(){return"undefined"!=typeof document?document:null}function Hs(e){return new ai(e,!0)}class Ws{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=r,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-n);r>0&&T("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const qs="PersistentStream";class Ks{constructor(e,t,n,r,i,s,a,o){this.xi=e,this.S_=n,this.D_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Ws(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(A(t.toString()),A("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===O.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.v_===t&&this.z_(n,r)},t=>{e(()=>{const e=new L(O.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)})})}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(e=>{n(()=>this.j_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.M_?this.J_(e):this.onNext(e))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return T(qs,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(T(qs,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gs extends Ks{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:P(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(j(void 0===t||"string"==typeof t,58123),ut.fromBase64String(t||"")):(j(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),ut.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?O.UNKNOWN:zr(e.code);return new L(t,e.message||"")}(a);n=new Xr(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=gi(e,r.document.name),s=di(r.document.updateTime),a=r.document.createTime?di(r.document.createTime):re.min(),o=new Zt({mapValue:{fields:r.document.fields}}),l=Yt.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Yr(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=gi(e,r.document),s=r.readTime?di(r.readTime):re.min(),a=Yt.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Yr([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=gi(e,r.document),s=r.removedTargetIds||[];n=new Yr([],s,i,null)}else{if(!("filter"in t))return P(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Mr(r,i),a=e.targetId;n=new $r(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return re.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?re.min():t.readTime?di(t.readTime):re.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=bi(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Sn(r)?{documents:ki(e,r)}:{query:Si(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ci(e,t.resumeToken);const r=oi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(re.min())>0){n.readTime=li(e,t.snapshotVersion.toTimestamp());const r=oi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=bi(this.serializer),t.removeTarget=e,this.Q_(t)}}class Zs extends Ks{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return j(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,j(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){j(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(j(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?di(e.updateTime):di(t);return n.isEqual(re.min())&&(n=di(t)),new vr(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=di(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=bi(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>_i(this.serializer,e))};this.Q_(t)}}class Qs{}class Ys extends Qs{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new L(O.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.zo(e,fi(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(O.UNKNOWN,e.toString())})}Yo(e,t,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Yo(e,fi(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(O.UNKNOWN,e.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class $s{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(A(t),this.ua=!1):T("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const Xs="RemoteStore";class Js{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(e=>{n.enqueueAndForget(async()=>{la(this)&&(T(Xs,"Restarting streams for network reachability change."),await async function(e){const t=D(e);t.da.add(4),await ta(t),t.Va.set("Unknown"),t.da.delete(4),await ea(t)}(this))})}),this.Va=new $s(n,r)}}async function ea(e){if(la(e))for(const t of e.Aa)await t(!0)}async function ta(e){for(const t of e.Aa)await t(!1)}function na(e,t){const n=D(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),oa(n)?aa(n):Ta(n).N_()&&ia(n,t))}function ra(e,t){const n=D(e),r=Ta(n);n.Ea.delete(t),r.N_()&&sa(n,t),0===n.Ea.size&&(r.N_()?r.k_():la(n)&&n.Va.set("Unknown"))}function ia(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(re.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ta(e).Z_(t)}function sa(e,t){e.ma.Ke(t),Ta(e).X_(t)}function aa(e){e.ma=new ei({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Ta(e).start(),e.Va.ca()}function oa(e){return la(e)&&!Ta(e).O_()&&e.Ea.size>0}function la(e){return 0===D(e).da.size}function ca(e){e.ma=void 0}async function ua(e){e.Va.set("Online")}async function da(e){e.Ea.forEach((t,n)=>{ia(e,t)})}async function ha(e,t){ca(e),oa(e)?(e.Va.Pa(t),aa(e)):e.Va.set("Unknown")}async function fa(e,t,n){if(e.Va.set("Online"),t instanceof Xr&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ea.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ea.delete(r),e.ma.removeTarget(r))}(e,t)}catch(n){T(Xs,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await pa(e,n)}else if(t instanceof Yr?e.ma.Xe(t):t instanceof $r?e.ma.ot(t):e.ma.nt(t),!n.isEqual(re.min()))try{const t=await _s(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ea.get(r);i&&e.Ea.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ea.get(t);if(!r)return;e.Ea.set(t,r.withResumeToken(ut.EMPTY_BYTE_STRING,r.snapshotVersion)),sa(e,t);const i=new Oi(r.target,t,n,r.sequenceNumber);ia(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){T(Xs,"Failed to raise snapshot:",t),await pa(e,t)}}async function pa(e,t,n){if(!xe(t))throw t;e.da.add(1),await ta(e),e.Va.set("Offline"),n||(n=()=>_s(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{T(Xs,"Retrying IndexedDB access"),await n(),e.da.delete(1),await ea(e)})}function ma(e,t){return t().catch(n=>pa(e,n,t))}async function ga(e){const t=D(e),n=Aa(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:ke;for(;ya(t);)try{const e=await Ss(t.localStore,r);if(null===e){0===t.Ia.length&&n.k_();break}r=e.batchId,va(t,e)}catch(e){await pa(t,e)}ba(t)&&wa(t)}function ya(e){return la(e)&&e.Ia.length<10}function va(e,t){e.Ia.push(t);const n=Aa(e);n.N_()&&n.ea&&n.ta(t.mutations)}function ba(e){return la(e)&&!Aa(e).O_()&&e.Ia.length>0}function wa(e){Aa(e).start()}async function xa(e){Aa(e).ia()}async function _a(e){const t=Aa(e);for(const n of e.Ia)t.ta(n.mutations)}async function ka(e,t,n){const r=e.Ia.shift(),i=Or.from(r,t,n);await ma(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ga(e)}async function Sa(e,t){t&&Aa(e).ea&&await async function(e,t){if(function(e){return Ur(e)&&e!==O.ABORTED}(t.code)){const n=e.Ia.shift();Aa(e).L_(),await ma(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ga(e)}}(e,t),ba(e)&&wa(e)}async function Ea(e,t){const n=D(e);n.asyncQueue.verifyOperationInProgress(),T(Xs,"RemoteStore received new credentials");const r=la(n);n.da.add(3),await ta(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await ea(n)}async function Ca(e,t){const n=D(e);t?(n.da.delete(2),await ea(n)):t||(n.da.add(2),await ta(n),n.Va.set("Unknown"))}function Ta(e){return e.fa||(e.fa=function(e,t,n){const r=D(e);return r.oa(),new Gs(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:ua.bind(null,e),n_:da.bind(null,e),i_:ha.bind(null,e),Y_:fa.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),oa(e)?aa(e):e.Va.set("Unknown")):(await e.fa.stop(),ca(e))})),e.fa}function Aa(e){return e.ga||(e.ga=function(e,t,n){const r=D(e);return r.oa(),new Zs(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:xa.bind(null,e),i_:Sa.bind(null,e),na:_a.bind(null,e),ra:ka.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await ga(e)):(await e.ga.stop(),e.Ia.length>0&&(T(Xs,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))})),e.ga}class Na{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new M,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Na(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ia(e,t){if(A("AsyncQueue","".concat(t,": ").concat(e)),xe(e))return new L(O.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Pa{static emptySet(e){return new Pa(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ce.comparator(t.key,n.key):(e,t)=>ce.comparator(e.key,t.key),this.keyedMap=Kn(),this.sortedSet=new rt(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pa))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Pa;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ra{constructor(){this.pa=new rt(ce.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):P(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,n)=>{e.push(n)}),e}}class ja{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new ja(e,t,Pa.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&On(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Da{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Oa{constructor(){this.queries=La(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=D(e),r=n.queries;n.queries=La(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new L(O.ABORTED,"Firestore shutting down"))}}function La(){return new Bn(e=>Ln(e),On)}async function Ma(e,t){const n=D(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Da()&&t.va()&&(r=2):(s=new Da,r=t.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Ia(e,"Initialization of query '".concat(Mn(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Sa.push(t),t.Fa(n.onlineState),s.ba&&t.Ma(s.ba)&&za(n)}async function Va(e,t){const n=D(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.va()?0:1:!s.Da()&&t.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Fa(e,t){const n=D(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(i)&&(r=!0);t.ba=i}}r&&za(n)}function Ua(e,t,n){const r=D(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function za(e){e.Ca.forEach(e=>{e.next()})}var Ba,Ha;(Ha=Ba||(Ba={})).xa="default",Ha.Cache="cache";class Wa{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ja(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Ba.Cache}}class qa{constructor(e){this.key=e}}class Ka{constructor(e){this.key=e}}class Ga{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Jn(),this.mutatedKeys=Jn(),this.Za=Un(e),this.Xa=new Pa(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new Ra,r=t?t.Xa:this.Xa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Vn(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ru(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Za(u,o)>0||l&&this.Za(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Xa:s,nu:n,Cs:a,mutatedKeys:i}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const s=e.nu.wa();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc)),this.iu(n),r=null!=r&&r;const a=t&&!r?this.su():[],o=0===this.Ya.size&&this.current&&!r?1:0,l=o!==this.Ja;return this.Ja=o,0!==s.length||l?{snapshot:new ja(this.query,e.Xa,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Ra,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Jn(),this.Xa.forEach(e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))});const t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new Ka(e))}),this.Ya.forEach(n=>{e.has(n)||t.push(new qa(n))}),t}au(e){this.Ha=e.$s,this.Ya=Jn();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return ja.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const Za="SyncEngine";class Qa{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Ya{constructor(e){this.key=e,this.cu=!1}}class $a{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new Bn(e=>Ln(e),On),this.Pu=new Map,this.Tu=new Set,this.Iu=new rt(ce.comparator),this.Eu=new Map,this.du=new is,this.Au={},this.Ru=new Map,this.Vu=Wi.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function Xa(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=wo(e);let i;const s=r.hu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await eo(r,t,n,!0),i}async function Ja(e,t){const n=wo(e);await eo(n,t,!0,!1)}async function eo(e,t,n,r){const i=await Es(e.localStore,Pn(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await to(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&na(e.remoteStore,i),o}async function to(e,t,n,r,i){e.fu=(t,n,r)=>async function(e,t,n,r){let i=t.view.tu(n);i.Cs&&(i=await Ts(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.tu(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return po(e,t.targetId,o.ou),o.snapshot}(e,t,n,r);const s=await Ts(e.localStore,t,!0),a=new Ga(t,s.$s),o=a.tu(s.documents),l=Qr.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);po(e,n,c.ou);const u=new Qa(t,n,a);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function no(e,t,n){const r=D(e),i=r.hu.get(t),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(e=>!On(e,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Cs(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ra(r.remoteStore,i.targetId),ho(r,i.targetId)}).catch(ve)):(ho(r,i.targetId),await Cs(r.localStore,i.targetId,!0))}async function ro(e,t){const n=D(e),r=n.hu.get(t),i=n.Pu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ra(n.remoteStore,r.targetId))}async function io(e,t){const n=D(e);try{const e=await function(e,t){const n=D(e),r=t.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ti.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Ti.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(ut.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=vs||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Ti.updateTargetData(e,c))});let o=Wn(),l=Jn();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(ks(e,s,t.documentUpdates).next(e=>{o=e.qs,l=e.Qs})),!r.isEqual(re.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next(t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return be.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.xs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(j(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.cu=!0:e.modifiedDocuments.size>0?j(r.cu,14607):e.removedDocuments.size>0&&(j(r.cu,42227),r.cu=!1))}),await yo(n,e,t)}catch(e){await ve(e)}}function so(e,t,n){const r=D(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.hu.forEach((n,r)=>{const i=r.view.Fa(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=D(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.Fa(t)&&(r=!0)}),r&&za(n)}(r.eventManager,t),e.length&&r.lu.Y_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ao(e,t,n){const r=D(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),s=i&&i.key;if(s){let e=new rt(ce.comparator);e=e.insert(s,Yt.newNoDocument(s,re.min()));const n=Jn().add(s),i=new Zr(re.min(),new Map,new rt(Q),e,n);await io(r,i),r.Iu=r.Iu.remove(s),r.Eu.delete(t),go(r)}else await Cs(r.localStore,t,!1).then(()=>ho(r,t,n)).catch(ve)}async function oo(e,t){const n=D(e),r=t.batch.batchId;try{const e=await function(e,t){const n=D(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=be.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);j(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Jn();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);uo(n,r,null),co(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yo(n,e)}catch(e){await ve(e)}}async function lo(e,t,n){const r=D(e);try{const e=await function(e,t){const n=D(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(j(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);uo(r,t,n),co(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await yo(r,e)}catch(n){await ve(n)}}function co(e,t){(e.Ru.get(t)||[]).forEach(e=>{e.resolve()}),e.Ru.delete(t)}function uo(e,t,n){const r=D(e);let i=r.Au[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Au[r.currentUser.toKey()]=i}}function ho(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(t=>{e.du.containsKey(t)||fo(e,t)})}function fo(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(ra(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),go(e))}function po(e,t,n){for(const r of n)r instanceof qa?(e.du.addReference(r.key,t),mo(e,r)):r instanceof Ka?(T(Za,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||fo(e,r.key)):P(19791,{pu:r})}function mo(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(T(Za,"New document in limbo: "+n),e.Tu.add(r),go(e))}function go(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new ce(ae.fromString(t)),r=e.Vu.next();e.Eu.set(r,new Ya(n)),e.Iu=e.Iu.insert(n,r),na(e.remoteStore,new Oi(Pn(Tn(n.path)),r,"TargetPurposeLimboResolution",_e.le))}}async function yo(e,t,n){const r=D(e),i=[],s=[],a=[];r.hu.isEmpty()||(r.hu.forEach((e,o)=>{a.push(r.fu(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=ps.Rs(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.lu.Y_(i),await async function(e,t){const n=D(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>be.forEach(t,t=>be.forEach(t.ds,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>be.forEach(t.As,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!xe(e))throw e;T(ys,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,i)}}}(r.localStore,s))}async function vo(e,t){const n=D(e);if(!n.currentUser.isEqual(t)){T(Za,"User change. New user:",t.toKey());const e=await xs(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach(e=>{e.forEach(e=>{e.reject(new L(O.CANCELLED,t))})}),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await yo(n,e.ks)}}function bo(e,t){const n=D(e),r=n.Eu.get(t);if(r&&r.cu)return Jn().add(r.key);{let e=Jn();const r=n.Pu.get(t);if(!r)return e;for(const t of r){const r=n.hu.get(t);e=e.unionWith(r.view.eu)}return e}}function wo(e){const t=D(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=io.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bo.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ao.bind(null,t),t.lu.Y_=Fa.bind(null,t.eventManager),t.lu.gu=Ua.bind(null,t.eventManager),t}function xo(e){const t=D(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oo.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lo.bind(null,t),t}class _o{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hs(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return ws(this.persistence,new gs,e.initialUser,this.serializer)}Su(e){return new us(hs.fi,this.serializer)}bu(e){return new Is}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_o.provider={build:()=>new _o};class ko extends _o{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){j(this.persistence.referenceDelegate instanceof fs,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Qi(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?Hi.withCacheSize(this.cacheSizeBytes):Hi.DEFAULT;return new us(e=>fs.fi(e,t),this.serializer)}}class So{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>so(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=vo.bind(null,this.syncEngine),await Ca(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Oa}createDatastore(e){const t=Hs(e.databaseInfo.databaseId),n=function(e){return new zs(e)}(e.databaseInfo);return function(e,t,n,r){return new Ys(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Js(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>so(this.syncEngine,e,0),js.C()?new js:new Ps)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new $a(e,t,n,r,i,s);return a&&(o.mu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=D(e);T(Xs,"RemoteStore shutting down."),t.da.add(5),await ta(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}So.provider={build:()=>new So};class Eo{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):A("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Co="FirestoreClient";class To{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=k.UNAUTHENTICATED,this.clientId=Z.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{T(Co,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(T(Co,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new M;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Op){const n=Ia(Op,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ao(e,t){e.asyncQueue.verifyOperationInProgress(),T(Co,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await xs(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function No(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Io(e);T(Co,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Ea(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Ea(t.remoteStore,n)),e._onlineComponents=t}async function Io(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){T(Co,"Using user provided OfflineComponentProvider");try{await Ao(e,e._uninitializedComponentsProvider._offline)}catch(Op){const n=Op;if(!function(e){return"FirebaseError"===e.name?e.code===O.FAILED_PRECONDITION||e.code===O.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;N("Error using user provided cache. Falling back to memory cache: "+n),await Ao(e,new _o)}}else T(Co,"Using default OfflineComponentProvider"),await Ao(e,new ko(void 0));return e._offlineComponents}async function Po(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(T(Co,"Using user provided OnlineComponentProvider"),await No(e,e._uninitializedComponentsProvider._online)):(T(Co,"Using default OnlineComponentProvider"),await No(e,new So))),e._onlineComponents}function Ro(e){return Po(e).then(e=>e.syncEngine)}async function jo(e){const t=await Po(e),n=t.eventManager;return n.onListen=Xa.bind(null,t.syncEngine),n.onUnlisten=no.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Ja.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ro.bind(null,t.syncEngine),n}function Do(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new M;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Eo({next:o=>{s.xu(),t.enqueueAndForget(()=>Va(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new L(O.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new L(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new Wa(Tn(n.path),s,{includeMetadataChanges:!0,Qa:!0});return Ma(e,a)}(await jo(e),e.asyncQueue,t,n,r)),r.promise}function Oo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new M;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Eo({next:n=>{s.xu(),t.enqueueAndForget(()=>Va(e,a)),n.fromCache&&"server"===r.source?i.reject(new L(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Wa(n,s,{includeMetadataChanges:!0,Qa:!0});return Ma(e,a)}(await jo(e),e.asyncQueue,t,n,r)),r.promise}function Lo(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Mo=new Map;function Vo(e,t,n){if(!n)throw new L(O.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Fo(e){if(!ce.isDocumentKey(e))throw new L(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Uo(e){if(ce.isDocumentKey(e))throw new L(O.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function zo(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":P(12329,{type:typeof e})}function Bo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zo(e);throw new L(O.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}const Ho="firestore.googleapis.com",Wo=!0;class qo{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new L(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ho,this.ssl=Wo}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Wo;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Bi;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Ki)throw new L(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new L(O.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lo(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new L(O.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new L(O.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new L(O.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ko{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qo({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new L(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qo(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new F;switch(e.type){case"firstParty":return new H(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new L(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Mo.get(e);t&&(T("ComponentProvider","Removing Datastore"),Mo.delete(e),t.terminate())}(this),Promise.resolve()}}class Go{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Go(this.firestore,e,this._query)}}class Zo{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zo(this.firestore,e,this._key)}}class Qo extends Go{constructor(e,t,n){super(e,t,Tn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zo(this.firestore,null,new ce(e))}withConverter(e){return new Qo(this.firestore,e,this._path)}}function Yo(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),Vo("collection","path",t),e instanceof Ko){const n=ae.fromString(t,...r);return Uo(n),new Qo(e,null,n)}{if(!(e instanceof Zo||e instanceof Qo))throw new L(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ae.fromString(t,...r));return Uo(n),new Qo(e.firestore,null,n)}}function $o(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),1===arguments.length&&(t=Z.newId()),Vo("doc","path",t),e instanceof Ko){const n=ae.fromString(t,...r);return Fo(n),new Zo(e,null,new ce(n))}{if(!(e instanceof Zo||e instanceof Qo))throw new L(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ae.fromString(t,...r));return Fo(n),new Zo(e.firestore,e instanceof Qo?e.converter:null,new ce(n))}}const Xo="AsyncQueue";class Jo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Ws(this,"async_queue_retry"),this.rc=()=>{const e=Bs();e&&T(Xo,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=Bs();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Bs();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new M;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!xe(e))throw e;T(Xo,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(e=>{throw this.Xu=e,this.ec=!1,A("INTERNAL UNHANDLED ERROR: ",el(e)),e}).then(e=>(this.ec=!1,e))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=Na.createAndSchedule(this,e,t,n,e=>this.uc(e));return this.Zu.push(r),r}oc(){this.Xu&&P(47125,{cc:el(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function el(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class tl extends Ko{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Jo,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jo(e),this._firestoreClient=void 0,await e}}}function nl(e,t){const n="object"==typeof e?e:(0,s.Sx)(),r="string"==typeof e?e:t||kt,i=(0,s.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,l.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=Bo(e,Ko);const s=(0,l.zJ)(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),c="".concat(t,":").concat(n);s&&((0,l.gE)("https://".concat(c)),(0,l.P1)("Firestore",!0)),a.host!==Ho&&a.host!==c&&N("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:c,ssl:s,emulatorOptions:r});if(!(0,l.bD)(u,o)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=k.MOCK_USER;else{t=(0,l.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new L(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new k(s)}e._authCredentials=new U(new V(t,n))}}(i,...e)}return i}function rl(e){if(e._terminated)throw new L(O.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||il(e),e._firestoreClient}function il(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new _t(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Lo(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new To(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sl(ut.fromBase64String(e))}catch(e){throw new L(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new sl(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class al{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new L(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new le(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ol{constructor(e){this._methodName=e}}class ll{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}}class cl{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const ul=/^__.*__$/;class dl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ar(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tr(e,this.data,t,this.fieldTransforms)}}class hl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ar(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P(40011,{Ic:e})}}class pl{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new pl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Vc(e),r}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return jl(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(fl(this.Ic)&&ul.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class ml{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Hs(e)}bc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new pl({Ic:e,methodName:t,wc:n,path:le.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gl(e){const t=e._freezeSettings(),n=Hs(e._databaseId);return new ml(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yl(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.bc(s.merge||s.mergeFields?2:0,t,n,i);Nl("Data must be an object, but it was:",a,r);const o=Tl(r,a);let l,c;if(s.merge)l=new lt(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Il(t,r,n);if(!a.contains(i))throw new L(O.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Dl(e,i)||e.push(i)}l=new lt(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new dl(new Zt(o),l,c)}class vl extends ol{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vl}}function bl(e,t,n){return new pl({Ic:3,wc:t.settings.wc,methodName:e._methodName,Rc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class wl extends ol{_toFieldTransform(e){return new yr(e.path,new cr)}isEqual(e){return e instanceof wl}}class xl extends ol{constructor(e,t){super(e),this.Sc=t}_toFieldTransform(e){const t=bl(this,e,!0),n=this.Sc.map(e=>Cl(e,t)),r=new ur(n);return new yr(e.path,r)}isEqual(e){return e instanceof xl&&(0,l.bD)(this.Sc,e.Sc)}}class _l extends ol{constructor(e,t){super(e),this.Sc=t}_toFieldTransform(e){const t=bl(this,e,!0),n=this.Sc.map(e=>Cl(e,t)),r=new hr(n);return new yr(e.path,r)}isEqual(e){return e instanceof _l&&(0,l.bD)(this.Sc,e.Sc)}}function kl(e,t,n,r){const i=e.bc(1,t,n);Nl("Data must be an object, but it was:",i,r);const s=[],a=Zt.empty();tt(r,(e,r)=>{const o=Rl(t,e,n);r=(0,l.Ku)(r);const c=i.mc(o);if(r instanceof vl)s.push(o);else{const e=Cl(r,c);null!=e&&(s.push(o),a.set(o,e))}});const o=new lt(s);return new hl(a,o,i.fieldTransforms)}function Sl(e,t,n,r,i,s){const a=e.bc(1,t,n),o=[Il(t,r,n)],c=[i];if(s.length%2!=0)throw new L(O.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let l=0;l<s.length;l+=2)o.push(Il(t,s[l])),c.push(s[l+1]);const u=[],d=Zt.empty();for(let f=o.length-1;f>=0;--f)if(!Dl(u,o[f])){const e=o[f];let t=c[f];t=(0,l.Ku)(t);const n=a.mc(e);if(t instanceof vl)u.push(e);else{const r=Cl(t,n);null!=r&&(u.push(e),d.set(e,r))}}const h=new lt(u);return new hl(d,h,a.fieldTransforms)}function El(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Cl(n,e.bc(r?4:3,t))}function Cl(e,t){if(Al(e=(0,l.Ku)(e)))return Nl("Unsupported field value:",t,e),Tl(e,t);if(e instanceof ol)return function(e,t){if(!fl(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Cl(i,t.fc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,l.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ir(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ne.fromDate(e);return{timestampValue:li(t.serializer,n)}}if(e instanceof ne){const n=new ne(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:li(t.serializer,n)}}if(e instanceof ll)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof sl)return{bytesValue:ci(t.serializer,e._byteString)};if(e instanceof Zo){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:hi(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof cl)return function(e,t){return{mapValue:{fields:{[Et]:{stringValue:At},[Nt]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return nr(t.serializer,e)})}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(zo(e)))}(e,t)}function Tl(e,t){const n={};return nt(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tt(e,(e,r)=>{const i=Cl(r,t.Ac(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Al(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ne||e instanceof ll||e instanceof sl||e instanceof Zo||e instanceof ol||e instanceof cl)}function Nl(e,t,n){if(!Al(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=zo(n);throw"an object"===r?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function Il(e,t,n){if((t=(0,l.Ku)(t))instanceof al)return t._internalPath;if("string"==typeof t)return Rl(e,t);throw jl("Field path arguments must be of type string or ",e,!1,void 0,n)}const Pl=new RegExp("[~\\*/\\[\\]]");function Rl(e,t,n){if(t.search(Pl)>=0)throw jl("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new al(...t.split("."))._internalPath}catch(fp){throw jl("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function jl(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new L(O.INVALID_ARGUMENT,o+e+l)}function Dl(e,t){return e.some(e=>e.isEqual(t))}class Ol{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ll(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ml("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ll extends Ol{data(){return super.data()}}function Ml(e,t){return"string"==typeof t?Rl(e,t):t instanceof al?t._internalPath:t._delegate._internalPath}function Vl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new L(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fl{}class Ul extends Fl{}function zl(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Fl&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Wl).length,n=e.filter(e=>e instanceof Bl).length;if(t>1||t>0&&n>0)throw new L(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Bl extends Ul{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Bl(e,t,n)}_apply(e){const t=this._parse(e);return Gl(e._query,t),new Go(e.firestore,e.converter,jn(e._query,t))}_parse(e){const t=gl(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new L(O.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Kl(a,s);const t=[];for(const n of a)t.push(ql(r,e,n));o={arrayValue:{values:t}}}else o=ql(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Kl(a,s),o=El(n,t,a,"in"===s||"not-in"===s);return rn.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Hl(e,t,n){const r=t,i=Ml("where",e);return Bl._create(i,r,n)}class Wl extends Fl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wl(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:sn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Gl(n,i),n=jn(n,i)}(e._query,t),new Go(e.firestore,e.converter,jn(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function ql(e,t,n){if("string"==typeof(n=(0,l.Ku)(n))){if(""===n)throw new L(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nn(t)&&-1!==n.indexOf("/"))throw new L(O.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(ae.fromString(n));if(!ce.isDocumentKey(r))throw new L(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ft(e,new ce(r))}if(n instanceof Zo)return Ft(e,n._key);throw new L(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(zo(n),"."))}function Kl(e,t){if(!Array.isArray(e)||0===e.length)throw new L(O.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Gl(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new L(O.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new L(O.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Zl{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(It(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw P(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return tt(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Nt].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>ft(e.doubleValue));return new cl(i)}convertGeoPoint(e){return new ll(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=wt(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xt(e));default:return null}}convertTimestamp(e){const t=ht(e);return new ne(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ae.fromString(e);j(Di(n),9688,{name:e});const r=new St(n.get(1),n.get(3)),i=new ce(n.popFirst(5));return r.isEqual(t)||A("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Ql(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Yl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $l extends Ol{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Xl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Ml("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Xl extends $l{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Jl{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yl(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Xl(this._firestore,this._userDataWriter,n.key,n,new Yl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new L(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Xl(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Yl(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Xl(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yl(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:ec(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ec(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P(61501,{type:e})}}function tc(e){e=Bo(e,Zo);const t=Bo(e.firestore,tl);return Do(rl(t),e._key).then(n=>cc(t,e,n))}class nc extends Zl{constructor(e){super(),this.firestore=e}convertBytes(e){return new sl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zo(this.firestore,null,t)}}function rc(e){e=Bo(e,Go);const t=Bo(e.firestore,tl),n=rl(t),r=new nc(t);return Vl(e._query),Oo(n,e._query).then(n=>new Jl(t,r,e,n))}function ic(e,t,n){e=Bo(e,Zo);const r=Bo(e.firestore,tl),i=Ql(e.converter,t,n);return lc(r,[yl(gl(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,br.none())])}function sc(e,t,n){e=Bo(e,Zo);const r=Bo(e.firestore,tl),i=gl(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),c=3;c<a;c++)o[c-3]=arguments[c];return s="string"==typeof(t=(0,l.Ku)(t))||t instanceof al?Sl(i,"updateDoc",e._key,t,n,o):kl(i,"updateDoc",e._key,t),lc(r,[s.toMutation(e._key,br.exists(!0))])}function ac(e){return lc(Bo(e.firestore,tl),[new Rr(e._key,br.none())])}function oc(e,t){const n=Bo(e.firestore,tl),r=$o(e),i=Ql(e.converter,t);return lc(n,[yl(gl(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,br.exists(!1))]).then(()=>r)}function lc(e,t){return function(e,t){const n=new M;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=xo(e);try{const e=await function(e,t){const n=D(e),r=ne.now(),i=t.reduce((e,t)=>e.add(t.key),Jn());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Wn(),l=Jn();return n.Bs.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=Er(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Ar(e.key,t,Qt(t.value.mapValue),br.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Gn(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Au[e.currentUser.toKey()];r||(r=new rt(Q)),r=r.insert(t,n),e.Au[e.currentUser.toKey()]=r}(r,e.batchId,n),await yo(r,e.changes),await ga(r.remoteStore)}catch(e){const t=Ia(e,"Failed to persist write");n.reject(t)}}(await Ro(e),t,n)),n.promise}(rl(e),t)}function cc(e,t,n){const r=n.docs.get(t._key),i=new nc(e);return new $l(e,i,t._key,r,new Yl(n.hasPendingWrites,n.fromCache),t.converter)}function uc(){return new wl("serverTimestamp")}function dc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xl("arrayUnion",t)}function hc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _l("arrayRemove",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){S=e}(s.MF),(0,s.om)(new a.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new tl(new z(e.getProvider("auth-internal")),new q(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new L(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new St(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),(0,s.KO)(x,_,e),(0,s.KO)(x,_,"esm2017")}()},529:(e,t,n)=>{n.d(t,{cY:()=>p,FA:()=>j,g:()=>R,u:()=>o,Uj:()=>a,Fy:()=>y,tD:()=>z,bD:()=>L,hp:()=>U,T9:()=>h,Tj:()=>u,yU:()=>d,XA:()=>f,mS:()=>l,Ku:()=>W,ZQ:()=>x,sr:()=>E,zJ:()=>m,c1:()=>S,Im:()=>O,lT:()=>T,zW:()=>I,jZ:()=>_,lV:()=>C,nr:()=>A,Ov:()=>N,gE:()=>g,Am:()=>V,I9:()=>F,P1:()=>w,eX:()=>P});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==l)throw new s;const c=t<<2|a>>4;if(r.push(c),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==l){const e=o<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const c=()=>{try{return l().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/RR_V2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&o(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},u=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},d=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},h=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=c())||void 0===t?void 0:t["_".concat(e)]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function m(e){return e.endsWith(".cloudworkstations.dev")}async function g(e){return(await fetch(e,{credentials:"include"})).ok}function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(s)),""].join(".")}const v={};let b=!1;function w(e,t){if("undefined"===typeof window||"undefined"===typeof document||!m(window.location.host)||v[e]===t||v[e]||b)return;function n(e){return"__firebase__banner__".concat(e)}v[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(v))v[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{b=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function x(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())}function k(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function S(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function E(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function C(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function T(){const e=x();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function A(){return!k()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N(){return!k()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function I(){try{return"object"===typeof indexedDB}catch(e){return!1}}function P(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class R extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,R.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j.prototype.create)}}class j{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(D,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new R(n,s,t)}}const D=/\{\$([^}]+)}/g;function O(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function L(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(M(n)&&M(s)){if(!L(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function M(e){return null!==e&&"object"===typeof e}function V(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function F(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function U(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function z(e,t){const n=new B(e,t);return n.subscribe.bind(n)}class B{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=H),void 0===r.error&&(r.error=H),void 0===r.complete&&(r.complete=H);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H(){}function W(e){return e&&e._delegate?e._delegate:e}},555:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>o})},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function V(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,ke=null;function Se(e){if(e=vi(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?ke?ke.push(e):ke=[e]:_e=e}function Ce(){if(_e){var e=_e,t=ke;if(ke=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ae(){}var Ne=!1;function Ie(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==_e||null!==ke)&&(Ae(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var je={};Object.defineProperty(je,"passive",{get:function(){Re=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(Vp){Re=!1}function De(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Le=null,Me=!1,Ve=null,Fe={onError:function(e){Oe=!0,Le=e}};function Ue(e,t,n,r,i,s,a,o,l){Oe=!1,Le=null,De.apply(Fe,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ye=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,Je=i.unstable_UserBlockingPriority,et=i.unstable_NormalPriority,tt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,rt=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ot|0)|0},at=Math.log,ot=Math.LN2;var lt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ut(o):0!==(s&=a)&&(r=ut(s))}else 0!==(a=n&~i)?r=ut(a):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,kt,St,Et=!1,Ct=[],Tt=null,At=null,Nt=null,It=new Map,Pt=new Map,Rt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ot(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void St(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Mt(e)&&n.delete(t)}function Ft(){Et=!1,null!==Tt&&Mt(Tt)&&(Tt=null),null!==At&&Mt(At)&&(At=null),null!==Nt&&Mt(Nt)&&(Nt=null),It.forEach(Vt),Pt.forEach(Vt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function zt(e){function t(t){return Ut(t,e)}if(0<Ct.length){Ut(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==At&&Ut(At,e),null!==Nt&&Ut(Nt,e),It.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var Bt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=vt,s=Bt.transition;Bt.transition=null;try{vt=1,Kt(e,t,n,r)}finally{vt=i,Bt.transition=s}}function qt(e,t,n,r){var i=vt,s=Bt.transition;Bt.transition=null;try{vt=4,Kt(e,t,n,r)}finally{vt=i,Bt.transition=s}}function Kt(e,t,n,r){if(Ht){var i=Zt(e,t,n,r);if(null===i)Hr(e,t,r,Gt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Ot(Tt,e,t,n,r,i),!0;case"dragenter":return At=Ot(At,e,t,n,r,i),!0;case"mouseover":return Nt=Ot(Nt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return It.set(s,Ot(It.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Ot(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==i;){var s=vi(i);if(null!==s&&wt(s),null===(s=Zt(e,t,n,r))&&Hr(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Zt(e,t,n,r){if(Gt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Xe:return 1;case Je:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Yt=null,$t=null,Xt=null;function Jt(){if(Xt)return Xt;var e,t,n=$t,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var sn,an,on,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(ln),un=M({},ln,{view:0,detail:0}),dn=rn(un),hn=M({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(sn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=sn=0,on=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=rn(hn),pn=rn(M({},hn,{dataTransfer:0})),mn=rn(M({},un,{relatedTarget:0})),gn=rn(M({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=rn(yn),bn=rn(M({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return kn}var En=M({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=rn(En),Tn=rn(M({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=rn(M({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=rn(M({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=M({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=rn(In),Rn=[9,13,27,32],jn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var On=u&&"TextEvent"in window&&!Dn,Ln=u&&(!jn||Dn&&8<Dn&&11>=Dn),Mn=String.fromCharCode(32),Vn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Gn(e){Mr(e,0)}function Zn(e){if(G(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(u){var $n;if(u){var Xn="oninput"in document;if(!Xn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Xn="function"===typeof Jn.oninput}$n=Xn}else $n=!1;Yn=$n&&(!document.documentMode||9<document.documentMode)}function er(){qn&&(qn.detachEvent("onpropertychange",tr),Kn=qn=null)}function tr(e){if("value"===e.propertyName&&Zn(Kn)){var t=[];Wn(t,Kn,e,we(e)),Ie(Gn,t)}}function nr(e,t,n){"focusin"===e?(er(),Kn=n,(qn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Kn)}function ir(e,t){if("click"===e)return Zn(t)}function sr(e,t){if("input"===e||"change"===e)return Zn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,vr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==mr||mr!==Z(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&or(yr,r)||(yr=r,0<(r=qr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},kr={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return _r[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Cr=Sr("animationiteration"),Tr=Sr("animationstart"),Ar=Sr("transitionend"),Nr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Ir.length;Rr++){var jr=Ir[Rr];Pr(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Ue.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var u=Le;Oe=!1,Le=null,Me||(Me=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,o,c),s=l}}}if(Me)throw e=Ve,Me=!1,Ve=null,e}function Vr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,a.forEach(function(t){"selectionchange"!==t&&(Or.has(t)||Fr(t,!1,e),Fr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Fr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Qt(t)){case 1:var i=Wt;break;case 4:i=qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ie(function(){var r=s,i=we(n),a=[];e:{var o=Nr.get(e);if(void 0!==o){var l=cn,c=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Er:case Cr:case Tr:l=gn;break;case Ar:l=Nn;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[fi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:bi(l),f=null==c?o:bi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Gr(a,o,l,u,!1),null!==c&&null!==d&&Gr(a,d,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if(Hn(o))if(Yn)g=sr;else{g=rr;var y=nr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,br(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(a,n,i)}var v;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=Jt()):($t="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(y=qr(r,b)).length&&(b=new bn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Un(n))&&(b.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Vn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!jn&&Fn(e,t)?(e=Jt(),Xt=$t=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Mr(a,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,s))&&a.unshift(Wr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Zr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(Qr,"")}function $r(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Xr(){}var Jr=null,ei=null;function ti(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ri="function"===typeof clearTimeout?clearTimeout:void 0,ii="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ii?function(e){return ii.resolve(null).then(e).catch(ai)}:ni;function ai(e){setTimeout(function(){throw e})}function oi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),di="__reactFiber$"+ui,hi="__reactProps$"+ui,fi="__reactContainer$"+ui,pi="__reactEvents$"+ui,mi="__reactListeners$"+ui,gi="__reactHandles$"+ui;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[di]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[hi]||null}var xi=[],_i=-1;function ki(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ci={},Ti=ki(Ci),Ai=ki(!1),Ni=Ci;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ai),Si(Ti)}function ji(e,t,n){if(Ti.current!==Ci)throw Error(s(168));Ei(Ti,t),Ei(Ai,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,H(e)||"Unknown",i));return M({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ni=Ti.current,Ei(Ti,e),Ei(Ai,Ai.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Di(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ti),Ei(Ti,e)):Si(Ai),Ei(Ai,n)}var Mi=null,Vi=!1,Fi=!1;function Ui(e){null===Mi?Mi=[e]:Mi.push(e)}function zi(){if(!Fi&&null!==Mi){Fi=!0;var e=0,t=vt;try{var n=Mi;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Vi=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ke(Xe,zi),i}finally{vt=t,Fi=!1}}return null}var Bi=[],Hi=0,Wi=null,qi=0,Ki=[],Gi=0,Zi=null,Qi=1,Yi="";function $i(e,t){Bi[Hi++]=qi,Bi[Hi++]=Wi,Wi=e,qi=t}function Xi(e,t,n){Ki[Gi++]=Qi,Ki[Gi++]=Yi,Ki[Gi++]=Zi,Zi=e;var r=Qi;e=Yi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var s=32-st(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-st(t)+i|n<<i|r,Yi=s+e}else Qi=1<<s|n<<i|r,Yi=e}function Ji(e){null!==e.return&&($i(e,1),Xi(e,1,0))}function es(e){for(;e===Wi;)Wi=Bi[--Hi],Bi[Hi]=null,qi=Bi[--Hi],Bi[Hi]=null;for(;e===Zi;)Zi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null,Qi=Ki[--Gi],Ki[Gi]=null}var ts=null,ns=null,rs=!1,is=null;function ss(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ts=e,ns=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ts=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:Qi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ts=e,ns=null,!0);default:return!1}}function os(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(rs){var t=ns;if(t){var n=t;if(!as(e,t)){if(os(e))throw Error(s(418));t=li(n.nextSibling);var r=ts;t&&as(e,t)?ss(r,n):(e.flags=-4097&e.flags|2,rs=!1,ts=e)}}else{if(os(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ts=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ts=e}function us(e){if(e!==ts)return!1;if(!rs)return cs(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ti(e.type,e.memoizedProps)),t&&(t=ns)){if(os(e))throw ds(),Error(s(418));for(;t;)ss(e,t),t=li(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ns=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ns=null}}else ns=ts?li(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=ns;e;)e=li(e.nextSibling)}function hs(){ns=ts=null,rs=!1}function fs(e){null===is?is=[e]:is.push(e)}var ps=w.ReactCurrentBatchConfig;function ms(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function vs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&ys(s)===t.type)?((r=i(t,n.props)).ref=ms(e,t,n),r.return=e,r):((r=jc(n.type,n.key,n.props,null,e.mode,r)).ref=ms(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=ms(e,null,t),n.return=e,n;case _:return(t=Mc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Dc(t,e.mode,n,null)).return=e,t;gs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);gs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);gs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=a(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(i,d),rs&&$i(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return rs&&$i(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),rs&&$i(i,m),c}function g(i,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),rs&&$i(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return rs&&$i(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),rs&&$i(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=ms(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((s=Dc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=jc(a.type,a.key,a.props,null,r.mode,l)).ref=ms(r,s,a),l.return=r,r=l)}return o(r);case _:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Mc(a,r.mode,l)).return=r,r=s}return o(r);case R:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(O(a))return g(r,s,a,l);gs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Lc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var bs=vs(!0),ws=vs(!1),xs=ki(null),_s=null,ks=null,Ss=null;function Es(){Ss=ks=_s=null}function Cs(e){var t=xs.current;Si(xs),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function As(e,t){_s=e,Ss=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function Ns(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===_s)throw Error(s(308));ks=e,_s.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Is=null;function Ps(e){null===Is?Is=[e]:Is.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,js(e,r)}function js(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,js(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,js(e,n)}function Fs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Us(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var i=e.updateQueue;Ds=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ol|=a,e.lanes=a,e.memoizedState=d}}function Bs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},Ws=ki(Hs),qs=ki(Hs),Ks=ki(Hs);function Gs(e){if(e===Hs)throw Error(s(174));return e}function Zs(e,t){switch(Ei(Ks,t),Ei(qs,e),Ei(Ws,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Ws),Ei(Ws,t)}function Qs(){Si(Ws),Si(qs),Si(Ks)}function Ys(e){Gs(Ks.current);var t=Gs(Ws.current),n=le(t,e.type);t!==n&&(Ei(qs,e),Ei(Ws,n))}function $s(e){qs.current===e&&(Si(Ws),Si(qs))}var Xs=ki(0);function Js(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ea=[];function ta(){for(var e=0;e<ea.length;e++)ea[e]._workInProgressVersionPrimary=null;ea.length=0}var na=w.ReactCurrentDispatcher,ra=w.ReactCurrentBatchConfig,ia=0,sa=null,aa=null,oa=null,la=!1,ca=!1,ua=0,da=0;function ha(){throw Error(s(321))}function fa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function pa(e,t,n,r,i,a){if(ia=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,na.current=null===e||null===e.memoizedState?$a:Xa,e=n(r,i),ca){a=0;do{if(ca=!1,ua=0,25<=a)throw Error(s(301));a+=1,oa=aa=null,t.updateQueue=null,na.current=Ja,e=n(r,i)}while(ca)}if(na.current=Ya,t=null!==aa&&null!==aa.next,ia=0,oa=aa=sa=null,la=!1,t)throw Error(s(300));return e}function ma(){var e=0!==ua;return ua=0,e}function ga(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oa?sa.memoizedState=oa=e:oa=oa.next=e,oa}function ya(){if(null===aa){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=aa.next;var t=null===oa?sa.memoizedState:oa.next;if(null!==t)oa=t,aa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(aa=e).memoizedState,baseState:aa.baseState,baseQueue:aa.baseQueue,queue:aa.queue,next:null},null===oa?sa.memoizedState=oa=e:oa=oa.next=e}return oa}function va(e,t){return"function"===typeof t?t(e):t}function ba(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=aa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ia&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,sa.lanes|=d,Ol|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,ar(r,t.memoizedState)||(vo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Ol|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);ar(a,t.memoizedState)||(vo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function xa(){}function _a(e,t){var n=sa,r=ya(),i=t(),a=!ar(r.memoizedState,i);if(a&&(r.memoizedState=i,vo=!0),r=r.queue,Da(Ea.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==oa&&1&oa.memoizedState.tag){if(n.flags|=2048,Na(9,Sa.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(s(349));0!==(30&ia)||ka(n,t,i)}return i}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sa(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&Ta(e)}function Ea(e,t,n){return n(function(){Ca(t)&&Ta(e)})}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ta(e){var t=js(e,1);null!==t&&tc(t,e,1,-1)}function Aa(e){var t=ga();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[t.memoizedState,e]}function Na(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ia(){return ya().memoizedState}function Pa(e,t,n,r){var i=ga();sa.flags|=e,i.memoizedState=Na(1|t,n,void 0,void 0===r?null:r)}function Ra(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==aa){var a=aa.memoizedState;if(s=a.destroy,null!==r&&fa(r,a.deps))return void(i.memoizedState=Na(t,n,s,r))}sa.flags|=e,i.memoizedState=Na(1|t,n,s,r)}function ja(e,t){return Pa(8390656,8,e,t)}function Da(e,t){return Ra(2048,8,e,t)}function Oa(e,t){return Ra(4,2,e,t)}function La(e,t){return Ra(4,4,e,t)}function Ma(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,Ma.bind(null,t,e),n)}function Fa(){}function Ua(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function za(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ba(e,t,n){return 0===(21&ia)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=n):(ar(n,t)||(n=pt(),sa.lanes|=n,Ol|=n,e.baseState=!0),t)}function Ha(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=ra.transition;ra.transition={};try{e(!1),t()}finally{vt=n,ra.transition=r}}function Wa(){return ya().memoizedState}function qa(e,t,n){var r=ec(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ga(e))Za(t,n);else if(null!==(n=Rs(e,t,n,r))){tc(n,e,r,Jl()),Qa(n,t,r)}}function Ka(e,t,n){var r=ec(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ga(e))Za(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ar(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ps(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Rs(e,t,i,r))&&(tc(n,e,r,i=Jl()),Qa(n,t,r))}}function Ga(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Za(e,t){ca=la=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ya={readContext:Ns,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},$a={readContext:Ns,useCallback:function(e,t){return ga().memoizedState=[e,void 0===t?null:t],e},useContext:Ns,useEffect:ja,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,Ma.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=ga();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ga();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qa.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ga().memoizedState=e},useState:Aa,useDebugValue:Fa,useDeferredValue:function(e){return ga().memoizedState=e},useTransition:function(){var e=Aa(!1),t=e[0];return e=Ha.bind(null,e[1]),ga().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ga();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&ia)||ka(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ja(Ea.bind(null,r,a,e),[e]),r.flags|=2048,Na(9,Sa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ga(),t=Al.identifierPrefix;if(rs){var n=Yi;t=":"+t+"R"+(n=(Qi&~(1<<32-st(Qi)-1)).toString(32)+n),0<(n=ua++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xa={readContext:Ns,useCallback:Ua,useContext:Ns,useEffect:Da,useImperativeHandle:Va,useInsertionEffect:Oa,useLayoutEffect:La,useMemo:za,useReducer:ba,useRef:Ia,useState:function(){return ba(va)},useDebugValue:Fa,useDeferredValue:function(e){return Ba(ya(),aa.memoizedState,e)},useTransition:function(){return[ba(va)[0],ya().memoizedState]},useMutableSource:xa,useSyncExternalStore:_a,useId:Wa,unstable_isNewReconciler:!1},Ja={readContext:Ns,useCallback:Ua,useContext:Ns,useEffect:Da,useImperativeHandle:Va,useInsertionEffect:Oa,useLayoutEffect:La,useMemo:za,useReducer:wa,useRef:Ia,useState:function(){return wa(va)},useDebugValue:Fa,useDeferredValue:function(e){var t=ya();return null===aa?t.memoizedState=e:Ba(t,aa.memoizedState,e)},useTransition:function(){return[wa(va)[0],ya().memoizedState]},useMutableSource:xa,useSyncExternalStore:_a,useId:Wa,unstable_isNewReconciler:!1};function eo(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function to(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Jl(),i=ec(e),s=Ms(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(tc(t,e,i,r),Fs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Jl(),i=ec(e),s=Ms(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(tc(t,e,i,r),Fs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Jl(),r=ec(e),i=Ms(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vs(e,i,r))&&(tc(t,e,r,n),Fs(t,e,r))}};function ro(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,s))}function io(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Ns(s):(i=Pi(t)?Ni:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function so(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function ao(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Os(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ns(s):(s=Pi(t)?Ni:Ti.current,i.context=Ii(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(to(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&no.enqueueReplaceState(i,i.state,null),zs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function oo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function lo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,n){(n=Ms(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),co(0,t)},n}function fo(e,t,n){(n=Ms(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){co(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){co(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function po(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function mo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ms(-1,1)).tag=2,Vs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=w.ReactCurrentOwner,vo=!1;function bo(e,t,n,r){t.child=null===e?ws(t,null,n,r):bs(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var s=t.ref;return As(t,i),r=pa(e,t,n,r,s,i),n=ma(),null===e||vo?(rs&&n&&Ji(t),t.flags|=1,bo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function xo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,_o(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:or)(a,r)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function _o(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(or(s,r)&&e.ref===t.ref){if(vo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(vo=!0)}}return Eo(e,t,n,r,i)}function ko(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Rl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Rl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ei(Rl,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ei(Rl,Pl),Pl|=r;return bo(e,t,i,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,n,r,i){var s=Pi(n)?Ni:Ti.current;return s=Ii(t,s),As(t,i),n=pa(e,t,n,r,s,i),r=ma(),null===e||vo?(rs&&r&&Ji(t),t.flags|=1,bo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function Co(e,t,n,r,i){if(Pi(n)){var s=!0;Oi(t)}else s=!1;if(As(t,i),null===t.stateNode)Bo(e,t),io(t,n,r),ao(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ns(c):c=Ii(t,c=Pi(n)?Ni:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&so(t,a,r,c),Ds=!1;var h=t.memoizedState;a.state=h,zs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ai.current||Ds?("function"===typeof u&&(to(t,n,u,r),l=t.memoizedState),(o=Ds||ro(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ls(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:eo(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ns(l):l=Ii(t,l=Pi(n)?Ni:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&so(t,a,r,l),Ds=!1,h=t.memoizedState,a.state=h,zs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ai.current||Ds?("function"===typeof f&&(to(t,n,f,r),p=t.memoizedState),(c=Ds||ro(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,s,i)}function To(e,t,n,r,i,s){So(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Ho(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,o,s)):bo(e,t,o,s),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?ji(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ji(0,t.context,!1),Zs(e,t.containerInfo)}function No(e,t,n,r,i){return hs(),fs(i),t.flags|=256,bo(e,t,n,r),t.child}var Io,Po,Ro,jo,Do={dehydrated:null,treeContext:null,retryLane:0};function Oo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,n){var r,i=t.pendingProps,a=Xs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ei(Xs,1&a),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Oc(l,i,0,null),e=Dc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Oo(n),t.memoizedState=Do,e):Mo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Vo(e,t,o,r=lo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Oc({mode:"visible",children:r.children},i,0,null),(a=Dc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,o),t.child.memoizedState=Oo(o),t.memoizedState=Do,a);if(0===(1&t.mode))return Vo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Vo(e,t,o,r=lo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(r=Al)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,js(e,i),tc(r,e,i,-1))}return pc(),Vo(e,t,o,r=lo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ns=li(i.nextSibling),ts=t,rs=!0,is=null,null!==e&&(Ki[Gi++]=Qi,Ki[Gi++]=Yi,Ki[Gi++]=Zi,Qi=e.id,Yi=e.overflow,Zi=t),t=Mo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Rc(r,o):(o=Dc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Oo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,i}return e=(o=e.child).sibling,i=Rc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Mo(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vo(e,t,n,r){return null!==r&&fs(r),bs(t,e.child,null,n),(e=Mo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function Uo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=Xs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fo(e,n,t);else if(19===e.tag)Fo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(Xs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Js(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Js(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uo(t,!0,n,null,s);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(es(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(t),null;case 1:case 17:return Pi(t.type)&&Ri(),qo(t),null;case 3:return r=t.stateNode,Qs(),Si(Ai),Si(Ti),ta(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==is&&(sc(is),is=null))),Po(e,t),qo(t),null;case 5:$s(t);var i=Gs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return qo(t),null}if(e=Gs(Ws.current),us(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Vr(Dr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":ie(r,a),Vr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":K(r),J(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[hi]=r,Io(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Vr(Dr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Vr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),J(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qo(t),null;case 6:if(e&&null!=t.stateNode)jo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Gs(Ks.current),Gs(Ws.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ts))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return qo(t),null;case 13:if(Si(Xs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))ds(),hs(),t.flags|=98560,a=!1;else if(a=us(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qo(t),a=!1}else null!==is&&(sc(is),is=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xs.current)?0===jl&&(jl=3):pc())),null!==t.updateQueue&&(t.flags|=4),qo(t),null);case 4:return Qs(),Po(e,t),null===e&&zr(t.stateNode.containerInfo),qo(t),null;case 10:return Cs(t.type._context),qo(t),null;case 19:if(Si(Xs),null===(a=t.memoizedState))return qo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Wo(a,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Js(e))){for(t.flags|=128,Wo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(Xs,1&Xs.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>zl&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Js(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!rs)return qo(t),null}else 2*Ye()-a.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=Xs.current,Ei(Xs,r?1&n|2:1&n),t):(qo(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(qo(t),6&t.subtreeFlags&&(t.flags|=8192)):qo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Go(e,t){switch(es(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),Si(Ai),Si(Ti),ta(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $s(t),null;case 13:if(Si(Xs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(Xs),null;case 4:return Qs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Io=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gs(Ws.current);var s,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zo=!1,Qo=!1,Yo="function"===typeof WeakSet?WeakSet:Set,$o=null;function Xo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function Jo(e,t,n){try{n()}catch(r){kc(e,t,r)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&Jo(t,n,s)}i=i.next}while(i!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[pi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Qo||Xo(n,t);case 6:var r=cl,i=ul;cl=null,dl(e,t,n),ul=i,null!==(cl=r)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?oi(e.parentNode,n):1===e.nodeType&&oi(e,n),zt(e)):oi(cl,n.stateNode));break;case 4:r=cl,i=ul,cl=n.stateNode.containerInfo,ul=!0,dl(e,t,n),cl=r,ul=i;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&Jo(n,t,a),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Qo&&(Xo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kc(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,dl(e,t,n),Qo=r):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(s(160));hl(a,o,i),cl=null,ul=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),gl(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(Op){kc(e,e.return,Op)}try{tl(5,e,e.return)}catch(Op){kc(e,e.return,Op)}}break;case 1:pl(t,e),gl(e),512&r&&null!==n&&Xo(n,n.return);break;case 5:if(pl(t,e),gl(e),512&r&&null!==n&&Xo(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(Op){kc(e,e.return,Op)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),ve(l,o);var u=ve(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?ue(i,h):"children"===d?de(i,h):b(i,d,h,u)}switch(l){case"input":X(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(Op){kc(e,e.return,Op)}}break;case 6:if(pl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(Op){kc(e,e.return,Op)}}break;case 3:if(pl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(Op){kc(e,e.return,Op)}break;case 4:default:pl(t,e),gl(e);break;case 13:pl(t,e),gl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=Ye())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(u=Qo)||d,pl(t,e),Qo=u):pl(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($o=e,d=e.child;null!==d;){for(h=$o=d;null!==$o;){switch(p=(f=$o).child,f.tag){case 0:case 11:case 14:case 15:tl(4,f,f.return);break;case 1:Xo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(Op){kc(r,n,Op)}}break;case 5:Xo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,$o=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(Op){kc(e,e.return,Op)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(Op){kc(e,e.return,Op)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),gl(e),4&r&&fl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ll(e,al(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ol(e,al(e),a);break;default:throw Error(s(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){$o=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==$o;){var i=$o,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Zo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Zo;var c=Qo;if(Zo=a,(Qo=l)&&!c)for($o=i;null!==$o;)l=(a=$o).child,22===a.tag&&null!==a.memoizedState?xl(i):null!==l?(l.return=a,$o=l):xl(i);for(;null!==s;)$o=s,vl(s,t,n),s=s.sibling;$o=i,Zo=o,Qo=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,$o=s):bl(e)}}function bl(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:eo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Qo||512&t.flags&&rl(t)}catch(fp){kc(t,t.return,fp)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function wl(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function xl(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var s=t.return;try{rl(t)}catch(l){kc(t,s,l)}break;case 5:var a=t.return;try{rl(t)}catch(l){kc(t,a,l)}}}catch(l){kc(t,t.return,l)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var _l,kl=Math.ceil,Sl=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Tl=0,Al=null,Nl=null,Il=0,Pl=0,Rl=ki(0),jl=0,Dl=null,Ol=0,Ll=0,Ml=0,Vl=null,Fl=null,Ul=0,zl=1/0,Bl=null,Hl=!1,Wl=null,ql=null,Kl=!1,Gl=null,Zl=0,Ql=0,Yl=null,$l=-1,Xl=0;function Jl(){return 0!==(6&Tl)?Ye():-1!==$l?$l:$l=Ye()}function ec(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Il?Il&-Il:null!==ps.transition?(0===Xl&&(Xl=pt()),Xl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function tc(e,t,n,r){if(50<Ql)throw Ql=0,Yl=null,Error(s(185));gt(e,n,r),0!==(2&Tl)&&e===Al||(e===Al&&(0===(2&Tl)&&(Ll|=n),4===jl&&ac(e,Il)),nc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(zl=Ye()+500,Vi&&zi()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-st(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ht(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Al?Il:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Vi=!0,Ui(e)}(oc.bind(null,e)):Ui(oc.bind(null,e)),si(function(){0===(6&Tl)&&zi()}),n=null;else{switch(bt(r)){case 1:n=Xe;break;case 4:n=Je;break;case 16:default:n=et;break;case 536870912:n=nt}n=Ac(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if($l=-1,Xl=0,0!==(6&Tl))throw Error(s(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===Al?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Tl;Tl|=2;var a=fc();for(Al===e&&Il===t||(Bl=null,zl=Ye()+500,dc(e,t));;)try{yc();break}catch(l){hc(e,l)}Es(),Sl.current=a,Tl=i,null!==Nl?t=0:(Al=null,Il=0,t=jl)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=ic(e,i))),1===t)throw n=Dl,dc(e,0),ac(e,r),nc(e,Ye()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(a=ft(e))&&(r=a,t=ic(e,a))),1===t))throw n=Dl,dc(e,0),ac(e,r),nc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Fl,Bl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Ul+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Jl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ni(wc.bind(null,e,Fl,Bl),t);break}wc(e,Fl,Bl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ni(wc.bind(null,e,Fl,Bl),r);break}wc(e,Fl,Bl);break;default:throw Error(s(329))}}}return nc(e,Ye()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Fl,Fl=n,null!==t&&sc(t)),e}function sc(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function ac(e,t){for(t&=~Ml,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&Tl))throw Error(s(327));xc();var t=dt(e,0);if(0===(1&t))return nc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Dl,dc(e,0),ac(e,t),nc(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Fl,Bl),nc(e,Ye()),null}function lc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(zl=Ye()+500,Vi&&zi())}}function cc(e){null!==Gl&&0===Gl.tag&&0===(6&Tl)&&xc();var t=Tl;Tl|=1;var n=Cl.transition,r=vt;try{if(Cl.transition=null,vt=1,e)return e()}finally{vt=r,Cl.transition=n,0===(6&(Tl=t))&&zi()}}function uc(){Pl=Rl.current,Si(Rl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ri(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(es(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Qs(),Si(Ai),Si(Ti),ta();break;case 5:$s(r);break;case 4:Qs();break;case 13:case 19:Si(Xs);break;case 10:Cs(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Al=e,Nl=e=Rc(e.current,null),Il=Pl=t,jl=0,Dl=null,Ml=Ll=Ol=0,Fl=Vl=null,null!==Is){for(t=0;t<Is.length;t++)if(null!==(r=(n=Is[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Is=null}return e}function hc(e,t){for(;;){var n=Nl;try{if(Es(),na.current=Ya,la){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}la=!1}if(ia=0,oa=aa=sa=null,ca=!1,ua=0,El.current=null,null===n||null===n.return){jl=1,Dl=t,Nl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=mo(o);if(null!==p){p.flags&=-257,go(p,o,l,0,t),1&p.mode&&po(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){po(a,u,t),pc();break e}c=Error(s(426))}else if(rs&&1&l.mode){var y=mo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),go(y,o,l,0,t),fs(oo(c,l));break e}}a=c=oo(c,l),4!==jl&&(jl=2),null===Vl?Vl=[a]:Vl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Us(a,ho(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Us(a,fo(a,l,t));break e}}a=a.return}while(null!==a)}bc(n)}catch(w){t=w,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function fc(){var e=Sl.current;return Sl.current=Ya,null===e?Ya:e}function pc(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Al||0===(268435455&Ol)&&0===(268435455&Ll)||ac(Al,Il)}function mc(e,t){var n=Tl;Tl|=2;var r=fc();for(Al===e&&Il===t||(Bl=null,dc(e,t));;)try{gc();break}catch(i){hc(e,i)}if(Es(),Tl=n,Sl.current=r,null!==Nl)throw Error(s(261));return Al=null,Il=0,jl}function gc(){for(;null!==Nl;)vc(Nl)}function yc(){for(;null!==Nl&&!Ze();)vc(Nl)}function vc(e){var t=_l(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?bc(e):Nl=t,El.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Pl)))return void(Nl=n)}else{if(null!==(n=Go(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return jl=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===jl&&(jl=5)}function wc(e,t,n){var r=vt,i=Cl.transition;try{Cl.transition=null,vt=1,function(e,t,n,r){do{xc()}while(null!==Gl);if(0!==(6&Tl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Al&&(Nl=Al=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ac(et,function(){return xc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var o=vt;vt=1;var l=Tl;Tl|=4,El.current=null,function(e,t){if(Jr=Ht,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:e,selectionRange:n},Ht=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:eo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){kc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}m=el,el=!1}(e,n),ml(n,e),fr(ei),Ht=!!Jr,ei=Jr=null,e.current=n,yl(n,e,i),Qe(),Tl=l,vt=o,Cl.transition=a}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Zl=i),a=e.pendingLanes,0===a&&(ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Zl)&&0!==e.tag&&xc(),a=e.pendingLanes,0!==(1&a)?e===Yl?Ql++:(Ql=0,Yl=e):Ql=0,zi()}(e,t,n,r)}finally{Cl.transition=i,vt=r}return null}function xc(){if(null!==Gl){var e=bt(Zl),t=Cl.transition,n=vt;try{if(Cl.transition=null,vt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Zl=0,0!==(6&Tl))throw Error(s(331));var i=Tl;for(Tl|=4,$o=e.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($o=u;null!==$o;){var d=$o;switch(d.tag){case 0:case 11:case 15:tl(8,d,a)}var h=d.child;if(null!==h)h.return=d,$o=h;else for(;null!==$o;){var f=(d=$o).sibling,p=d.return;if(il(d),d===u){$o=null;break}if(null!==f){f.return=p,$o=f;break}$o=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else e:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:tl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,$o=v;break e}$o=a.return}}var b=e.current;for($o=b;null!==$o;){var w=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,$o=w;else e:for(o=b;null!==$o;){if(0!==(2048&(l=$o).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(_){kc(l,l.return,_)}if(l===o){$o=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,$o=x;break e}$o=l.return}}if(Tl=i,zi(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(_){}r=!0}return r}finally{vt=n,Cl.transition=t}}return!1}function _c(e,t,n){e=Vs(e,t=ho(0,t=oo(n,t),1),1),t=Jl(),null!==e&&(gt(e,1,t),nc(e,t))}function kc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Vs(t,e=fo(t,e=oo(n,e),1),1),e=Jl(),null!==t&&(gt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Jl(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Il&n)===n&&(4===jl||3===jl&&(130023424&Il)===Il&&500>Ye()-Ul?dc(e,0):Ml|=n),nc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=Jl();null!==(e=js(e,t))&&(gt(e,t,n),nc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return Ke(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Nc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Dc(n.children,i,a,t);case S:o=8,i|=8;break;case E:return(e=Ic(12,n,t,2|i)).elementType=E,e.lanes=a,e;case N:return(e=Ic(13,n,t,i)).elementType=N,e.lanes=a,e;case I:return(e=Ic(19,n,t,i)).elementType=I,e.lanes=a,e;case j:return Oc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case T:o=9;break e;case A:o=11;break e;case P:o=14;break e;case R:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ic(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Dc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Oc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,i,s,a,o,l){return e=new Vc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ic(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),e}function Uc(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Di(e,n,t)}return t}function zc(e,t,n,r,i,s,a,o,l){return(e=Fc(n,r,!0,e,0,s,0,o,l)).context=Uc(null),n=e.current,(s=Ms(r=Jl(),i=ec(n))).callback=void 0!==t&&null!==t?t:null,Vs(n,s,i),e.current.lanes=i,gt(e,i,r),nc(e,r),e}function Bc(e,t,n,r){var i=t.current,s=Jl(),a=ec(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ms(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vs(i,t,a))&&(tc(e,i,a,s),Fs(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)vo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vo=!1,function(e,t,n){switch(t.tag){case 3:Ao(t),hs();break;case 5:Ys(t);break;case 1:Pi(t.type)&&Oi(t);break;case 4:Zs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(xs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(Xs,1&Xs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lo(e,t,n):(Ei(Xs,1&Xs.current),null!==(e=Ho(e,t,n))?e.sibling:null);Ei(Xs,1&Xs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(Xs,Xs.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Ho(e,t,n)}(e,t,n);vo=0!==(131072&e.flags)}else vo=!1,rs&&0!==(1048576&t.flags)&&Xi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bo(e,t),e=t.pendingProps;var i=Ii(t,Ti.current);As(t,n),i=pa(null,t,r,e,i,n);var a=ma();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Oi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Os(t),i.updater=no,t.stateNode=i,i._reactInternals=t,ao(t,r,e,n),t=To(null,t,r,!0,a,n)):(t.tag=0,rs&&a&&Ji(t),bo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(r),e=eo(r,e),i){case 0:t=Eo(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=xo(null,t,r,eo(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 3:e:{if(Ao(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ls(e,t),zs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=No(e,t,r,n,i=oo(Error(s(423)),t));break e}if(r!==i){t=No(e,t,r,n,i=oo(Error(s(424)),t));break e}for(ns=li(t.stateNode.containerInfo.firstChild),ts=t,rs=!0,is=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hs(),r===i){t=Ho(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return Ys(t),null===e&&ls(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ti(r,i)?o=null:null!==a&&ti(r,a)&&(t.flags|=32),So(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&ls(t),null;case 13:return Lo(e,t,n);case 4:return Zs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ei(xs,r._currentValue),r._currentValue=o,null!==a)if(ar(a.value,o)){if(a.children===i.children&&!Ai.current){t=Ho(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ms(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ts(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ts(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}bo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,As(t,n),r=r(i=Ns(i)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return i=eo(r=t.type,t.pendingProps),xo(e,t,r,i=eo(r.type,i),n);case 15:return _o(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:eo(r,i),Bo(e,t),t.tag=1,Pi(r)?(e=!0,Oi(t)):e=!1,As(t,n),io(t,r,i),ao(t,r,i,n),To(null,t,r,!0,e,n);case 19:return zo(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Zc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Xc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Hc(a);o.call(e)}}Bc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(a);s.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[fi]=a.current,zr(8===e.nodeType?e.parentNode:e),cc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[fi]=l.current,zr(8===e.nodeType?e.parentNode:e),cc(function(){Bc(t,l,n,r)}),l}(n,t,e,i,r);return Hc(a)}Zc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Bc(e,t,null,null)},Zc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){Bc(null,e,null,null)}),t[fi]=null}},Zc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),nc(t,Ye()),0===(6&Tl)&&(zl=Ye()+500,zi()))}break;case 13:cc(function(){var t=js(e,1);if(null!==t){var n=Jl();tc(t,e,1,n)}}),qc(e,1)}},xt=function(e){if(13===e.tag){var t=js(e,134217728);if(null!==t)tc(t,e,134217728,Jl());qc(e,134217728)}},_t=function(e){if(13===e.tag){var t=ec(e),n=js(e,t);if(null!==n)tc(n,e,t,Jl());qc(e,t)}},kt=function(){return vt},St=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));G(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=lc,Ae=cc;var Jc={usingClientEntryPoint:!1,Events:[vi,bi,wi,Ee,Ce,lc]},eu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{rt=nu.inject(tu),it=nu}catch(Vp){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(s(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,o),e[fi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(s(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(cc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[fi]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},791:(e,t,n)=>{n.d(t,{y:()=>s,db:()=>a});var r=n(150);(0,r.KO)("firebase","11.9.1","app");var i=n(472);const s=(0,r.Wp)({apiKey:"AIzaSyCSASH_FE7RN573ISOFc9UMwwLWJTzfhMA",authDomain:"reaper-resins.firebaseapp.com",projectId:"reaper-resins",storageBucket:"reaper-resins.appspot.com",messagingSenderId:"642380335370",appId:"1:642380335370:web:4a7732d93d8b729c9fd2f3",measurementId:"G-TZGRB8GWYD"}),a=(0,i.aU)(s)},812:(e,t,n)=>{n.d(t,{h1:()=>o,uA:()=>i});var r=n(529);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===s?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(43),i=n(391);function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var a=n(555);n(175);const o=["sri"],l=["page"],c=["page","matches"],u=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],d=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],h=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var f="popstate";function p(){return x(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return v("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:b(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function m(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function g(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function y(e,t){return{usr:e.state,key:e.key,idx:t}}function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return(0,a.A)((0,a.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?w(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function b(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function w(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function x(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",c=null,u=d();function d(){return(o.state||{idx:null}).idx}function h(){l="POP";let e=d(),t=null==e?null:e-u;u=e,c&&c({action:l,location:m.location,delta:t})}function p(e){return _(e)}null==u&&(u=0,o.replaceState((0,a.A)((0,a.A)({},o.state),{},{idx:u}),""));let m={get action(){return l},get location(){return e(i,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(f,h),c=e,()=>{i.removeEventListener(f,h),c=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let r=v(m.location,e,t);n&&n(r,e),u=d()+1;let a=y(r,u),h=m.createHref(r);try{o.pushState(a,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}s&&c&&c({action:l,location:m.location,delta:1})},replace:function(e,t){l="REPLACE";let r=v(m.location,e,t);n&&n(r,e),u=d();let i=y(r,u),a=m.createHref(r);o.replaceState(i,"",a),s&&c&&c({action:l,location:m.location,delta:0})},go:e=>o.go(e)};return m}function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),m(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:b(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function k(e,t){return S(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function S(e,t,n,r){let i=F(("string"===typeof t?w(t):t).pathname||"/",n);if(null==i)return null;let s=E(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=V(i);a=O(s[o],e,r)}return a}function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(m(a.relativePath.startsWith(r),'Absolute route path "'.concat(a.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),a.relativePath=a.relativePath.slice(r.length));let o=W([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(m(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),E(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:D(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of C(e.path))i(e,t,r);else i(e,t)}),t}function C(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=C(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var T=/^:[\w-]+$/,A=3,N=2,I=1,P=10,R=-2,j=e=>"*"===e;function D(e,t){let n=e.split("/"),r=n.length;return n.some(j)&&(r+=R),t&&(r+=N),n.filter(e=>!j(e)).reduce((e,t)=>e+(T.test(t)?A:""===t?I:P),r)}function O(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:W([s,u.pathname]),pathnameBase:q(W([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=W([s,u.pathnameBase]))}return a}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=M(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function M(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];g("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function V(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return g(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function F(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function U(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function z(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function B(e){let t=z(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function H(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=w(e):(r=(0,a.A)({},e),m(!r.pathname||!r.pathname.includes("?"),U("?","pathname","search",r)),m(!r.pathname||!r.pathname.includes("#"),U("#","pathname","hash",r)),m(!r.search||!r.search.includes("#"),U("#","search","hash",r)));let s,o=""===e||""===r.pathname,l=o?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?w(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:K(r),hash:G(i)}}(r,s),u=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var W=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",G=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Q=["POST","PUT","PATCH","DELETE"],Y=(new Set(Q),["GET",...Q]);new Set(Y),Symbol("ResetLoaderData");var $=r.createContext(null);$.displayName="DataRouter";var X=r.createContext(null);X.displayName="DataRouterState";var J=r.createContext({isTransitioning:!1});J.displayName="ViewTransition";var ee=r.createContext(new Map);ee.displayName="Fetchers";var te=r.createContext(null);te.displayName="Await";var ne=r.createContext(null);ne.displayName="Navigation";var re=r.createContext(null);re.displayName="Location";var ie=r.createContext({outlet:null,matches:[],isDataRoute:!1});ie.displayName="Route";var se=r.createContext(null);se.displayName="RouteError";function ae(){return null!=r.useContext(re)}function oe(){return m(ae(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(re).location}var le="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ce(e){r.useContext(ne).static||r.useLayoutEffect(e)}function ue(){let{isDataRoute:e}=r.useContext(ie);return e?function(){let{router:e}=be("useNavigate"),t=xe("useNavigate"),n=r.useRef(!1);ce(()=>{n.current=!0});let i=r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(n.current,le),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,(0,a.A)({fromRouteId:t},i)))},[e,t]);return i}():function(){m(ae(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext($),{basename:t,navigator:n}=r.useContext(ne),{matches:i}=r.useContext(ie),{pathname:s}=oe(),a=JSON.stringify(B(i)),o=r.useRef(!1);ce(()=>{o.current=!0});let l=r.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(g(o.current,le),!o.current)return;if("number"===typeof r)return void n.go(r);let l=H(r,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:W([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,a,s,e]);return l}()}r.createContext(null);function de(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(ie),{pathname:i}=oe(),s=JSON.stringify(B(n));return r.useMemo(()=>H(e,JSON.parse(s),i,"path"===t),[e,s,i,t])}function he(e,t,n,i){m(ae(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=r.useContext(ne),{matches:o}=r.useContext(ie),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";Se(u,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,p=oe();if(t){var y;let e="string"===typeof t?w(t):t;m("/"===d||(null===(y=e.pathname)||void 0===y?void 0:y.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=p;let v=f.pathname||"/",b=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=k(e,{pathname:b});g(h||null!=x,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),g(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let _=ye(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:W([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:W([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,i);return t&&_?r.createElement(re.Provider,{value:{location:(0,a.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},_):_}function fe(){let e=_e(),t=Z(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,o)}var pe=r.createElement(fe,null),me=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(ie.Provider,{value:this.props.routeContext},r.createElement(se.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ge(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext($);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ie.Provider,{value:t},i)}function ye(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,s=null===n||void 0===n?void 0:n.errors;if(null!=s){let e=i.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));m(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let a=!1,o=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=r),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){a=!0,i=o>=0?i.slice(0,o+1):[i[0]];break}}}return i.reduceRight((e,l,c)=>{let u,d=!1,h=null,f=null;n&&(u=s&&l.route.id?s[l.route.id]:void 0,h=l.route.errorElement||pe,a&&(o<0&&0===c?(Se("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):o===c&&(d=!0,f=l.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,c+1)),m=()=>{let t;return t=u?h:d?f:l.route.Component?r.createElement(l.route.Component,null):l.route.element?l.route.element:e,r.createElement(ge,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?r.createElement(me,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function ve(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function be(e){let t=r.useContext($);return m(t,ve(e)),t}function we(e){let t=r.useContext(X);return m(t,ve(e)),t}function xe(e){let t=function(e){let t=r.useContext(ie);return m(t,ve(e)),t}(e),n=t.matches[t.matches.length-1];return m(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function _e(){var e;let t=r.useContext(se),n=we("useRouteError"),i=xe("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[i]}var ke={};function Se(e,t,n){t||ke[e]||(ke[e]=!0,g(!1,n))}r.memo(function(e){let{routes:t,future:n,state:r}=e;return he(t,void 0,r,n)});function Ee(e){let{to:t,replace:n,state:i,relative:s}=e;m(ae(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=r.useContext(ne);g(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=r.useContext(ie),{pathname:l}=oe(),c=ue(),u=H(t,B(o),l,"path"===s),d=JSON.stringify(u);return r.useEffect(()=>{c(JSON.parse(d),{replace:n,state:i,relative:s})},[c,d,s,n,i]),null}function Ce(e){m(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Te(e){let{basename:t="/",children:n=null,location:i,navigationType:s="POP",navigator:a,static:o=!1}=e;m(!ae(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);"string"===typeof i&&(i=w(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=i,y=r.useMemo(()=>{let e=F(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:s}},[l,u,d,h,f,p,s]);return g(null!=y,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==y?null:r.createElement(ne.Provider,{value:c},r.createElement(re.Provider,{children:n,value:y}))}function Ae(e){let{children:t,location:n}=e;return he(Ne(t),n)}r.Component;function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Ne(e.props.children,s));m(e.type===Ce,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),m(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ne(e.props.children,s)),n.push(a)}),n}var Ie="get",Pe="application/x-www-form-urlencoded";function Re(e){return null!=e&&"string"===typeof e.tagName}var je=null;var De=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Oe(e){return null==e||De.has(e)?e:(g(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Pe,'"')),null)}function Le(e,t){let n,r,i,s,a;if(Re(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?F(a,t):null,n=e.getAttribute("method")||Ie,i=Oe(e.getAttribute("enctype"))||Pe,s=new FormData(e)}else if(function(e){return Re(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Re(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?F(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Ie,i=Oe(e.getAttribute("formenctype"))||Oe(a.getAttribute("enctype"))||Pe,s=new FormData(a,e),!function(){if(null===je)try{new FormData(document.createElement("form"),0),je=!1}catch(e){je=!0}return je}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(Re(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ie,r=null,i=Pe,a=e}var o;return s&&"text/plain"===i&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function Me(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ve(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fe(e){return null!=e&&"string"===typeof e.page}function Ue(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function ze(e,t,n,r,i,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>a(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Be(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function He(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Fe(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e},[])}function We(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var qe=new Set([100,101,204,205]);function Ke(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===F(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}r.Component;function Ge(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,s=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Z(t))return r.createElement(Ze,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement(Ze,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function Ze(e){var t;let{title:n,renderScripts:i,isOutsideRemixApp:s,children:a}=e,{routeModules:o}=Je();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!s?a:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,i?r.createElement(at,null):null)))}function Qe(e,t){return"lazy"===e.mode&&!0===t}function Ye(){let e=r.useContext($);return Me(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $e(){let e=r.useContext(X);return Me(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Xe=r.createContext(void 0);function Je(){let e=r.useContext(Xe);return Me(e,"You must render this element inside a <HydratedRouter> element"),e}function et(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function tt(e,t,n){if(n&&!st)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}function nt(e){let{page:t}=e,n=s(e,l),{router:i}=Ye(),o=r.useMemo(()=>k(i.routes,t,i.basename),[i.routes,t,i.basename]);return o?r.createElement(it,(0,a.A)({page:t,matches:o},n)):null}function rt(e){let{manifest:t,routeModules:n}=Je(),[i,s]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return He((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Ve(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ue).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?(0,a.A)((0,a.A)({},e),{},{rel:"prefetch",as:"style"}):(0,a.A)((0,a.A)({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||s(e)}),()=>{r=!0}},[e,t,n]),i}function it(e){let{page:t,matches:n}=e,i=s(e,c),o=oe(),{manifest:l,routeModules:u}=Je(),{basename:d}=Ye(),{loaderData:h,matches:f}=$e(),p=r.useMemo(()=>ze(t,n,f,l,o,"data"),[t,n,f,l,o]),m=r.useMemo(()=>ze(t,n,f,l,o,"assets"),[t,n,f,l,o]),g=r.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let i=l.routes[t.route.id];i&&i.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in h&&null!==(n=u[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=Ke(t,d);return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[d,h,o,l,p,n,t,u]),y=r.useMemo(()=>Be(m,l),[m,l]),v=rt(m);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",(0,a.A)({key:e,rel:"prefetch",as:"fetch",href:e},i))),y.map(e=>r.createElement("link",(0,a.A)({key:e,rel:"modulepreload",href:e},i))),v.map(e=>{let{key:t,link:n}=e;return r.createElement("link",(0,a.A)({key:t},n))}))}Xe.displayName="FrameworkContext";var st=!1;function at(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,renderMeta:l,routeDiscovery:c,ssr:u}=Je(),{router:d,static:h,staticContext:f}=Ye(),{matches:p}=$e(),m=Qe(c,u);l&&(l.didRenderScripts=!0);let g=tt(p,null,i);r.useEffect(()=>{st=!0},[]);let y=r.useMemo(()=>{var i;let l=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=h?"".concat(null!==(i=t.hmr)&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(g.map((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];Me(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...a?[{module:a,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=s(e,o),i=new Set(t.state.matches.map(e=>e.route.id)),l=t.state.location.pathname.split("/").filter(Boolean),c=["/"];for(l.pop();l.length>0;)c.push("/".concat(l.join("/"))),l.pop();c.forEach(e=>{let n=k(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let u=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return(0,a.A)((0,a.A)({},r),{},{routes:u,sri:!!n||void 0})}(t,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",(0,a.A)((0,a.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:We(l),type:void 0})),r.createElement("script",(0,a.A)((0,a.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:We(c),type:"module",async:!0})))},[]),v=st?[]:(b=t.entry.imports.concat(Be(g,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let w="object"===typeof t.sri?t.sri:{};return st?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,m?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),v.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0})),y)}function ot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}var lt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{lt&&(window.__reactRouterVersion="7.6.2")}catch(ey){}function ct(e){let{basename:t,children:n,window:i}=e,s=r.useRef();null==s.current&&(s.current=p({window:i,v5Compat:!0}));let a=s.current,[o,l]=r.useState({action:a.action,location:a.location}),c=r.useCallback(e=>{r.startTransition(()=>l(e))},[l]);return r.useLayoutEffect(()=>a.listen(c),[a,c]),r.createElement(Te,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a})}var ut=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=r.forwardRef(function(e,t){let n,{onClick:i,discover:o="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:f,target:p,to:y,preventScrollReset:v,viewTransition:w}=e,x=s(e,u),{basename:_}=r.useContext(ne),k="string"===typeof y&&ut.test(y),S=!1;if("string"===typeof y&&k&&(n=y,lt))try{let e=new URL(window.location.href),t=y.startsWith("//")?new URL(e.protocol+y):new URL(y),n=F(t.pathname,_);t.origin===e.origin&&null!=n?y=n+t.search+t.hash:S=!0}catch(ey){g(!1,'<Link to="'.concat(y,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let E=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(ae(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(ne),{hash:s,pathname:a,search:o}=de(e,{relative:t}),l=a;return"/"!==n&&(l="/"===a?n:W([n,a])),i.createHref({pathname:l,search:o,hash:s})}(y,{relative:c}),[C,T,A]=function(e,t){let n=r.useContext(Xe),[i,s]=r.useState(!1),[a,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(i){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return n?"intent"!==e?[a,f,{}]:[a,f,{onFocus:et(l,p),onBlur:et(c,m),onMouseEnter:et(u,p),onMouseLeave:et(d,m),onTouchStart:et(h,p)}]:[!1,f,{}]}(l,x),N=function(e){let{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ue(),c=oe(),u=de(e,{relative:a});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:b(c)===b(u);l(e,{replace:t,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,n,i,t,e,s,a,o])}(y,{replace:h,state:f,target:p,preventScrollReset:v,relative:c,viewTransition:w});let I=r.createElement("a",(0,a.A)((0,a.A)((0,a.A)({},x),A),{},{href:n||E,onClick:S||d?i:function(e){i&&i(e),e.defaultPrevented||N(e)},ref:ot(t,T),target:p,"data-discover":k||"render"!==o?void 0:"true"}));return C&&!k?r.createElement(r.Fragment,null,I,r.createElement(nt,{page:E})):I});dt.displayName="Link",r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:o="",end:l=!1,style:c,to:u,viewTransition:h,children:f}=e,p=s(e,d),g=de(u,{relative:p.relative}),y=oe(),v=r.useContext(X),{navigator:b,basename:w}=r.useContext(ne),x=null!=v&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(J);m(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=pt("useViewTransitionState"),s=de(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=F(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=F(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=L(s.pathname,o)||null!=L(s.pathname,a)}(g)&&!0===h,_=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,k=y.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(k=k.toLowerCase(),S=S?S.toLowerCase():null,_=_.toLowerCase()),S&&w&&(S=F(S,w)||S);const E="/"!==_&&_.endsWith("/")?_.length-1:_.length;let C,T=k===_||!l&&k.startsWith(_)&&"/"===k.charAt(E),A=null!=S&&(S===_||!l&&S.startsWith(_)&&"/"===S.charAt(_.length)),N={isActive:T,isPending:A,isTransitioning:x},I=T?n:void 0;C="function"===typeof o?o(N):[o,T?"active":null,A?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof c?c(N):c;return r.createElement(dt,(0,a.A)((0,a.A)({},p),{},{"aria-current":I,className:C,ref:t,style:P,to:u,viewTransition:h}),"function"===typeof f?f(N):f)}).displayName="NavLink";var ht=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:o,reloadDocument:l,replace:c,state:u,method:d=Ie,action:f,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:v}=e,w=s(e,h),x=yt(),_=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ne),i=r.useContext(ie);m(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o=(0,a.A)({},de(e||".",{relative:t})),l=oe();if(null==e){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:W([n,o.pathname]));return b(o)}(f,{relative:g}),k="get"===d.toLowerCase()?"get":"post",S="string"===typeof f&&ut.test(f);return r.createElement("form",(0,a.A)((0,a.A)({ref:t,method:k,action:_,onSubmit:l?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;x(t||e.currentTarget,{fetcherKey:i,method:n,navigate:o,replace:c,state:u,relative:g,preventScrollReset:y,viewTransition:v})}},w),{},{"data-discover":S||"render"!==n?void 0:"true"}))});function ft(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function pt(e){let t=r.useContext($);return m(t,ft(e)),t}ht.displayName="Form";var mt=0,gt=()=>"__".concat(String(++mt),"__");function yt(){let{router:e}=pt("useSubmit"),{basename:t}=r.useContext(ne),n=xe("useRouteId");return r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:o,formData:l,body:c}=Le(r,t);if(!1===i.navigate){let t=i.fetcherKey||gt();await e.fetch(t,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}var vt=n(150),bt=n(529),wt=n(443);function xt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var _t=n(812);function kt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const St=kt,Et=new bt.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ct=new wt.Vy("@firebase/auth");function Tt(e){if(Ct.logLevel<=wt.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ct.error("Auth (".concat(vt.MF,"): ").concat(e),...n)}}function At(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw jt(e,...n)}function Nt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return jt(e,...n)}function It(e,t,n){const r=Object.assign(Object.assign({},St()),{[t]:n});return new bt.FA("auth","Firebase",r).create(t,{appName:e.name})}function Pt(e){return It(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rt(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&At(e,"argument-error"),It(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function jt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Et.create(e,...n)}function Dt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw jt(t,...r)}}function Ot(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Tt(t),new Error(t)}function Lt(e,t){e||Ot(t)}function Mt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Vt(){return"http:"===Ft()||"https:"===Ft()}function Ft(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Ut{constructor(e,t){this.shortDelay=e,this.longDelay=t,Lt(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,bt.jZ)()||(0,bt.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Vt()||(0,bt.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function zt(e,t){Lt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Bt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ht={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Wt=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qt=new Ut(3e4,6e4);function Kt(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Gt(e,t,n,r){return Zt(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=(0,bt.Am)(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return(0,bt.c1)()||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,bt.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),Bt.fetch()(await Yt(e,e.config.apiHost,n,a),l)})}async function Zt(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ht),t);try{const t=new Xt(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Jt(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Jt(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Jt(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Jt(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw It(e,o,a);At(e,o)}}catch(ey){if(ey instanceof bt.g)throw ey;At(e,"network-request-failed",{message:String(ey)})}}async function Qt(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Gt(e,t,n,r,i);return"mfaPendingCredential"in s&&At(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Yt(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,a=s.config.emulator?zt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Wt.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function $t(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xt{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Nt(this.auth,"network-request-failed")),qt.get())})}}function Jt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Nt(e,t,r);return i.customData._tokenResponse=n,i}function en(e){return void 0!==e&&void 0!==e.enterprise}class tn{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $t(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nn(e,t){return Gt(e,"GET","/v2/recaptchaConfig",Kt(e,t))}async function rn(e,t){return Gt(e,"POST","/v1/accounts:lookup",t)}function sn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(ey){}}function an(e){return 1e3*Number(e)}function on(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Tt("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,bt.u)(n);return e?JSON.parse(e):(Tt("Failed to decode base64 JWT payload"),null)}catch(ey){return Tt("Caught error parsing JWT payload as JSON",null===ey||void 0===ey?void 0:ey.toString()),null}}function ln(e){const t=on(e);return Dt(t,"internal-error"),Dt("undefined"!==typeof t.exp,"internal-error"),Dt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function cn(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(ey){throw ey instanceof bt.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(ey)&&e.auth.currentUser===e&&await e.auth.signOut(),ey}}class un{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(ey){return void((null===ey||void 0===ey?void 0:ey.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class dn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sn(this.lastLoginAt),this.creationTime=sn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hn(e){var t;const n=e.auth,r=await e.getIdToken(),i=await cn(e,rn(n,{idToken:r}));Dt(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?fn(s.providerUserInfo):[],o=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new dn(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function fn(e){return e.map(e=>{var{providerId:t}=e,n=xt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class pn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Dt(e.idToken,"internal-error"),Dt("undefined"!==typeof e.idToken,"internal-error"),Dt("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):ln(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Dt(0!==e.length,"internal-error");const t=ln(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Dt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Zt(e,{},async()=>{const n=(0,bt.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await Yt(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&(0,bt.zJ)(e.emulatorConfig.host)&&(o.credentials="include"),Bt.fetch()(s,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new pn;return n&&(Dt("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Dt("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Dt("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pn,this.toJSON())}_performRefresh(){return Ot("not implemented")}}function mn(e,t){Dt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class gn{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=xt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new un(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new dn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await cn(this,this.stsTokenManager.getToken(this.auth,e));return Dt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,bt.Ku)(e),r=await n.getIdToken(t),i=on(r);Dt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:sn(an(i.auth_time)),issuedAtTime:sn(an(i.iat)),expirationTime:sn(an(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,bt.Ku)(e);await hn(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await hn(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,vt.xZ)(this.auth.app))return Promise.reject(Pt(this.auth));const e=await this.getIdToken();return await cn(this,async function(e,t){return Gt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:_}=t;Dt(v&&_,e,"internal-error");const k=pn.fromJSON(this.name,_);Dt("string"===typeof v,e,"internal-error"),mn(u,e.name),mn(d,e.name),Dt("boolean"===typeof b,e,"internal-error"),Dt("boolean"===typeof w,e,"internal-error"),mn(h,e.name),mn(f,e.name),mn(p,e.name),mn(m,e.name),mn(g,e.name),mn(y,e.name);const S=new gn({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(S.providerData=x.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new pn;r.updateFromServerResponse(t);const i=new gn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await hn(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Dt(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?fn(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new pn;a.updateFromIdToken(n);const o=new gn({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new dn(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const yn=new Map;function vn(e){Lt(e instanceof Function,"Expected a class definition");let t=yn.get(e);return t?(Lt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yn.set(e,t),t)}class bn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}bn.type="NONE";const wn=bn;function xn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class _n{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=xn(this.userKey,r.apiKey,i),this.fullPersistenceKey=xn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await rn(this.auth,{idToken:e}).catch(()=>{});return t?gn._fromGetAccountInfoResponse(this.auth,t,e):null}return gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new _n(vn(wn),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||vn(wn);const s=xn(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await rn(e,{idToken:t}).catch(()=>{});if(!r)break;n=await gn._fromGetAccountInfoResponse(e,r,t)}else n=gn._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new _n(i,e,n)):new _n(i,e,n)}}function kn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Tn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Sn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Nn(t))return"Blackberry";if(In(t))return"Webos";if(En(t))return"Safari";if((t.includes("chrome/")||Cn(t))&&!t.includes("edge/"))return"Chrome";if(An(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Sn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,bt.ZQ)();return/firefox\//i.test(e)}function En(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,bt.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,bt.ZQ)();return/crios\//i.test(e)}function Tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,bt.ZQ)();return/iemobile/i.test(e)}function An(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,bt.ZQ)();return/android/i.test(e)}function Nn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,bt.ZQ)();return/blackberry/i.test(e)}function In(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,bt.ZQ)();return/webos/i.test(e)}function Pn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,bt.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Rn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,bt.ZQ)();return Pn(e)||An(e)||In(e)||Nn(e)||/windows phone/i.test(e)||Tn(e)}function jn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=kn((0,bt.ZQ)());break;case"Worker":t="".concat(kn((0,bt.ZQ)()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(vt.MF,"/").concat(r)}class Dn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(ey){r(ey)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(ey){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===ey||void 0===ey?void 0:ey.message})}}}class On{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ln{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vn(this),this.idTokenSubscription=new Vn(this),this.beforeStateQueue=new Dn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Et,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vn(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await _n.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(ey){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await rn(this,{idToken:e}),n=await gn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,vt.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(ey){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(ey))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(ey){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hn(e)}catch(ey){if((null===ey||void 0===ey?void 0:ey.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,vt.xZ)(this.app))return Promise.reject(Pt(this));const t=e?(0,bt.Ku)(e):null;return t&&Dt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Dt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,vt.xZ)(this.app)?Promise.reject(Pt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,vt.xZ)(this.app)?Promise.reject(Pt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vn(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Gt(e,"GET","/v2/passwordPolicy",Kt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new On(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bt.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Gt(e,"POST","/v2/accounts:revokeToken",Kt(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vn(e)||this._popupRedirectResolver;Dt(t,this,"argument-error"),this.redirectPersistenceManager=await _n.create(this,[vn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Dt(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,vt.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ct.logLevel<=wt.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ct.warn("Auth (".concat(vt.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Mn(e){return(0,bt.Ku)(e)}class Vn{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,bt.tD)(e=>this.observer=e)}get next(){return Dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fn={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Un(e){return Fn.loadJS(e)}function zn(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Bn{constructor(){this.enterprise=new Hn}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Hn{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Wn="NO_RECAPTCHA";class qn{constructor(e){this.type="recaptcha-enterprise",this.auth=Mn(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;en(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Wn)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Bn).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{nn(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new tn(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&en(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Fn.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Un(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Kn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new qn(e);let a;if(i)a=Wn;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Gn(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Kn(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Kn(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await Kn(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Kn(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Kn(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Zn(e){const t=Mn(e),n=await nn(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new tn(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new qn(t).verify()}}function Qn(e,t,n){const r=Mn(e);Dt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Yn(t),{host:a,port:o}=function(e){const t=Yn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:$n(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:$n(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(s,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Dt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Dt((0,bt.bD)(c,r.config.emulator)&&(0,bt.bD)(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,(0,bt.zJ)(a)?((0,bt.gE)("".concat(s,"//").concat(a).concat(l)),(0,bt.P1)("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Yn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function $n(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Xn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ot("not implemented")}_getIdTokenResponse(e){return Ot("not implemented")}_linkToIdToken(e,t){return Ot("not implemented")}_getReauthenticationResolver(e){return Ot("not implemented")}}async function Jn(e,t){return Gt(e,"POST","/v1/accounts:signUp",t)}async function er(e,t){return Qt(e,"POST","/v1/accounts:signInWithPassword",Kt(e,t))}class tr extends Xn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new tr(e,t,"password")}static _fromEmailAndCode(e,t){return new tr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Gn(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",er,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Qt(e,"POST","/v1/accounts:signInWithEmailLink",Kt(e,t))}(e,{email:this._email,oobCode:this._password});default:At(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Gn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Jn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Qt(e,"POST","/v1/accounts:signInWithEmailLink",Kt(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:At(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function nr(e,t){return Qt(e,"POST","/v1/accounts:signInWithIdp",Kt(e,t))}class rr extends Xn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new rr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):At("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=xt(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new rr(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return nr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,nr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,nr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,bt.Am)(t)}return e}}async function ir(e,t){return Gt(e,"POST","/v1/accounts:sendVerificationCode",Kt(e,t))}const sr={USER_NOT_FOUND:"user-not-found"};class ar extends Xn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ar({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ar({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Qt(e,"POST","/v1/accounts:signInWithPhoneNumber",Kt(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Qt(e,"POST","/v1/accounts:signInWithPhoneNumber",Kt(e,t));if(n.temporaryProof)throw Jt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Qt(e,"POST","/v1/accounts:signInWithPhoneNumber",Kt(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),sr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ar({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class or{constructor(e){var t,n,r,i,s,a;const o=(0,bt.I9)((0,bt.hp)(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Dt(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.lang)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,bt.I9)((0,bt.hp)(e)).link,n=t?(0,bt.I9)((0,bt.hp)(t)).deep_link_id:null,r=(0,bt.I9)((0,bt.hp)(e)).deep_link_id;return(r?(0,bt.I9)((0,bt.hp)(r)).link:null)||r||n||t||e}(e);try{return new or(t)}catch(n){return null}}}class lr{constructor(){this.providerId=lr.PROVIDER_ID}static credential(e,t){return tr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=or.parseLink(t);return Dt(n,"argument-error"),tr._fromEmailAndCode(e,n.code,n.tenantId)}}lr.PROVIDER_ID="password",lr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class cr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ur extends cr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dr extends ur{constructor(){super("facebook.com")}static credential(e){return rr._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return dr.credential(t.oauthAccessToken)}catch(n){return null}}}dr.FACEBOOK_SIGN_IN_METHOD="facebook.com",dr.PROVIDER_ID="facebook.com";class hr extends ur{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return rr._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return hr.credential(n,r)}catch(i){return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com",hr.PROVIDER_ID="google.com";class fr extends ur{constructor(){super("github.com")}static credential(e){return rr._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return fr.credential(t.oauthAccessToken)}catch(n){return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com",fr.PROVIDER_ID="github.com";class pr extends ur{constructor(){super("twitter.com")}static credential(e,t){return rr._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return pr.credential(n,r)}catch(i){return null}}}async function mr(e,t){return Qt(e,"POST","/v1/accounts:signUp",Kt(e,t))}pr.TWITTER_SIGN_IN_METHOD="twitter.com",pr.PROVIDER_ID="twitter.com";class gr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await gn._fromIdTokenResponse(e,n,r),s=yr(n);return new gr({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=yr(n);return new gr({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function yr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class vr extends bt.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,vr.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new vr(e,t,n,r)}}function br(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw vr._fromErrorAndOperation(e,n,t,r);throw n})}async function wr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await cn(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return gr._forOperation(e,"link",r)}async function xr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if((0,vt.xZ)(r.app))return Promise.reject(Pt(r));const i="reauthenticate";try{const s=await cn(e,br(r,i,t,e),n);Dt(s.idToken,r,"internal-error");const a=on(s.idToken);Dt(a,r,"internal-error");const{sub:o}=a;return Dt(e.uid===o,r,"user-mismatch"),gr._forOperation(e,i,s)}catch(ey){throw(null===ey||void 0===ey?void 0:ey.code)==="auth/".concat("user-not-found")&&At(r,"user-mismatch"),ey}}async function _r(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,vt.xZ)(e.app))return Promise.reject(Pt(e));const r="signIn",i=await br(e,r,t),s=await gr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function kr(e,t){return _r(Mn(e),t)}async function Sr(e,t){return xr((0,bt.Ku)(e),t)}async function Er(e){const t=Mn(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Cr(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=(0,bt.Ku)(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await cn(i,async function(e,t){return Gt(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function Tr(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await cn(e,async function(e,t){return Gt(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}function Ar(e,t){return Gt(e,"POST","/v2/accounts/mfaEnrollment:start",Kt(e,t))}new WeakMap;const Nr="__sak";class Ir{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nr,"1"),this.storage.removeItem(Nr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Pr extends Ir{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,bt.lT)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pr.type="LOCAL";const Rr=Pr;function jr(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function Dr(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Or{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Dr(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return jr(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Dr(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Dr(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=jr(n);const i=setInterval(()=>{const e=jr(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Or.type="COOKIE";class Lr extends Ir{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Lr.type="SESSION";const Mr=Lr;class Vr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Vr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Fr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Vr.receivers=[];class Ur{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=Fr("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function zr(){return window}function Br(){return"undefined"!==typeof zr().WorkerGlobalScope&&"function"===typeof zr().importScripts}const Hr="firebaseLocalStorageDb",Wr="firebaseLocalStorage",qr="fbase_key";class Kr{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gr(e,t){return e.transaction([Wr],t?"readwrite":"readonly").objectStore(Wr)}function Zr(){const e=indexedDB.open(Hr,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Wr,{keyPath:qr})}catch(ey){n(ey)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Wr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Hr);return new Kr(e).toPromise()}(),t(await Zr()))})})}async function Qr(e,t,n){const r=Gr(e,!0).put({[qr]:t,value:n});return new Kr(r).toPromise()}function Yr(e,t){const n=Gr(e,!0).delete(t);return new Kr(n).toPromise()}class $r{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Zr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(ey){if(t++>3)throw ey;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Br()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vr._getInstance(Br()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ur(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zr();return await Qr(e,Nr,"1"),await Yr(e,Nr),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qr(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Gr(e,!1).get(t),r=await new Kr(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Yr(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Gr(e,!1).getAll();return new Kr(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}$r.type="LOCAL";const Xr=$r;function Jr(e,t){return Gt(e,"POST","/v2/accounts/mfaSignIn:start",Kt(e,t))}zn("rcb"),new Ut(3e4,6e4);const ei="recaptcha";async function ti(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Zn(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Dt("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Gn(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Wn){Dt((null===n||void 0===n?void 0:n.type)===ei,e,"argument-error");return Ar(e,await ni(e,t,n))}return Ar(e,t)},"PHONE_PROVIDER"),a=await s.catch(e=>Promise.reject(e));return a.phoneSessionInfo.sessionInfo}{Dt("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Dt(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Gn(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Wn){Dt((null===n||void 0===n?void 0:n.type)===ei,e,"argument-error");return Jr(e,await ni(e,t,n))}return Jr(e,t)},"PHONE_PROVIDER"),l=await o.catch(e=>Promise.reject(e));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Gn(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Wn){Dt((null===n||void 0===n?void 0:n.type)===ei,e,"argument-error");return ir(e,await ni(e,t,n))}return ir(e,t)},"PHONE_PROVIDER"),s=await r.catch(e=>Promise.reject(e));return s.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function ni(e,t,n){Dt(n.type===ei,e,"argument-error");const r=await n.verify();Dt("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class ri{constructor(e){this.providerId=ri.PROVIDER_ID,this.auth=Mn(e)}verifyPhoneNumber(e,t){return ti(this.auth,e,(0,bt.Ku)(t))}static credential(e,t){return ar._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ri.credentialFromTaggedObject(t)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ar._fromTokenResponse(n,r):null}}function ii(e,t){return t?vn(t):(Dt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ri.PROVIDER_ID="phone",ri.PHONE_SIGN_IN_METHOD="phone";class si extends Xn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ai(e){return _r(e.auth,new si(e),e.bypassAuthState)}function oi(e){const{auth:t,user:n}=e;return Dt(n,t,"internal-error"),xr(n,new si(e),e.bypassAuthState)}async function li(e){const{auth:t,user:n}=e;return Dt(n,t,"internal-error"),wr(n,new si(e),e.bypassAuthState)}class ci{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(ey){this.reject(ey)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(ey){this.reject(ey)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ai;case"linkViaPopup":case"linkViaRedirect":return li;case"reauthViaPopup":case"reauthViaRedirect":return oi;default:At(this.auth,"internal-error")}}resolve(e){Lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ui=new Ut(2e3,1e4);async function di(e,t,n){if((0,vt.xZ)(e.app))return Promise.reject(Nt(e,"operation-not-supported-in-this-environment"));const r=Mn(e);Rt(e,t,cr);const i=ii(r,n);return new hi(r,"signInViaPopup",t,i).executeNotNull()}class hi extends ci{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,hi.currentPopupAction&&hi.currentPopupAction.cancel(),hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Dt(e,this.auth,"internal-error"),e}async onExecution(){Lt(1===this.filter.length,"Popup operations only handle one event");const e=Fr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Nt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Nt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nt(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,ui.get())};e()}}hi.currentPopupAction=null;const fi=new Map;class pi extends ci{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=fi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=yi(t),r=gi(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(ey){e=()=>Promise.reject(ey)}fi.set(this.auth._key(),e)}return this.bypassAuthState||fi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function mi(e,t){fi.set(e._key(),t)}function gi(e){return vn(e._redirectPersistence)}function yi(e){return xn("pendingRedirect",e.config.apiKey,e.name)}async function vi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,vt.xZ)(e.app))return Promise.reject(Pt(e));const r=Mn(e),i=ii(r,t),s=new pi(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class bi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!xi(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Nt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wi(e))}saveEventToCache(e){this.cachedEventUids.add(wi(e)),this.lastProcessedEventTime=Date.now()}}function wi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function xi(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const _i=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ki=/^https?/;async function Si(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Gt(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Ei(r))return}catch(n){}At(e,"unauthorized-domain")}function Ei(e){const t=Mt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ki.test(n))return!1;if(_i.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ci=new Ut(3e4,6e4);function Ti(){const e=zr().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ai(e){return new Promise((t,n)=>{var r,i,s;function a(){Ti(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ti(),n(Nt(e,"network-request-failed"))},timeout:Ci.get()})}if(null===(i=null===(r=zr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=zr().gapi)||void 0===s?void 0:s.load)){const t=zn("iframefcb");return zr()[t]=()=>{gapi.load?a():n(Nt(e,"network-request-failed"))},Un("".concat(Fn.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw Ni=null,e})}let Ni=null;const Ii=new Ut(5e3,15e3),Pi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ri=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ji(e){const t=e.config;Dt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?zt(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:vt.MF},i=Ri.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat((0,bt.Am)(r).slice(1))}async function Di(e){const t=await function(e){return Ni=Ni||Ai(e),Ni}(e),n=zr().gapi;return Dt(n,e,"internal-error"),t.open({where:document.body,url:ji(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pi,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Nt(e,"network-request-failed"),s=zr().setTimeout(()=>{r(i)},Ii.get());function a(){zr().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Oi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Li{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(ey){}}}function Mi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Oi),{width:r.toString(),height:i.toString(),top:s,left:a}),c=(0,bt.ZQ)().toLowerCase();n&&(o=Cn(c)?"_blank":n),Sn(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Pn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,bt.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Li(null);const d=window.open(t||"",o,u);Dt(d,e,"popup-blocked");try{d.focus()}catch(ey){}return new Li(d)}const Vi="__/auth/handler",Fi="emulator/auth/handler",Ui=encodeURIComponent("fac");async function zi(e,t,n,r,i,s){Dt(e.config.authDomain,e,"auth-domain-config-required"),Dt(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vt.MF,eventId:i};if(t instanceof cr){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",(0,bt.Im)(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof ur){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ui,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Vi);return zt(t,Fi)}(e),"?").concat((0,bt.Am)(o).slice(1)).concat(c)}const Bi="webStorageSupport";const Hi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mr,this._completeRedirectFn=vi,this._overrideRedirectResult=mi}async _openPopup(e,t,n,r){var i;Lt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Mi(e,await zi(e,t,n,Mt(),r),Fr())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){zr().location.href=e}(await zi(e,t,n,Mt(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Lt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Di(e),n=new bi(e);return t.register("authEvent",t=>{Dt(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bi,{type:Bi},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Bi];void 0!==i&&t(!!i),At(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Si(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Rn()||En()||Pn()}};var Wi="@firebase/auth",qi="1.10.7";class Ki{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Gi=(0,bt.XA)("authIdTokenMaxAge")||300;let Zi=null;function Qi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,vt.Sx)();const t=(0,vt.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,vt.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,bt.bD)(r,null!==t&&void 0!==t?t:{}))return e;At(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Hi,persistence:[Xr,Rr,Mr]}),r=(0,bt.XA)("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Gi)return;const r=null===t||void 0===t?void 0:t.token;Zi!==r&&(Zi=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){(0,bt.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,bt.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=(0,bt.Tj)("auth");return s&&Qn(n,"http://".concat(s)),n}var Yi,$i;Yi={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Nt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Fn=Yi,$i="Browser",(0,vt.om)(new _t.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Dt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:$i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jn($i)},c=new Ln(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,vt.om)(new _t.uA("auth-internal",e=>(e=>new Ki(e))(Mn(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,vt.KO)(Wi,qi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}($i)),(0,vt.KO)(Wi,qi,"esm2017");var Xi=n(791);const Ji="undefined"!==typeof document,es=Ji?r.useLayoutEffect:r.useEffect;function ts(){const e=(0,r.useRef)(!1);return es(()=>(e.current=!0,()=>{e.current=!1}),[]),e}const ns=e=>e;class rs{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const is=["prepare","read","update","preRender","render","postRender"];const{schedule:ss,cancel:as,state:os,steps:ls}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=is.reduce((e,t)=>(e[t]=function(e){let t=new rs,n=new rs,r=0,i=!1,s=!1;const a=new WeakSet,o={schedule:function(e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,o=s?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),o.add(e)&&s&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),a.delete(e)},process:l=>{if(i)s=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),a.has(r)&&(o.schedule(r),e())}i=!1,s&&(s=!1,o.process(l))}}};return o}(()=>n=!0),e),{}),a=e=>s[e].process(i),o=()=>{const s=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,is.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=is.reduce((t,a)=>{const l=s[a];return t[a]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(o)),l.schedule(t,s,a)},t},{});return{schedule:l,cancel:e=>is.forEach(t=>s[t].cancel(e)),state:i,steps:s}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:ns,!0);const cs=(0,r.createContext)(null);function us(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}class ds extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function hs(e){let{children:t,isPresent:n}=e;const i=(0,r.useId)(),s=(0,r.useRef)(null),a=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)(()=>{const{width:e,height:t,top:r,left:o}=a.current;if(n||!s.current||!e||!t)return;s.current.dataset.motionPopId=i;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[n]),r.createElement(ds,{isPresent:n,childRef:s,sizeRef:a},r.cloneElement(t,{ref:s}))}const fs=e=>{let{children:t,initial:n,isPresent:i,onExitComplete:s,custom:a,presenceAffectsLayout:o,mode:l}=e;const c=us(ps),u=(0,r.useId)(),d=(0,r.useMemo)(()=>({id:u,initial:n,isPresent:i,custom:a,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;s&&s()},register:e=>(c.set(e,!1),()=>c.delete(e))}),o?void 0:[i]);return(0,r.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[i]),r.useEffect(()=>{!i&&!c.size&&s&&s()},[i]),"popLayout"===l&&(t=r.createElement(hs,{isPresent:i},t)),r.createElement(cs.Provider,{value:d},t)};function ps(){return new Map}const ms=(0,r.createContext)({});let gs=ns,ys=ns;const vs=e=>e.key||"";const bs=e=>{let{children:t,custom:n,initial:i=!0,onExitComplete:s,exitBeforeEnter:a,presenceAffectsLayout:o=!0,mode:l="sync"}=e;ys(!a,"Replace exitBeforeEnter with mode='wait'");const c=(0,r.useContext)(ms).forceRender||function(){const e=ts(),[t,n]=(0,r.useState)(0),i=(0,r.useCallback)(()=>{e.current&&n(t+1)},[t]);return[(0,r.useCallback)(()=>ss.postRender(i),[i]),t]}()[0],u=ts(),d=function(e){const t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}(t);let h=d;const f=(0,r.useRef)(new Map).current,p=(0,r.useRef)(h),m=(0,r.useRef)(new Map).current,g=(0,r.useRef)(!0);var y;if(es(()=>{g.current=!1,function(e,t){e.forEach(e=>{const n=vs(e);t.set(n,e)})}(d,m),p.current=h}),y=()=>{g.current=!0,m.clear(),f.clear()},(0,r.useEffect)(()=>()=>y(),[]),g.current)return r.createElement(r.Fragment,null,h.map(e=>r.createElement(fs,{key:vs(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:o,mode:l},e)));h=[...h];const v=p.current.map(vs),b=d.map(vs),w=v.length;for(let r=0;r<w;r++){const e=v[r];-1!==b.indexOf(e)||f.has(e)||f.set(e,void 0)}return"wait"===l&&f.size&&(h=[]),f.forEach((e,t)=>{if(-1!==b.indexOf(t))return;const i=m.get(t);if(!i)return;const a=v.indexOf(t);let g=e;if(!g){const e=()=>{f.delete(t);const e=Array.from(m.keys()).filter(e=>!b.includes(e));if(e.forEach(e=>m.delete(e)),p.current=d.filter(n=>{const r=vs(n);return r===t||e.includes(r)}),!f.size){if(!1===u.current)return;c(),s&&s()}};g=r.createElement(fs,{key:vs(i),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:o,mode:l},i),f.set(t,g)}h.splice(a,0,g)}),h=h.map(e=>{const t=e.key;return f.has(t)?e:r.createElement(fs,{key:vs(e),isPresent:!0,presenceAffectsLayout:o,mode:l},e)}),r.createElement(r.Fragment,null,f.size?h:h.map(e=>(0,r.cloneElement)(e)))},ws=(0,r.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),xs=(0,r.createContext)({}),_s=(0,r.createContext)({strict:!1}),ks=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ss="data-"+ks("framerAppearId");function Es(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Cs(e){return"string"===typeof e||Array.isArray(e)}function Ts(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const As=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ns=["initial",...As];function Is(e){return Ts(e.animate)||Ns.some(t=>Cs(e[t]))}function Ps(e){return Boolean(Is(e)||e.variants)}function Rs(e){const{initial:t,animate:n}=function(e,t){if(Is(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Cs(t)?t:void 0,animate:Cs(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(xs));return(0,r.useMemo)(()=>({initial:t,animate:n}),[js(t),js(n)])}function js(e){return Array.isArray(e)?e.join(" "):e}const Ds={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Os={};for(const ny in Ds)Os[ny]={isEnabled:e=>Ds[ny].some(t=>!!e[t])};const Ls=(0,r.createContext)({}),Ms=Symbol.for("motionComponentSymbol");function Vs(e){let{preloadedFeatures:t,createVisualElement:n,useRender:i,useVisualState:s,Component:o}=e;t&&function(e){for(const t in e)Os[t]=(0,a.A)((0,a.A)({},Os[t]),e[t])}(t);const l=(0,r.forwardRef)(function(e,l){let c;const u=(0,a.A)((0,a.A)((0,a.A)({},(0,r.useContext)(ws)),e),{},{layoutId:Fs(e)}),{isStatic:d}=u,h=Rs(e),f=s(e,d);if(!d&&Ji){h.visualElement=function(e,t,n,i){const{visualElement:s}=(0,r.useContext)(xs),a=(0,r.useContext)(_s),o=(0,r.useContext)(cs),l=(0,r.useContext)(ws).reducedMotion,c=(0,r.useRef)();i=i||a.renderer,!c.current&&i&&(c.current=i(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const u=c.current;(0,r.useInsertionEffect)(()=>{u&&u.update(n,o)});const d=(0,r.useRef)(Boolean(n[Ss]&&!window.HandoffComplete));return es(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),(0,r.useEffect)(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}(o,f,u,n);const e=(0,r.useContext)(Ls),i=(0,r.useContext)(_s).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,i,t,e))}return r.createElement(xs.Provider,{value:h},c&&h.visualElement?r.createElement(c,(0,a.A)({visualElement:h.visualElement},u)):null,i(o,e,function(e,t,n){return(0,r.useCallback)(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Es(n)&&(n.current=r))},[t])}(f,h.visualElement,l),f,d,h.visualElement))});return l[Ms]=o,l}function Fs(e){let{layoutId:t}=e;const n=(0,r.useContext)(ms).id;return n&&void 0!==t?n+"-"+t:t}function Us(e){function t(t){return Vs(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const zs=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bs(e){return"string"===typeof e&&!e.includes("-")&&!!(zs.indexOf(e)>-1||/[A-Z]/.test(e))}const Hs={};const Ws=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qs=new Set(Ws);function Ks(e,t){let{layout:n,layoutId:r}=t;return qs.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Hs[e]||"opacity"===e)}const Gs=e=>Boolean(e&&e.getVelocity),Zs={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qs=Ws.length;const Ys=e=>t=>"string"===typeof t&&t.startsWith(e),$s=Ys("--"),Xs=Ys("var(--"),Js=(e,t)=>t&&"number"===typeof e?t.transform(e):e,ea=(e,t,n)=>Math.min(Math.max(n,e),t),ta={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},na=(0,a.A)((0,a.A)({},ta),{},{transform:e=>ea(0,1,e)}),ra=(0,a.A)((0,a.A)({},ta),{},{default:1}),ia=e=>Math.round(1e5*e)/1e5,sa=/(-)?([\d]*\.?[\d])+/g,aa=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,oa=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function la(e){return"string"===typeof e}const ca=e=>({test:t=>la(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),ua=ca("deg"),da=ca("%"),ha=ca("px"),fa=ca("vh"),pa=ca("vw"),ma=(0,a.A)((0,a.A)({},da),{},{parse:e=>da.parse(e)/100,transform:e=>da.transform(100*e)}),ga=(0,a.A)((0,a.A)({},ta),{},{transform:Math.round}),ya={borderWidth:ha,borderTopWidth:ha,borderRightWidth:ha,borderBottomWidth:ha,borderLeftWidth:ha,borderRadius:ha,radius:ha,borderTopLeftRadius:ha,borderTopRightRadius:ha,borderBottomRightRadius:ha,borderBottomLeftRadius:ha,width:ha,maxWidth:ha,height:ha,maxHeight:ha,size:ha,top:ha,right:ha,bottom:ha,left:ha,padding:ha,paddingTop:ha,paddingRight:ha,paddingBottom:ha,paddingLeft:ha,margin:ha,marginTop:ha,marginRight:ha,marginBottom:ha,marginLeft:ha,rotate:ua,rotateX:ua,rotateY:ua,rotateZ:ua,scale:ra,scaleX:ra,scaleY:ra,scaleZ:ra,skew:ua,skewX:ua,skewY:ua,distance:ha,translateX:ha,translateY:ha,translateZ:ha,x:ha,y:ha,z:ha,perspective:ha,transformPerspective:ha,opacity:na,originX:ma,originY:ma,originZ:ha,zIndex:ga,fillOpacity:na,strokeOpacity:na,numOctaves:ga};function va(e,t,n,r){const{style:i,vars:s,transform:a,transformOrigin:o}=e;let l=!1,c=!1,u=!0;for(const d in t){const e=t[d];if($s(d)){s[d]=e;continue}const n=ya[d],r=Js(e,n);if(qs.has(d)){if(l=!0,a[d]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,o[d]=r):i[d]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:s=!0}=t,a="";for(let o=0;o<Qs;o++){const t=Ws[o];void 0!==e[t]&&(a+="".concat(Zs[t]||t,"(").concat(e[t],") "))}return i&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,n?"":a):s&&n&&(a="none"),a}(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const ba=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wa(e,t,n){for(const r in t)Gs(t[r])||Ks(r,n)||(e[r]=t[r])}function xa(e,t,n){const i={};return wa(i,e.style||{},e),Object.assign(i,function(e,t,n){let{transformTemplate:i}=e;return(0,r.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return va(e,t,{enableHardwareAcceleration:!n},i),Object.assign({},e.vars,e.style)},[t])}(e,t,n)),e.transformValues?e.transformValues(i):i}function _a(e,t,n){const r={},i=xa(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const ka=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sa(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ka.has(e)}let Ea=e=>!Sa(e);try{(Ca=require("@emotion/is-prop-valid").default)&&(Ea=e=>e.startsWith("on")?!Sa(e):Ca(e))}catch(ty){}var Ca;function Ta(e,t,n){return"string"===typeof e?e:ha.transform(t+n*e)}const Aa={offset:"stroke-dashoffset",array:"stroke-dasharray"},Na={offset:"strokeDashoffset",array:"strokeDasharray"};const Ia=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Pa(e,t,n,r,i){let{attrX:a,attrY:o,attrScale:l,originX:c,originY:u,pathLength:d,pathSpacing:h=1,pathOffset:f=0}=t;if(va(e,s(t,Ia),n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:g}=e;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(void 0!==c||void 0!==u||m.transform)&&(m.transformOrigin=function(e,t,n){const r=Ta(t,e.x,e.width),i=Ta(n,e.y,e.height);return"".concat(r," ").concat(i)}(g,void 0!==c?c:.5,void 0!==u?u:.5)),void 0!==a&&(p.x=a),void 0!==o&&(p.y=o),void 0!==l&&(p.scale=l),void 0!==d&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?Aa:Na;e[s.offset]=ha.transform(-r);const a=ha.transform(t),o=ha.transform(n);e[s.array]="".concat(a," ").concat(o)}(p,d,h,f,!1)}const Ra=()=>(0,a.A)((0,a.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),ja=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Da(e,t,n,i){const s=(0,r.useMemo)(()=>{const n=Ra();return Pa(n,t,{enableHardwareAcceleration:!1},ja(i),e.transformTemplate),(0,a.A)((0,a.A)({},n.attrs),{},{style:(0,a.A)({},n.style)})},[t]);if(e.style){const t={};wa(t,e.style,e),s.style=(0,a.A)((0,a.A)({},t),s.style)}return s}function Oa(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,i,s,o)=>{let{latestValues:l}=s;const c=(Bs(t)?Da:_a)(n,l,o,t),u=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(Ea(i)||!0===n&&Sa(i)||!t&&!Sa(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),d=(0,a.A)((0,a.A)((0,a.A)({},u),c),{},{ref:i}),{children:h}=n,f=(0,r.useMemo)(()=>Gs(h)?h.get():h,[h]);return(0,r.createElement)(t,(0,a.A)((0,a.A)({},d),{},{children:f}))}}function La(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const Ma=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Va(e,t,n,r){La(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Ma.has(i)?i:ks(i),t.attrs[i])}function Fa(e,t){const{style:n}=e,r={};for(const i in n)(Gs(n[i])||t.style&&Gs(t.style[i])||Ks(i,e))&&(r[i]=n[i]);return r}function Ua(e,t){const n=Fa(e,t);for(const r in e)if(Gs(e[r])||Gs(t[r])){n[-1!==Ws.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function za(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}const Ba=e=>Array.isArray(e),Ha=e=>Ba(e)?e[e.length-1]||0:e;function Wa(e){const t=Gs(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const qa=["transitionEnd","transition"];const Ka=e=>(t,n)=>{const i=(0,r.useContext)(xs),s=(0,r.useContext)(cs),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:a}=e;const o={latestValues:Ga(t,n,r,i),renderState:s()};return a&&(o.mount=e=>a(t,e,o)),o}(e,t,i,s);return n?a():us(a)};function Ga(e,t,n,r){const i={},a=r(e,{});for(const s in a)i[s]=Wa(a[s]);let{initial:o,animate:l}=e;const c=Is(e),u=Ps(e);t&&u&&!c&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===l&&(l=t.animate));let d=!!n&&!1===n.initial;d=d||!1===o;const h=d?l:o;if(h&&"boolean"!==typeof h&&!Ts(h)){(Array.isArray(h)?h:[h]).forEach(t=>{const n=za(e,t);if(!n)return;const{transitionEnd:r,transition:a}=n,o=s(n,qa);for(const e in o){let t=o[e];if(Array.isArray(t)){t=t[d?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]})}return i}const Za={useVisualState:Ka({scrapeMotionValuesFromProps:Ua,createRenderState:Ra,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;ss.read(()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(ey){r.dimensions={x:0,y:0,width:0,height:0}}}),ss.render(()=>{Pa(r,i,{enableHardwareAcceleration:!1},ja(t.tagName),e.transformTemplate),Va(t,r)})}})},Qa={useVisualState:Ka({scrapeMotionValuesFromProps:Fa,createRenderState:ba})};function Ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const $a=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Xa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function Ja(e,t,n,r){return Ya(e,t,(e=>t=>$a(t)&&e(t,Xa(t)))(n),r)}const eo=(e,t)=>n=>t(e(n)),to=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(eo)};function no(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const ro=no("dragHorizontal"),io=no("dragVertical");function so(e){let t=!1;if("y"===e)t=io();else if("x"===e)t=ro();else{const e=ro(),n=io();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function ao(){const e=so(!0);return!e||(e(),!1)}class oo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function lo(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return Ja(e.current,n,(n,i)=>{if("touch"===n.pointerType||ao())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&ss.update(()=>s[r](n,i))},{passive:!e.getProps()[r]})}const co=(e,t)=>!!t&&(e===t||co(e,t.parentElement));function uo(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Xa(n))}const ho=["root"],fo=new WeakMap,po=new WeakMap,mo=e=>{const t=fo.get(e.target);t&&t(e)},go=e=>{e.forEach(mo)};function yo(e,t,n){const r=function(e){let{root:t}=e,n=s(e,ho);const r=t||document;po.has(r)||po.set(r,{});const i=po.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(go,(0,a.A)({root:t},n))),i[o]}(t);return fo.set(e,n),r.observe(e),()=>{fo.delete(e),r.unobserve(e)}}const vo={some:0,all:1};const bo={inView:{Feature:class extends oo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:vo[r]};return yo(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends oo{constructor(){super(...arguments),this.removeStartListeners=ns,this.removeEndListeners=ns,this.removeAccessibleListeners=ns,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=Ja(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();ss.update(()=>{i||co(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)})},{passive:!(n.onTap||n.onPointerUp)}),i=Ja(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=to(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Ya(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Ya(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&uo("up",(e,t)=>{const{onTap:n}=this.node.getProps();n&&ss.update(()=>n(e,t))})}),uo("down",(e,t)=>{this.startPress(e,t)})}),t=Ya(this.node.current,"blur",()=>{this.isPressing&&uo("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=to(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&ss.update(()=>n(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ao()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&ss.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=Ja(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Ya(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=to(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends oo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(ey){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=to(Ya(this.node.current,"focus",()=>this.onFocus()),Ya(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends oo{mount(){this.unmount=to(lo(this.node,!0),lo(this.node,!1))}unmount(){}}}};function wo(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function xo(e,t,n){const r=e.getProps();return za(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}(e))}const _o=e=>1e3*e,ko=e=>e/1e3,So=!1,Eo=e=>Array.isArray(e)&&"number"===typeof e[0];function Co(e){return Boolean(!e||"string"===typeof e&&Ao[e]||Eo(e)||Array.isArray(e)&&e.every(Co))}const To=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},Ao={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:To([0,.65,.55,1]),circOut:To([.55,0,1,.45]),backIn:To([.31,.01,.66,-.59]),backOut:To([.33,1.53,.69,.99])};function No(e){if(e)return Eo(e)?To(e):Array.isArray(e)?e.map(No):Ao[e]}const Io=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Po(e,t,n,r){if(e===t&&n===r)return ns;const i=t=>function(e,t,n,r,i){let s,a,o=0;do{a=t+(n-t)/2,s=Io(a,r,i)-e,s>0?n=a:t=a}while(Math.abs(s)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:Io(i(e),t,r)}const Ro=Po(.42,0,1,1),jo=Po(0,0,.58,1),Do=Po(.42,0,.58,1),Oo=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Lo=e=>t=>1-e(1-t),Mo=e=>1-Math.sin(Math.acos(e)),Vo=Lo(Mo),Fo=Oo(Mo),Uo=Po(.33,1.53,.69,.99),zo=Lo(Uo),Bo=Oo(zo),Ho={linear:ns,easeIn:Ro,easeInOut:Do,easeOut:jo,circIn:Mo,circInOut:Fo,circOut:Vo,backIn:zo,backInOut:Bo,backOut:Uo,anticipate:e=>(e*=2)<1?.5*zo(e):.5*(2-Math.pow(2,-10*(e-1)))},Wo=e=>{if(Array.isArray(e)){ys(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return Po(t,n,r,i)}return"string"===typeof e?(ys(void 0!==Ho[e],"Invalid easing type '".concat(e,"'")),Ho[e]):e},qo=(e,t)=>n=>Boolean(la(n)&&oa.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Ko=(e,t,n)=>r=>{if(!la(r))return r;const[i,s,a,o]=r.match(sa);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},Go=(0,a.A)((0,a.A)({},ta),{},{transform:e=>Math.round((e=>ea(0,255,e))(e))}),Zo={test:qo("rgb","red"),parse:Ko("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Go.transform(t)+", "+Go.transform(n)+", "+Go.transform(r)+", "+ia(na.transform(i))+")"}};const Qo={test:qo("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Zo.transform},Yo={test:qo("hsl","hue"),parse:Ko("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+da.transform(ia(n))+", "+da.transform(ia(r))+", "+ia(na.transform(i))+")"}},$o={test:e=>Zo.test(e)||Qo.test(e)||Yo.test(e),parse:e=>Zo.test(e)?Zo.parse(e):Yo.test(e)?Yo.parse(e):Qo.parse(e),transform:e=>la(e)?e:e.hasOwnProperty("red")?Zo.transform(e):Yo.transform(e)},Xo=(e,t,n)=>-n*e+n*t+e;function Jo(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const el=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},tl=[Qo,Zo,Yo];function nl(e){const t=(n=e,tl.find(e=>e.test(n)));var n;ys(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let r=t.parse(e);return t===Yo&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=Jo(i,e,t+1/3),a=Jo(i,e,t),o=Jo(i,e,t-1/3)}else s=a=o=r;return{red:Math.round(255*s),green:Math.round(255*a),blue:Math.round(255*o),alpha:i}}(r)),r}const rl=(e,t)=>{const n=nl(e),r=nl(t),i=(0,a.A)({},n);return e=>(i.red=el(n.red,r.red,e),i.green=el(n.green,r.green,e),i.blue=el(n.blue,r.blue,e),i.alpha=Xo(n.alpha,r.alpha,e),Zo.transform(i))};const il={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:ns},sl={regex:aa,countKey:"Colors",token:"${c}",parse:$o.parse},al={regex:sa,countKey:"Numbers",token:"${n}",parse:ta.parse};function ol(e,t){let{regex:n,countKey:r,token:i,parse:s}=t;const a=e.tokenised.match(n);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...a.map(s)))}function ll(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ol(n,il),ol(n,sl),ol(n,al),n}function cl(e){return ll(e).values}function ul(e){const{values:t,numColors:n,numVars:r,tokenised:i}=ll(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(il.token,e[i]):i<r+n?t.replace(sl.token,$o.transform(e[i])):t.replace(al.token,ia(e[i]));return t}}const dl=e=>"number"===typeof e?0:e;const hl={test:function(e){var t,n;return isNaN(e)&&la(e)&&((null===(t=e.match(sa))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(aa))||void 0===n?void 0:n.length)||0)>0},parse:cl,createTransformer:ul,getAnimatableNone:function(e){const t=cl(e);return ul(e)(t.map(dl))}},fl=(e,t)=>n=>"".concat(n>0?t:e);function pl(e,t){return"number"===typeof e?n=>Xo(e,t,n):$o.test(e)?rl(e,t):e.startsWith("var(")?fl(e,t):yl(e,t)}const ml=(e,t)=>{const n=[...e],r=n.length,i=e.map((e,n)=>pl(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},gl=(e,t)=>{const n=(0,a.A)((0,a.A)({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=pl(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},yl=(e,t)=>{const n=hl.createTransformer(t),r=ll(e),i=ll(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?to(ml(r.values,i.values),n):(gs(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),fl(e,t))},vl=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},bl=(e,t)=>n=>Xo(e,t,n);function wl(e,t,n){const r=[],i=n||("number"===typeof(s=e[0])?bl:"string"===typeof s?$o.test(s)?rl:yl:Array.isArray(s)?ml:"object"===typeof s?gl:bl);var s;const a=e.length-1;for(let o=0;o<a;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||ns:t;n=to(e,n)}r.push(n)}return r}function xl(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(ys(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=wl(t,r,i),o=a.length,l=t=>{let n=0;if(o>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=vl(e[n],e[n+1],t);return a[n](r)};return n?t=>l(ea(e[0],e[s-1],t)):l}function _l(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=vl(0,t,r);e.push(Xo(n,1,i))}}(t,e.length-1),t}function kl(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(Wo):Wo(i),a={done:!1,value:n[0]},o=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:_l(n),t),l=xl(o,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map(()=>u||Do).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}function Sl(e,t){return t?e*(1e3/t):0}function El(e,t,n){const r=Math.max(t-5,0);return Sl(n-e(r),t-r)}const Cl=.001;function Tl(e){let t,n,{duration:r=800,bounce:i=.25,velocity:s=0,mass:a=1}=e;gs(r<=_o(10),"Spring duration must be 10 seconds or less");let o=1-i;o=ea(.05,1,o),r=ea(.01,10,ko(r)),o<1?(t=e=>{const t=e*o,n=t*r,i=t-s,a=Nl(e,o),l=Math.exp(-n);return Cl-i/a*l},n=e=>{const n=e*o*r,i=n*s+s,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Nl(Math.pow(e,2),o);return(-t(e)+Cl>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<Al;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=_o(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const Al=12;function Nl(e,t){return e*Math.sqrt(1-t*t)}const Il=["keyframes","restDelta","restSpeed"],Pl=["duration","bounce"],Rl=["stiffness","damping","mass"];function jl(e,t){return t.some(t=>void 0!==e[t])}function Dl(e){let{keyframes:t,restDelta:n,restSpeed:r}=e,i=s(e,Il);const o=t[0],l=t[t.length-1],c={done:!1,value:o},{stiffness:u,damping:d,mass:h,duration:f,velocity:p,isResolvedFromDuration:m}=function(e){let t=(0,a.A)({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!jl(e,Rl)&&jl(e,Pl)){const n=Tl(e);t=(0,a.A)((0,a.A)((0,a.A)({},t),n),{},{mass:1}),t.isResolvedFromDuration=!0}return t}((0,a.A)((0,a.A)({},i),{},{velocity:-ko(i.velocity||0)})),g=p||0,y=d/(2*Math.sqrt(u*h)),v=l-o,b=ko(Math.sqrt(u/h)),w=Math.abs(v)<5;let x;if(r||(r=w?.01:2),n||(n=w?.005:.5),y<1){const e=Nl(b,y);x=t=>{const n=Math.exp(-y*b*t);return l-n*((g+y*b*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===y)x=e=>l-Math.exp(-b*e)*(v+(g+b*v)*e);else{const e=b*Math.sqrt(y*y-1);x=t=>{const n=Math.exp(-y*b*t),r=Math.min(e*t,300);return l-n*((g+y*b*v)*Math.sinh(r)+e*v*Math.cosh(r))/e}}return{calculatedDuration:m&&f||null,next:e=>{const t=x(e);if(m)c.done=e>=f;else{let i=g;0!==e&&(i=y<1?El(x,e,t):0);const s=Math.abs(i)<=r,a=Math.abs(l-t)<=n;c.done=s&&a}return c.value=c.done?l:t,c}}}function Ol(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,y=void 0===o?g:o(g);y!==g&&(m=y-h);const v=e=>-m*Math.exp(-e/i),b=e=>y+v(e),w=e=>{const t=v(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let x,_;const k=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(x=e,_=Dl({keyframes:[f.value,p(f.value)],velocity:El(b,e,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return _||void 0!==x||(t=!0,w(e),k(e)),void 0!==x&&e>x?_.next(e-x):(!t&&w(e),f)}}}const Ll=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>ss.update(t,!0),stop:()=>as(t),now:()=>os.isProcessing?os.timestamp:performance.now()}};function Ml(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const Vl=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],Fl={decay:Ol,inertia:Ol,tween:kl,keyframes:kl,spring:Dl};function Ul(e){let t,n,{autoplay:r=!0,delay:i=0,driver:o=Ll,keyframes:l,type:c="keyframes",repeat:u=0,repeatDelay:d=0,repeatType:h="loop",onPlay:f,onStop:p,onComplete:m,onUpdate:g}=e,y=s(e,Vl),v=1,b=!1;const w=()=>{n=new Promise(e=>{t=e})};let x;w();const _=Fl[c]||kl;let k;_!==kl&&"number"!==typeof l[0]&&(k=xl([0,100],l,{clamp:!1}),l=[0,100]);const S=_((0,a.A)((0,a.A)({},y),{},{keyframes:l}));let E;"mirror"===h&&(E=_((0,a.A)((0,a.A)({},y),{},{keyframes:[...l].reverse(),velocity:-(y.velocity||0)})));let C="idle",T=null,A=null,N=null;null===S.calculatedDuration&&u&&(S.calculatedDuration=Ml(S));const{calculatedDuration:I}=S;let P=1/0,R=1/0;null!==I&&(P=I+d,R=P*(u+1)-d);let j=0;const D=e=>{if(null===A)return;v>0&&(A=Math.min(A,e)),v<0&&(A=Math.min(e-R/v,A)),j=null!==T?T:Math.round(e-A)*v;const t=j-i*(v>=0?1:-1),n=v>=0?t<0:t>R;j=Math.max(t,0),"finished"===C&&null===T&&(j=R);let r=j,s=S;if(u){const e=Math.min(j,R)/P;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===h?(n=1-n,d&&(n-=d/P)):"mirror"===h&&(s=E)),r=ea(0,1,n)*P}const a=n?{done:!1,value:l[0]}:s.next(r);k&&(a.value=k(a.value));let{done:o}=a;n||null===I||(o=v>=0?j>=R:j<=0);const c=null===T&&("finished"===C||"running"===C&&o);return g&&g(a.value),c&&M(),a},O=()=>{x&&x.stop(),x=void 0},L=()=>{C="idle",O(),t(),w(),A=N=null},M=()=>{C="finished",m&&m(),O(),t()},V=()=>{if(b)return;x||(x=o(D));const e=x.now();f&&f(),null!==T?A=e-T:A&&"finished"!==C||(A=e),"finished"===C&&w(),N=A,T=null,C="running",x.start()};r&&V();const F={then:(e,t)=>n.then(e,t),get time(){return ko(j)},set time(e){e=_o(e),j=e,null===T&&x&&0!==v?A=x.now()-e/v:T=e},get duration(){const e=null===S.calculatedDuration?Ml(S):S.calculatedDuration;return ko(e)},get speed(){return v},set speed(e){e!==v&&x&&(v=e,F.time=ko(j))},get state(){return C},play:V,pause:()=>{C="paused",T=j},stop:()=>{b=!0,"idle"!==C&&(C="idle",p&&p(),L())},cancel:()=>{null!==N&&D(N),L()},complete:()=>{C="finished"},sample:e=>(A=0,D(e))};return F}const zl=["onUpdate","onComplete"],Bl=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Hl=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function Wl(e,t,n){let{onUpdate:r,onComplete:i}=n,o=s(n,zl);if(!(Bl()&&Hl.has(t)&&!o.repeatDelay&&"mirror"!==o.repeatType&&0!==o.damping&&"inertia"!==o.type))return!1;let l,c,u=!1,d=!1;const h=()=>{c=new Promise(e=>{l=e})};h();let{keyframes:f,duration:p=300,ease:m,times:g}=o;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!Co(t.ease))(t,o)){const e=Ul((0,a.A)((0,a.A)({},o),{},{repeat:0,delay:0}));let t={done:!1,value:f[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;g=void 0,f=n,p=r-10,m="linear"}const y=function(e,t,n){let{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=No(o);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,t,f,(0,a.A)((0,a.A)({},o),{},{duration:p,ease:m,times:g})),v=()=>{d=!1,y.cancel()},b=()=>{d=!0,ss.update(v),l(),h()};y.onfinish=()=>{d||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(f,o)),i&&i(),b())};return{then:(e,t)=>c.then(e,t),attachTimeline:e=>(y.timeline=e,y.onfinish=null,ns),get time(){return ko(y.currentTime||0)},set time(e){y.currentTime=_o(e)},get speed(){return y.playbackRate},set speed(e){y.playbackRate=e},get duration(){return ko(p)},play:()=>{u||(y.play(),as(v))},pause:()=>y.pause(),stop:()=>{if(u=!0,"idle"===y.playState)return;const{currentTime:t}=y;if(t){const n=Ul((0,a.A)((0,a.A)({},o),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}b()},complete:()=>{d||y.finish()},cancel:b}}const ql={type:"spring",stiffness:500,damping:25,restSpeed:10},Kl={type:"keyframes",duration:.8},Gl={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Zl=(e,t)=>{let{keyframes:n}=t;return n.length>2?Kl:qs.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:ql:Gl},Ql=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!hl.test(t)&&"0"!==t||t.startsWith("url("))),Yl=new Set(["brightness","contrast","saturate","opacity"]);function $l(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(sa)||[];if(!r)return e;const i=n.replace(r,"");let s=Yl.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const Xl=/([a-z-]*)\(.*?\)/g,Jl=(0,a.A)((0,a.A)({},hl),{},{getAnimatableNone:e=>{const t=e.match(Xl);return t?t.map($l).join(" "):e}}),ec=(0,a.A)((0,a.A)({},ya),{},{color:$o,backgroundColor:$o,outlineColor:$o,fill:$o,stroke:$o,borderColor:$o,borderTopColor:$o,borderRightColor:$o,borderBottomColor:$o,borderLeftColor:$o,filter:Jl,WebkitFilter:Jl}),tc=e=>ec[e];function nc(e,t){let n=tc(e);return n!==Jl&&(n=hl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const rc=e=>/^0[^.\s]+$/.test(e);function ic(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||rc(e):void 0}const sc=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function ac(e,t){return e[t]||e.default||e}const oc=!1,lc=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const o=ac(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=_o(l);const u=function(e,t,n,r){const i=Ql(t,n);let s;s=Array.isArray(n)?[...n]:[null,n];const a=void 0!==r.from?r.from:e.get();let o;const l=[];for(let c=0;c<s.length;c++)null===s[c]&&(s[c]=0===c?a:s[c-1]),ic(s[c])&&l.push(c),"string"===typeof s[c]&&"none"!==s[c]&&"0"!==s[c]&&(o=s[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++)s[l[c]]=nc(t,o);return s}(t,e,n,o),d=u[0],h=u[u.length-1],f=Ql(e,d),p=Ql(e,h);gs(f===p,"You are trying to animate ".concat(e,' from "').concat(d,'" to "').concat(h,'". ').concat(d," is not an animatable value - to enable this animation set ").concat(d," to a value animatable to ").concat(h," via the `style` property."));let m=(0,a.A)((0,a.A)({keyframes:u,velocity:t.getVelocity(),ease:"easeOut"},o),{},{delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}});if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:l,repeatDelay:c,from:u,elapsed:d}=e,h=s(e,sc);return!!Object.keys(h).length}(o)||(m=(0,a.A)((0,a.A)({},m),Zl(e,m))),m.duration&&(m.duration=_o(m.duration)),m.repeatDelay&&(m.repeatDelay=_o(m.repeatDelay)),!f||!p||So||!1===o.type||oc)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const s=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:ns,pause:ns,stop:ns,then:e=>(e(),Promise.resolve()),cancel:ns,complete:ns});return n?Ul({keyframes:[0,1],duration:0,delay:n,onComplete:s}):s()}(So?(0,a.A)((0,a.A)({},m),{},{delay:0}):m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=Wl(t,e,m);if(n)return n}return Ul(m)}};function cc(e){return Boolean(Gs(e)&&e.add)}const uc=e=>/^\-?\d*\.?\d+$/.test(e);function dc(e,t){-1===e.indexOf(t)&&e.push(t)}function hc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class fc{constructor(){this.subscriptions=[]}add(e){return dc(this.subscriptions,e),()=>hc(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pc={current:void 0};class mc{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=os;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,ss.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>ss.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new fc);const n=this.events[e].add(t);return"change"===e?()=>{n(),ss.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return pc.current&&pc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Sl(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gc(e,t){return new mc(e,t)}const yc=e=>t=>t.test(e),vc=[ta,ha,da,ua,pa,fa,{test:e=>"auto"===e,parse:e=>e}],bc=e=>vc.find(yc(e)),wc=[...vc,$o,hl],xc=e=>wc.find(yc(e)),_c=["transitionEnd","transition"];function kc(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,gc(n))}function Sc(e,t){const n=xo(e,t);let r=n?e.makeTargetAnimatable(n,!1):{},{transitionEnd:i={},transition:o={}}=r,l=s(r,_c);l=(0,a.A)((0,a.A)({},l),i);for(const s in l){kc(e,s,Ha(l[s]))}}function Ec(e,t){if(!t)return;return(t[e]||t.default||t).from}const Cc=["transition","transitionEnd"];function Tc(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function Ac(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function Nc(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.makeTargetAnimatable(t),{transition:l=e.getDefaultTransition(),transitionEnd:c}=o,u=s(o,Cc);const d=e.getValue("willChange");r&&(l=r);const h=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const s in u){const t=e.getValue(s),r=u[s];if(!t||void 0===r||f&&Tc(f,s))continue;const i=(0,a.A)({delay:n,elapsed:0},ac(l||{},s));if(window.HandoffAppearAnimations){const n=e.getProps()[Ss];if(n){const e=window.HandoffAppearAnimations(n,s,t,ss);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let o=!i.isHandoff&&!Ac(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(o=!1),t.animation&&(o=!1),o)continue;t.start(lc(s,t,r,e.shouldReduceMotion&&qs.has(s)?{type:!1}:i));const c=t.animation;cc(d)&&(d.add(s),c.then(()=>d.remove(s))),h.push(c)}return c&&Promise.all(h).then(()=>{c&&Sc(e,c)}),h}function Ic(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=xo(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Nc(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:o,staggerDirection:l}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const o=[],l=(e.variantChildren.size-1)*r,c=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return l-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Pc).forEach((e,r)=>{e.notify("AnimationStart",t),o.push(Ic(e,t,(0,a.A)((0,a.A)({},s),{},{delay:n+c(r)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(o)}(e,t,s+r,o,l,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[s,o]:[o,s];return e().then(()=>t())}return Promise.all([s(),o(n.delay)])}function Pc(e,t){return e.sortNodePosition(t)}const Rc=["transition","transitionEnd"],jc=[...As].reverse(),Dc=As.length;function Oc(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>Ic(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=Ic(e,t,r);else{const i="function"===typeof t?xo(e,t,r.custom):t;n=Promise.all(Nc(e,i,r))}return n.then(()=>e.notify("AnimationComplete",t))}(e,n,r)}))}function Lc(e){let t=Oc(e);const n={animate:Vc(!0),whileInView:Vc(),whileHover:Vc(),whileTap:Vc(),whileDrag:Vc(),whileFocus:Vc(),exit:Vc()};let r=!0;const i=(t,n)=>{const r=xo(e,n);if(r){const{transition:e,transitionEnd:n}=r,i=s(r,Rc);t=(0,a.A)((0,a.A)((0,a.A)({},t),i),n)}return t};function o(s,o){const l=e.getProps(),c=e.getVariantContext(!0)||{},u=[],d=new Set;let h={},f=1/0;for(let t=0;t<Dc;t++){const p=jc[t],m=n[p],g=void 0!==l[p]?l[p]:c[p],y=Cs(g),v=p===o?m.isActive:null;!1===v&&(f=t);let b=g===c[p]&&g!==l[p]&&y;if(b&&r&&e.manuallyAnimateOnMount&&(b=!1),m.protectedKeys=(0,a.A)({},h),!m.isActive&&null===v||!g&&!m.prevProp||Ts(g)||"boolean"===typeof g)continue;let w=Mc(m.prevProp,g)||p===o&&m.isActive&&!b&&y||t>f&&y,x=!1;const _=Array.isArray(g)?g:[g];let k=_.reduce(i,{});!1===v&&(k={});const{prevResolvedValues:S={}}=m,E=(0,a.A)((0,a.A)({},S),k),C=e=>{w=!0,d.has(e)&&(x=!0,d.delete(e)),m.needsAnimating[e]=!0};for(const e in E){const t=k[e],n=S[e];if(h.hasOwnProperty(e))continue;let r=!1;r=Ba(t)&&Ba(n)?!wo(t,n):t!==n,r?void 0!==t?C(e):d.add(e):void 0!==t&&d.has(e)?C(e):m.protectedKeys[e]=!0}m.prevProp=g,m.prevResolvedValues=k,m.isActive&&(h=(0,a.A)((0,a.A)({},h),k)),r&&e.blockInitialAnimation&&(w=!1),!w||b&&!x||u.push(..._.map(e=>({animation:e,options:(0,a.A)({type:p},s)})))}if(d.size){const t={};d.forEach(n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)}),u.push({animation:t})}let p=Boolean(u.length);return!r||!1!==l.initial&&l.initial!==l.animate||e.manuallyAnimateOnMount||(p=!1),r=!1,p?t(u):Promise.resolve()}return{animateChanges:o,setActive:function(t,r,i){var s;if(n[t].isActive===r)return Promise.resolve();null===(s=e.variantChildren)||void 0===s||s.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const a=o(i,t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function Mc(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!wo(t,e)}function Vc(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let Fc=0;const Uc={animation:{Feature:class extends oo{constructor(e){super(e),e.animationState||(e.animationState=Lc(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ts(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends oo{constructor(){super(...arguments),this.id=Fc++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},zc=(e,t)=>Math.abs(e-t);class Bc{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=qc(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=zc(e.x,t.x),r=zc(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=os;this.history.push((0,a.A)((0,a.A)({},r),{},{timestamp:i}));const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Hc(t,this.transformPagePoint),ss.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=qc("pointercancel"===e.type?this.lastMoveEventInfo:Hc(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!$a(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=Hc(Xa(e),this.transformPagePoint),{point:o}=s,{timestamp:l}=os;this.history=[(0,a.A)((0,a.A)({},o),{},{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,qc(s,this.history)),this.removeListeners=to(Ja(this.contextWindow,"pointermove",this.handlePointerMove),Ja(this.contextWindow,"pointerup",this.handlePointerUp),Ja(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),as(this.updatePoint)}}function Hc(e,t){return t?{point:t(e.point)}:e}function Wc(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qc(e,t){let{point:n}=e;return{point:n,delta:Wc(n,Gc(t)),offset:Wc(n,Kc(t)),velocity:Zc(t,.1)}}function Kc(e){return e[0]}function Gc(e){return e[e.length-1]}function Zc(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Gc(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>_o(t)));)n--;if(!r)return{x:0,y:0};const s=ko(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Qc(e){return e.max-e.min}function Yc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function $c(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Xo(t.min,t.max,e.origin),e.scale=Qc(n)/Qc(t),(Yc(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Xo(n.min,n.max,e.origin)-e.originPoint,(Yc(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Xc(e,t,n,r){$c(e.x,t.x,n.x,r?r.originX:void 0),$c(e.y,t.y,n.y,r?r.originY:void 0)}function Jc(e,t,n){e.min=n.min+t.min,e.max=e.min+Qc(t)}function eu(e,t,n){e.min=t.min-n.min,e.max=e.min+Qc(t)}function tu(e,t,n){eu(e.x,t.x,n.x),eu(e.y,t.y,n.y)}function nu(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function ru(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const iu=.35;function su(e,t,n){return{min:au(e,t),max:au(e,n)}}function au(e,t){return"number"===typeof e?e:e[t]||0}const ou=()=>({x:{min:0,max:0},y:{min:0,max:0}});function lu(e){return[e("x"),e("y")]}function cu(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function uu(e){return void 0===e||1===e}function du(e){let{scale:t,scaleX:n,scaleY:r}=e;return!uu(t)||!uu(n)||!uu(r)}function hu(e){return du(e)||fu(e)||e.z||e.rotate||e.rotateX||e.rotateY}function fu(e){return pu(e.x)||pu(e.y)}function pu(e){return e&&"0%"!==e}function mu(e,t,n){return n+t*(e-n)}function gu(e,t,n,r,i){return void 0!==i&&(e=mu(e,i,r)),mu(e,n,r)+t}function yu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=gu(e.min,t,n,r,i),e.max=gu(e.max,t,n,r,i)}function vu(e,t){let{x:n,y:r}=t;yu(e.x,n.translate,n.scale,n.originPoint),yu(e.y,r.translate,r.scale,r.originPoint)}function bu(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function wu(e,t){e.min=e.min+t,e.max=e.max+t}function xu(e,t,n){let[r,i,s]=n;const a=void 0!==t[s]?t[s]:.5,o=Xo(e.min,e.max,a);yu(e,t[r],t[i],o,t.scale)}const _u=["x","scaleX","originX"],ku=["y","scaleY","originY"];function Su(e,t){xu(e.x,t,_u),xu(e.y,t,ku)}function Eu(e,t){return cu(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Cu=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Tu=new WeakMap;class Au{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Bc(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Xa(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=so(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lu(e=>{let t=this.getAxisMotionValue(e).get()||0;if(da.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Qc(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&ss.update(()=>i(e,t),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>lu(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Cu(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&ss.update(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Nu(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Xo(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Xo(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Es(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:nu(e.x,r,s),y:nu(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iu;return!1===e?e=0:!0===e&&(e=iu),{x:su(e,"left","right"),y:su(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&lu(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Es(e))return!1;const n=e.current;ys(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Eu(e,n),{scroll:i}=t;return i&&(wu(r.x,i.offset.x),wu(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:ru(e.x,t.x),y:ru(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=cu(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=lu(o=>{if(!Nu(o,t,this.currentDirection))return;let c=l&&l[o]||{};s&&(c={min:0,max:0});const u=r?200:1e6,d=r?40:1e7,h=(0,a.A)((0,a.A)({type:"inertia",velocity:n?e[o]:0,bounceStiffness:u,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},i),c);return this.startAxisValueAnimation(o,h)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(lc(e,n,0,t))}stopAnimation(){lu(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){lu(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){lu(t=>{const{drag:n}=this.getProps();if(!Nu(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-Xo(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Es(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};lu(e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=Qc(e),i=Qc(t);return i>r?n=vl(t.min,t.max-r,e.min):r>i&&(n=vl(e.min,e.max-i,t.min)),ea(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),lu(t=>{if(!Nu(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(Xo(i,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;Tu.set(this.visualElement,this);const e=Ja(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Es(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=Ya(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(lu(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=iu,dragMomentum:o=!0}=e;return(0,a.A)((0,a.A)({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:o})}}function Nu(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Iu=e=>(t,n)=>{e&&ss.update(()=>e(t,n))};const Pu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ru(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ju={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!ha.test(e))return e;e=parseFloat(e)}const n=Ru(e,t.target.x),r=Ru(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Du={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=hl.parse(e);if(s.length>5)return i;const a=hl.createTransformer(e),o="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+o]/=l,s[1+o]/=c;const u=Xo(l,c,.5);return"number"===typeof s[2+o]&&(s[2+o]/=u),"number"===typeof s[3+o]&&(s[3+o]/=u),a(s)}};class Ou extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=Mu,Object.assign(Hs,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions((0,a.A)((0,a.A)({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),Pu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||ss.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Lu(e){const[t,n]=function(){const e=(0,r.useContext)(cs);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,s=(0,r.useId)();return(0,r.useEffect)(()=>i(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}(),i=(0,r.useContext)(ms);return r.createElement(Ou,(0,a.A)((0,a.A)({},e),{},{layoutGroup:i,switchLayoutGroup:(0,r.useContext)(Ls),isPresent:t,safeToRemove:n}))}const Mu={borderRadius:(0,a.A)((0,a.A)({},ju),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:ju,borderTopRightRadius:ju,borderBottomLeftRadius:ju,borderBottomRightRadius:ju,boxShadow:Du},Vu=["TopLeft","TopRight","BottomLeft","BottomRight"],Fu=Vu.length,Uu=e=>"string"===typeof e?parseFloat(e):e,zu=e=>"number"===typeof e||ha.test(e);function Bu(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Hu=qu(0,.5,Vo),Wu=qu(.5,.95,ns);function qu(e,t,n){return r=>r<e?0:r>t?1:n(vl(e,t,r))}function Ku(e,t){e.min=t.min,e.max=t.max}function Gu(e,t){Ku(e.x,t.x),Ku(e.y,t.y)}function Zu(e,t,n,r,i){return e=mu(e-=t,1/n,r),void 0!==i&&(e=mu(e,1/i,r)),e}function Qu(e,t,n,r,i){let[s,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;da.test(t)&&(t=parseFloat(t),t=Xo(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=Xo(s.min,s.max,r);e===s&&(o-=t),e.min=Zu(e.min,t,n,o,i),e.max=Zu(e.max,t,n,o,i)}(e,t[s],t[a],t[o],t.scale,r,i)}const Yu=["x","scaleX","originX"],$u=["y","scaleY","originY"];function Xu(e,t,n,r){Qu(e.x,t,Yu,n?n.x:void 0,r?r.x:void 0),Qu(e.y,t,$u,n?n.y:void 0,r?r.y:void 0)}function Ju(e){return 0===e.translate&&1===e.scale}function ed(e){return Ju(e.x)&&Ju(e.y)}function td(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function nd(e){return Qc(e.x)/Qc(e.y)}class rd{constructor(){this.members=[]}add(e){dc(this.members,e),e.scheduleRender()}remove(e){if(hc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function id(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) "))}const a=e.x.scale*t.x,o=e.y.scale*t.y;return 1===a&&1===o||(r+="scale(".concat(a,", ").concat(o,")")),r||"none"}const sd=(e,t)=>e.depth-t.depth;class ad{constructor(){this.children=[],this.isDirty=!1}add(e){dc(this.children,e),this.isDirty=!0}remove(e){hc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sd),this.isDirty=!1,this.children.forEach(e)}}const od=["","X","Y","Z"],ld={visibility:"hidden"};let cd=0;const ud={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function dd(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=cd++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ud.totalNodes=ud.resolvedTargetDeltas=ud.recalculatedProjection=0,this.nodes.forEach(pd),this.nodes.forEach(xd),this.nodes.forEach(_d),this.nodes.forEach(md),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(ud)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new ad)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new fc),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:s}=i;const a=s-n;a>=t&&(as(r),e(a-t))};return ss.read(r,!0),()=>as(r)}(r,250),Pu.hasAnimatedSinceResize&&(Pu.hasAnimatedSinceResize=!1,this.nodes.forEach(wd))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||s)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||Ad,{onLayoutAnimationStart:l,onLayoutAnimationComplete:c}=o.getProps(),u=!this.targetLayout||!td(this.targetLayout,i)||r,d=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||d||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,d);const e=(0,a.A)((0,a.A)({},ac(s,"layout")),{},{onPlay:l,onComplete:c});(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||wd(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,as(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kd),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(yd);this.isUpdating||this.nodes.forEach(vd),this.isUpdating=!1,this.nodes.forEach(bd),this.nodes.forEach(hd),this.nodes.forEach(fd),this.clearAllSnapshots();const e=performance.now();os.delta=ea(0,1e3/60,e-os.timestamp),os.timestamp=e,os.isProcessing=!0,ls.update.process(os),ls.preRender.process(os),ls.render.process(os),os.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(gd),this.sharedNodes.forEach(Sd)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ss.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ss.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!ed(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||hu(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Pd((r=n).x),Pd(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(wu(t.x,n.offset.x),wu(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Gu(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){Gu(t,e);const{scroll:n}=this.root;n&&(wu(t.x,-n.offset.x),wu(t.y,-n.offset.y))}wu(t.x,i.offset.x),wu(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Gu(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Su(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),hu(e.latestValues)&&Su(n,e.latestValues)}return hu(this.latestValues)&&Su(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Gu(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!hu(e.latestValues))continue;du(e.latestValues)&&e.updateSnapshot();const r=ou();Gu(r,e.measurePageBox()),Xu(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return hu(this.latestValues)&&Xu(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=(0,a.A)((0,a.A)((0,a.A)({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==os.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=os.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},tu(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Gu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,Jc(a.x,o.x,l.x),Jc(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Gu(this.target,this.layout.layoutBox),vu(this.target,this.targetDelta)):Gu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},tu(this.relativeTargetOrigin,this.target,e.target),Gu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ud.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!du(this.parent.latestValues)&&!fu(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===os.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;Gu(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,a;t.x=t.y=1;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const i=s.instance;i&&i.style&&"contents"===i.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Su(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,vu(e,a)),r&&hu(s.latestValues)&&Su(e,s.latestValues))}t.x=bu(t.x),t.y=bu(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;Xc(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=id(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===a&&this.treeScale.y===o||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),ud.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=(0,a.A)({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},l=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),u=!c||c.members.length<=1,d=Boolean(l&&!u&&!0===this.options.crossfade&&!this.path.some(Td));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;Ed(s.x,e.x,n),Ed(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tu(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){Cd(e.x,t.x,n.x,r),Cd(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),h&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),Gu(h,this.relativeTarget)),l&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=Xo(0,void 0!==n.opacity?n.opacity:1,Hu(r)),e.opacityExit=Xo(void 0!==t.opacity?t.opacity:1,0,Wu(r))):s&&(e.opacity=Xo(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<Fu;a++){const i="border".concat(Vu[a],"Radius");let s=Bu(t,i),o=Bu(n,i);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||zu(s)===zu(o)?(e[i]=Math.max(Xo(Uu(s),Uu(o),r),0),(da.test(o)||da.test(s))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=Xo(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,d,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(as(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ss.update(()=>{Pu.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Gs(e)?e:gc(e);return r.start(lc("",r,t,n)),r.animation}(0,1e3,(0,a.A)((0,a.A)({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Rd(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Qc(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Qc(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Gu(t,n),Su(t,i),Xc(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new rd);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<od.length;i++){const t="rotate"+od[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ld;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Wa(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Wa(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!hu(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=id(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*o.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?r.opacity=s===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in Hs){if(void 0===a[c])continue;const{correct:e,applyTo:t}=Hs[c],n="none"===r.transform?a[c]:e(a[c],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=s===this?Wa(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(yd),this.root.sharedNodes.clear()}}}function hd(e){e.updateLayout()}function fd(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?lu(e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=Qc(r);r.min=t[e].min,r.max=r.min+i}):Rd(i,n.layoutBox,t)&&lu(r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],a=Qc(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Xc(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?Xc(o,e.applyTransform(r,!0),n.measuredBox):Xc(o,t,n.layoutBox);const l=!ed(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const a={x:{min:0,max:0},y:{min:0,max:0}};tu(a,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};tu(o,t,s.layoutBox),td(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function pd(e){ud.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function md(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function gd(e){e.clearSnapshot()}function yd(e){e.clearMeasurements()}function vd(e){e.isLayoutDirty=!1}function bd(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function wd(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xd(e){e.resolveTargetDelta()}function _d(e){e.calcProjection()}function kd(e){e.resetRotation()}function Sd(e){e.removeLeadSnapshot()}function Ed(e,t,n){e.translate=Xo(t.translate,0,n),e.scale=Xo(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Cd(e,t,n,r){e.min=Xo(t.min,n.min,r),e.max=Xo(t.max,n.max,r)}function Td(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Ad={duration:.45,ease:[.4,0,.1,1]},Nd=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),Id=Nd("applewebkit/")&&!Nd("chrome/")?Math.round:ns;function Pd(e){e.min=Id(e.min),e.max=Id(e.max)}function Rd(e,t,n){return"position"===e||"preserve-aspect"===e&&!Yc(nd(t),nd(n),.2)}const jd=dd({attachResizeListener:(e,t)=>Ya(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dd={current:void 0},Od=dd({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Dd.current){const e=new jd({});e.mount(window),e.setOptions({layoutScroll:!0}),Dd.current=e}return Dd.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Ld={pan:{Feature:class extends oo{constructor(){super(...arguments),this.removePointerDownListener=ns}onPointerDown(e){this.session=new Bc(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Cu(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Iu(e),onStart:Iu(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&ss.update(()=>r(e,t))}}}mount(){this.removePointerDownListener=Ja(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends oo{constructor(e){super(e),this.removeGroupControls=ns,this.removeListeners=ns,this.controls=new Au(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ns}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Od,MeasureLayout:Lu}};const Md=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Vd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;ys(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=Md.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return uc(e)?parseFloat(e):e}return Xs(i)?Vd(i,t,n+1):i}function Fd(e,t,n){let r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n=(0,a.A)({},n)),e.values.forEach(e=>{const t=e.get();if(!Xs(t))return;const n=Vd(t,i);n&&e.set(n)});for(const s in r){const e=r[s];if(!Xs(e))continue;const t=Vd(e,i);t&&(r[s]=t,n||(n={}),void 0===n[s]&&(n[s]=e))}return{target:r,transitionEnd:n}}const Ud=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),zd=e=>Ud.has(e),Bd=e=>e===ta||e===ha,Hd=(e,t)=>parseFloat(e.split(", ")[t]),Wd=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return Hd(s[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?Hd(t[1],e):0}},qd=new Set(["x","y","z"]),Kd=Ws.filter(e=>!qd.has(e));const Gd={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:Wd(4,13),y:Wd(5,14)};Gd.translateX=Gd.x,Gd.translateY=Gd.y;const Zd=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=(0,a.A)({},t),r=(0,a.A)({},r);const i=Object.keys(t).filter(zd);let s=[],o=!1;const l=[];if(i.forEach(i=>{const a=e.getValue(i);if(!e.hasValue(i))return;let c=n[i],u=bc(c);const d=t[i];let h;if(Ba(d)){const e=d.length,t=null===d[0]?1:0;c=d[t],u=bc(c);for(let n=t;n<e&&null!==d[n];n++)h?ys(bc(d[n])===h,"All keyframes must be of the same type"):(h=bc(d[n]),ys(h===u||Bd(u)&&Bd(h),"Keyframes must be of the same dimension as the current value"))}else h=bc(d);if(u!==h)if(Bd(u)&&Bd(h)){const e=a.get();"string"===typeof e&&a.set(parseFloat(e)),"string"===typeof d?t[i]=parseFloat(d):Array.isArray(d)&&h===ha&&(t[i]=d.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===d)?0===c?a.set(h.transform(c)):t[i]=u.transform(d):(o||(s=function(e){const t=[];return Kd.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),o=!0),l.push(i),r[i]=void 0!==r[i]?r[i]:t[i],a.jump(d))}),l.length){const n=l.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:a}=s,o={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach(e=>{o[e]=Gd[e](r,s)}),t.render();const l=t.measureViewportBox();return n.forEach(n=>{const r=t.getValue(n);r&&r.jump(o[n]),e[n]=Gd[n](l,s)}),e})(t,e,l);return s.length&&s.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),e.render(),Ji&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function Qd(e,t,n,r){return(e=>Object.keys(e).some(zd))(t)?Zd(e,t,n,r):{target:t,transitionEnd:r}}const Yd={current:null},$d={current:!1};const Xd=new WeakMap,Jd=["willChange"],eh=["children"],th=Object.keys(Os),nh=th.length,rh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],ih=Ns.length;class sh{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ss.render(this.render,!1,!0);const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget=(0,a.A)({},c),this.initialValues=n.initial?(0,a.A)({},c):{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.isControllingVariants=Is(n),this.isVariantNode=Ps(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(n,{}),{willChange:h}=d,f=s(d,Jd);for(const s in f){const e=f[s];void 0!==c[s]&&Gs(e)&&(e.set(c[s],!1),cc(h)&&h.add(s))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Xd.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),$d.current||function(){if($d.current=!0,Ji)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Yd.current=e.matches;e.addListener(t),t()}else Yd.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Yd.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Xd.delete(this.current),this.projection&&this.projection.unmount(),as(this.notifyUpdate),as(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=qs.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&ss.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,a,{children:o}=e,l=s(e,eh);for(let s=0;s<nh;s++){const e=th[s],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:o}=Os[e];r&&(i=r),t(l)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),o&&(a=o))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:s,layoutScroll:a,layoutRoot:o}=l;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||s&&Es(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:o})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<rh.length;n++){const t=rh[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],a=n[i];if(Gs(s))e.addValue(i,s),cc(r)&&r.add(i);else if(Gs(a))e.addValue(i,gc(s,{owner:e})),cc(r)&&r.remove(i);else if(a!==s)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(i);e.addValue(i,gc(void 0!==t?t:s,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<ih;t++){const n=Ns[t],r=this.props[n];(Cs(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=gc(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=za(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Gs(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new fc),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}const ah=["transition","transitionEnd"];class oh extends sh{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i}=e,o=s(e,ah),{transformValues:l}=t,c=function(e,t,n){const r={};for(const i in e){const e=Ec(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(o,r||{},this);if(l&&(i&&(i=l(i)),o&&(o=l(o)),c&&(c=l(c))),n){!function(e,t,n){var r,i;const s=Object.keys(t).filter(t=>!e.hasValue(t)),a=s.length;if(a)for(let o=0;o<a;o++){const a=s[o],l=t[a];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==i?i:t[a]),void 0!==c&&null!==c&&("string"===typeof c&&(uc(c)||rc(c))?c=parseFloat(c):!xc(c)&&hl.test(l)&&(c=nc(a,l)),e.addValue(a,gc(c,{owner:e})),void 0===n[a]&&(n[a]=c),null!==c&&e.setBaseTarget(a,c))}}(this,o,c);const e=((e,t,n,r)=>{const i=Fd(e,t,r);return Qd(e,t=i.target,n,r=i.transitionEnd)})(this,o,c,i);i=e.transitionEnd,o=e.target}return(0,a.A)({transition:r,transitionEnd:i},o)}}class lh extends oh{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(qs.has(t)){const e=tc(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=($s(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Eu(e,n)}build(e,t,n,r){va(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Fa(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gs(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}renderInstance(e,t,n,r){La(e,t,n,r)}}class ch extends oh{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(qs.has(t)){const e=tc(t);return e&&e.default||0}return t=Ma.has(t)?t:ks(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return Ua(e,t)}build(e,t,n,r){Pa(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Va(e,t,0,r)}mount(e){this.isSVGTag=ja(e.tagName),super.mount(e)}}const uh=(e,t)=>Bs(e)?new ch(t,{enableHardwareAcceleration:!1}):new lh(t,{enableHardwareAcceleration:!0}),dh={layout:{ProjectionNode:Od,MeasureLayout:Lu}},hh=(0,a.A)((0,a.A)((0,a.A)((0,a.A)({},Uc),bo),Ld),dh),fh=Us((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;const s=Bs(e)?Za:Qa;return(0,a.A)((0,a.A)({},s),{},{preloadedFeatures:n,useRender:Oa(i),createVisualElement:r,Component:e})}(e,t,hh,uh));var ph=n(579);const mh=e=>{let{open:t,onClose:n}=e;const[i,s]=(0,r.useState)(""),[a,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)("");return t?(0,ph.jsx)(bs,{children:(0,ph.jsx)(fh.div,{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,ph.jsxs)(fh.div,{className:"bg-white rounded-lg p-8 max-w-sm w-full text-center relative",initial:{scale:.95,y:30},animate:{scale:1,y:0},exit:{scale:.95,y:30},children:[(0,ph.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Forgot Username"}),a?(0,ph.jsx)("div",{className:"text-green-700",children:"If your email exists, instructions have been sent."}):(0,ph.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0)},className:"space-y-3",children:[(0,ph.jsx)("input",{type:"email",placeholder:"Your email",value:i,onChange:e=>s(e.target.value),className:"border px-3 py-2 rounded w-full",required:!0}),l&&(0,ph.jsx)("div",{className:"text-red-500 text-sm",children:l}),(0,ph.jsx)("button",{type:"submit",className:"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800 transition w-full",children:"Send Username"}),(0,ph.jsx)("button",{type:"button",className:"text-gray-400 text-sm underline mt-2",onClick:n,children:"Cancel"})]})]})})}):null},gh=e=>{let{open:t,onClose:n}=e;const[i,s]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(!1);return t?(0,ph.jsx)(bs,{children:(0,ph.jsx)(fh.div,{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,ph.jsxs)(fh.div,{className:"bg-white rounded-lg p-8 max-w-sm w-full text-center relative",initial:{scale:.95,y:30},animate:{scale:1,y:0},exit:{scale:.95,y:30},children:[(0,ph.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Create Account"}),u?(0,ph.jsx)("div",{className:"text-green-700",children:"Account created! You may now log in."}):(0,ph.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c("");try{const e=Qi(Xi.y);await async function(e,t,n){if((0,vt.xZ)(e.app))return Promise.reject(Pt(e));const r=Mn(e),i=Gn(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mr,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Er(e),t}),a=await gr._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(e,i,a),d(!0),c("")}catch(t){c(t.message||"There was an error creating your account. Please try again.")}},className:"space-y-3",children:[(0,ph.jsx)("input",{type:"email",placeholder:"Email",value:i,onChange:e=>s(e.target.value),className:"border px-3 py-2 rounded w-full",required:!0}),(0,ph.jsx)("input",{type:"password",placeholder:"Password",value:a,onChange:e=>o(e.target.value),className:"border px-3 py-2 rounded w-full",required:!0}),l&&(0,ph.jsx)("div",{className:"text-red-500 text-sm",children:l}),(0,ph.jsx)("button",{type:"submit",className:"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800 transition w-full",children:"Create Account"}),(0,ph.jsx)("button",{type:"button",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition w-full mt-2",onClick:async()=>{c("");try{const e=new hr,t=Qi(Xi.y);await di(t,e),d(!0)}catch(e){c(e.message)}},children:"Sign up with Google"}),(0,ph.jsx)("button",{type:"button",className:"text-gray-400 text-sm underline mt-2",onClick:n,children:"Cancel"})]})]})})}):null},yh=e=>{let{open:t,onLogin:n,onClose:i}=e;const[s,a]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1);return t?(0,ph.jsx)(bs,{children:(0,ph.jsx)(fh.div,{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,ph.jsxs)(fh.div,{className:"bg-white rounded-lg p-8 max-w-sm w-full text-center relative",initial:{scale:.95,y:30},animate:{scale:1,y:0},exit:{scale:.95,y:30},children:[(0,ph.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Login"}),(0,ph.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(""),h(!0);try{const e=Qi(Xi.y);await function(e,t,n){return(0,vt.xZ)(e.app)?Promise.reject(Pt(e)):kr((0,bt.Ku)(e),lr.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Er(e),t})}(e,s,o),h(!1);const t=e.currentUser;n("user",t)}catch(t){h(!1),u(t.message||"Invalid email or password")}},className:"space-y-3",children:[(0,ph.jsx)("input",{type:"text",placeholder:"Email or admin username",value:s,onChange:e=>a(e.target.value),className:"border px-3 py-2 rounded w-full",autoFocus:!0,required:!0}),(0,ph.jsx)("input",{type:"password",placeholder:"Password",value:o,onChange:e=>l(e.target.value),className:"border px-3 py-2 rounded w-full",required:!0}),c&&(0,ph.jsx)("div",{className:"text-red-500 text-sm",children:c}),(0,ph.jsx)("button",{type:"submit",className:"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800 transition w-full disabled:opacity-50",disabled:d,children:d?"Logging in...":"Login"}),(0,ph.jsx)("button",{type:"button",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition w-full mt-2",onClick:async()=>{u(""),h(!0);try{const e=new hr,t=Qi(Xi.y);await di(t,e),h(!1);const r=t.currentUser;n("user",r),console.log("Google login successful",r)}catch(e){h(!1),u("Google login failed"),console.error("Google login failed",e)}},disabled:d,children:d?"Please wait...":"Login with Google"}),(0,ph.jsxs)("div",{className:"flex flex-col gap-2 mt-4",children:[(0,ph.jsx)("button",{type:"button",className:"text-green-700 underline text-sm",onClick:()=>p(!0),children:"Forgot Username?"}),(0,ph.jsx)("button",{type:"button",className:"text-green-700 underline text-sm",onClick:()=>g(!0),children:"Create Account"}),(0,ph.jsx)("button",{type:"button",className:"text-gray-400 text-sm underline mt-2",onClick:i,children:"Cancel"})]})]}),(0,ph.jsx)(mh,{open:f,onClose:()=>p(!1)}),(0,ph.jsx)(gh,{open:m,onClose:()=>g(!1)})]})})}):null},vh=e=>{let{onSave:t,onCancel:n,initial:i}=e;const[s,o]=(0,r.useState)(i||{name:"",description:"",image:"",price:0,thc:0,cbd:0,effects:"",usage:"",reviews:[]}),l=e=>{o((0,a.A)((0,a.A)({},s),{},{[e.target.name]:e.target.value}))};return(0,ph.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t((0,a.A)((0,a.A)({},s),{},{price:parseFloat(s.price),thc:parseFloat(s.thc),cbd:parseFloat(s.cbd)}))},className:"space-y-4 p-4 bg-white rounded shadow-md",children:[(0,ph.jsxs)("div",{children:[(0,ph.jsx)("input",{name:"name",value:s.name,onChange:l,className:"border px-3 py-2 rounded w-full",placeholder:"Name",required:!0}),(0,ph.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Product name (e.g., "Zen OG Kush")'})]}),(0,ph.jsxs)("div",{children:[(0,ph.jsx)("textarea",{name:"description",value:s.description,onChange:l,className:"border px-3 py-2 rounded w-full",placeholder:"Description",required:!0}),(0,ph.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Short summary of the product shown on the card and details."})]}),(0,ph.jsxs)("div",{children:[(0,ph.jsx)("input",{name:"image",value:s.image,onChange:l,className:"border px-3 py-2 rounded w-full",placeholder:"Image URL",required:!0}),(0,ph.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Direct link to a product image (e.g., from Unsplash or your assets folder)."})]}),(0,ph.jsxs)("div",{children:[(0,ph.jsx)("input",{name:"price",type:"number",value:s.price,onChange:l,className:"border px-3 py-2 rounded w-full",placeholder:"Price",required:!0}),(0,ph.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Retail price in USD (e.g., 39.99)"})]}),(0,ph.jsxs)("div",{children:[(0,ph.jsx)("input",{name:"thc",type:"number",value:s.thc,onChange:l,className:"border px-3 py-2 rounded w-full",placeholder:"THC %",required:!0}),(0,ph.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"THC content percentage (e.g., 22)"})]}),(0,ph.jsxs)("div",{children:[(0,ph.jsx)("input",{name:"cbd",type:"number",value:s.cbd,onChange:l,className:"border px-3 py-2 rounded w-full",placeholder:"CBD %",required:!0}),(0,ph.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"CBD content percentage (e.g., 1)"})]}),(0,ph.jsxs)("div",{children:[(0,ph.jsx)("input",{name:"effects",value:s.effects,onChange:l,className:"border px-3 py-2 rounded w-full",placeholder:"Effects"}),(0,ph.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Describe the main effects (e.g., "Relaxing, Calming")'})]}),(0,ph.jsxs)("div",{children:[(0,ph.jsx)("input",{name:"usage",value:s.usage,onChange:l,className:"border px-3 py-2 rounded w-full",placeholder:"Usage"}),(0,ph.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Suggested usage or best time to use (e.g., "Evening, Stress Relief")'})]}),(0,ph.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,ph.jsx)("button",{type:"button",onClick:n,className:"text-gray-500 px-4 py-2 rounded hover:bg-gray-100",children:"Cancel"}),(0,ph.jsx)("button",{type:"submit",className:"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800",children:"Save"})]})]})},bh=e=>{let{isAdmin:t,user:n,onLogin:i,onLogout:s,onHomeClick:a}=e;const o=ue(),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),h=n&&n.photoURL,f=n&&(n.displayName||n.email);return r.useEffect(()=>{function e(e){const t=document.getElementById("main-nav-menu"),n=document.getElementById("hamburger-btn");!l||null!==t&&void 0!==t&&t.contains(e.target)||null!==n&&void 0!==n&&n.contains(e.target)||c(!1);const r=document.getElementById("profile-dropdown"),i=document.getElementById("profile-btn");!u||null!==r&&void 0!==r&&r.contains(e.target)||null!==i&&void 0!==i&&i.contains(e.target)||d(!1)}return(l||u)&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[l,u]),(0,ph.jsx)("header",{className:"bg-white shadow sticky top-0 z-50",children:(0,ph.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-3 sm:py-4 w-full",children:(0,ph.jsxs)("div",{className:"w-full flex flex-row items-center justify-between",children:[(0,ph.jsx)("div",{className:"flex items-center",children:(0,ph.jsx)("button",{className:"text-2xl font-bold text-green-700 bg-transparent border-none outline-none cursor-pointer hover:underline p-0 m-0 text-center md:text-left",style:{fontFamily:"inherit"},onClick:()=>o("/"),children:"Reaper Resins"})}),(0,ph.jsxs)("div",{className:"hidden md:flex flex-1 items-center justify-between",children:[(0,ph.jsxs)("nav",{className:"flex flex-row gap-6 mx-auto",children:[(0,ph.jsx)("button",{onClick:()=>o("/products"),className:"block text-lg text-gray-700 hover:text-green-700 transition px-2 py-2 rounded-lg text-left",children:"Products"}),(0,ph.jsx)("button",{onClick:()=>o("/reviews"),className:"block text-lg text-gray-700 hover:text-green-700 transition px-2 py-2 rounded-lg text-left",children:"Reviews"}),(0,ph.jsx)("button",{onClick:()=>{"/"===window.location.pathname?setTimeout(()=>{const e=document.getElementById("contact");e&&e.scrollIntoView({behavior:"smooth"})},100):(o("/"),setTimeout(()=>{const e=document.getElementById("contact");e&&e.scrollIntoView({behavior:"smooth"})},500))},className:"block text-lg text-gray-700 hover:text-green-700 transition px-2 py-2 rounded-lg text-left",children:"Contact"})]}),(0,ph.jsxs)("div",{className:"flex items-center gap-2 ml-auto relative",children:[n?(0,ph.jsxs)(fh.button,{id:"profile-btn",className:"flex items-center gap-2 focus:outline-none px-2 py-1 rounded-full hover:bg-green-50 transition relative",onClick:()=>d(e=>!e),"aria-label":"User menu",whileTap:{scale:.95},whileHover:{scale:1.08},children:[(0,ph.jsx)(fh.img,{src:h||"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(f||"U")),alt:"User avatar",className:"w-8 h-8 rounded-full border-2 border-green-700 shadow-sm",initial:{rotate:0},animate:{rotate:u?360:0},transition:{duration:.5}}),(0,ph.jsx)("span",{className:"text-green-900 font-medium text-base max-w-[120px] truncate",children:f}),(0,ph.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"\u25bc"})]}):(0,ph.jsx)("button",{onClick:i,className:"bg-green-700 text-white px-5 py-3 rounded-lg text-lg hover:bg-green-800 transition",children:"Login"}),n&&u&&(0,ph.jsxs)(fh.div,{id:"profile-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.25},className:"absolute w-56 bg-white rounded-lg shadow-lg py-2 z-50 border",style:{minWidth:220,top:"50px",right:"30px",position:"absolute"},children:[(0,ph.jsx)("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-red-500 text-xl font-bold focus:outline-none",onClick:()=>d(!1),"aria-label":"Close dropdown",children:"\xd7"}),(0,ph.jsx)("div",{className:"px-4 py-2 text-gray-800 font-semibold border-b truncate",children:f}),(0,ph.jsx)("button",{className:"block w-full text-left px-4 py-2 hover:bg-green-50 text-gray-700",onClick:()=>{d(!1),c(!1),o("/profile")},children:"Profile"}),(0,ph.jsx)("button",{className:"block w-full text-left px-4 py-2 hover:bg-green-50 text-gray-700",onClick:()=>{d(!1),c(!1),o("/profile/settings")},children:"Profile Settings"}),(0,ph.jsx)("button",{className:"block w-full text-left px-4 py-2 hover:bg-green-50 text-gray-700",onClick:()=>{d(!1),c(!1),o("/profile/reviews")},children:"Reviews Left"}),(0,ph.jsx)("button",{className:"block w-full text-left px-4 py-2 hover:bg-green-50 text-gray-700",onClick:()=>{d(!1),c(!1),o("/profile/liked")},children:"Products Liked"}),(0,ph.jsx)("button",{className:"block w-full text-left px-4 py-2 hover:bg-green-100 text-red-600 font-semibold border-t",onClick:()=>{d(!1),s()},children:"Logout"})]})]})]}),(0,ph.jsxs)("div",{className:"flex md:hidden items-center gap-2",children:[n?(0,ph.jsx)(fh.button,{id:"profile-btn",className:"flex items-center gap-2 focus:outline-none px-2 py-1 rounded-full hover:bg-green-50 transition relative max-[375px]:hidden",onClick:()=>d(e=>!e),"aria-label":"User menu",whileTap:{scale:.95},whileHover:{scale:1.08},children:(0,ph.jsx)(fh.img,{src:h||"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(f||"U")),alt:"User avatar",className:"w-8 h-8 rounded-full border-2 border-green-700 shadow-sm",initial:{rotate:0},animate:{rotate:u?360:0},transition:{duration:.5}})}):(0,ph.jsx)("button",{onClick:i,className:"bg-green-700 text-white px-4 py-2 rounded-lg text-lg hover:bg-green-800 transition max-[375px]:hidden",children:"Login"}),(0,ph.jsx)("button",{id:"hamburger-btn",className:"text-3xl text-green-700 focus:outline-none ml-2 max-[375px]:flex","aria-label":l?"Close navigation menu":"Open navigation menu",onClick:()=>c(e=>!e),children:l?(0,ph.jsx)("span",{children:"\xd7"}):(0,ph.jsx)("span",{children:"\u2630"})}),n&&u&&(0,ph.jsxs)(fh.div,{id:"profile-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.25},className:"fixed top-[50px] w-[45vw] left-1/2 -translate-x-1/2 bg-white rounded-b-lg shadow-lg py-2 z-[999] border md:hidden",style:{minWidth:220},children:[(0,ph.jsx)("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-red-500 text-xl font-bold focus:outline-none",onClick:()=>d(!1),"aria-label":"Close dropdown",children:"\xd7"}),(0,ph.jsx)("div",{className:"px-4 py-2 text-gray-800 font-semibold border-b truncate",children:f}),(0,ph.jsx)("button",{className:"block w-full text-left px-4 py-2 hover:bg-green-50 text-gray-700",onClick:()=>{d(!1),c(!1),o("/profile")},children:"Profile"}),(0,ph.jsx)("button",{className:"block w-full text-left px-4 py-2 hover:bg-green-50 text-gray-700",onClick:()=>{d(!1),c(!1),o("/profile/settings")},children:"Profile Settings"}),(0,ph.jsx)("button",{className:"block w-full text-left px-4 py-2 hover:bg-green-50 text-gray-700",onClick:()=>{d(!1),c(!1),o("/profile/reviews")},children:"Reviews Left"}),(0,ph.jsx)("button",{className:"block w-full text-left px-4 py-2 hover:bg-green-50 text-gray-700",onClick:()=>{d(!1),c(!1),o("/profile/liked")},children:"Products Liked"}),(0,ph.jsx)("button",{className:"block w-full text-left px-4 py-2 hover:bg-green-100 text-red-600 font-semibold border-t",onClick:()=>{d(!1),s()},children:"Logout"})]})]}),l&&(0,ph.jsxs)("nav",{className:"md:hidden flex flex-col gap-2 bg-white rounded shadow p-4 fixed left-0 right-0 top-[64px] z-40",children:[(0,ph.jsx)("button",{onClick:()=>{c(!1),o("/products")},className:"block text-lg text-gray-700 hover:text-green-700 transition px-2 py-2 rounded-lg text-left",children:"Products"}),(0,ph.jsx)("button",{onClick:()=>{c(!1),o("/reviews")},className:"block text-lg text-gray-700 hover:text-green-700 transition px-2 py-2 rounded-lg text-left",children:"Reviews"}),(0,ph.jsx)("button",{onClick:()=>{c(!1),o("/contact")},className:"block text-lg text-gray-700 hover:text-green-700 transition px-2 py-2 rounded-lg text-left",children:"Contact"}),n?(0,ph.jsx)("div",{children:(0,ph.jsxs)("button",{id:"profile-btn-mobile",className:"flex items-center gap-2 focus:outline-none px-2 py-1 rounded-full hover:bg-green-50 transition",onClick:()=>{c(!1),o("/profile")},"aria-label":"Go to profile",children:[(0,ph.jsx)("img",{src:h||"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(f||"U")),alt:"User avatar",className:"w-8 h-8 rounded-full border-2 border-green-700 shadow-sm"}),(0,ph.jsx)("span",{className:"text-green-900 font-medium text-base max-w-[120px] truncate",children:f})]})}):(0,ph.jsx)("button",{onClick:i,className:"bg-green-700 text-white px-5 py-3 rounded-lg text-lg hover:bg-green-800 transition",children:"Login"})]})]})})})},wh=()=>(0,ph.jsx)("footer",{className:"bg-green-700 text-white py-4 sm:py-6 mt-8 sm:mt-12",children:(0,ph.jsxs)("div",{className:"max-w-7xl mx-auto px-4 flex flex-col md:flex-row items-center justify-between gap-8",children:[(0,ph.jsxs)("div",{className:"text-center md:text-left w-full md:w-auto mb-4 md:mb-0",children:[(0,ph.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Reaper Resins. All rights reserved."]}),(0,ph.jsx)("p",{className:"text-sm mt-2 md:mt-0",children:"Cannabis products are for adults only. Please consume responsibly."})]}),(0,ph.jsx)("div",{className:"hidden md:flex flex-1 justify-center items-center",children:(0,ph.jsxs)("svg",{viewBox:"0 0 400 80",width:"220",height:"44",className:"h-10 w-auto",style:{maxWidth:"90vw"},xmlns:"http://www.w3.org/2000/svg","aria-label":"TCmedia logo",children:[(0,ph.jsx)("polyline",{points:"40,10 10,40 40,70",fill:"none",stroke:"#00FF00",strokeWidth:"6"}),(0,ph.jsx)("polyline",{points:"360,10 390,40 360,70",fill:"none",stroke:"#00FF00",strokeWidth:"6"}),(0,ph.jsx)("text",{x:"50%",y:"67%",textAnchor:"middle",fill:"none",stroke:"#00FF00",strokeWidth:"2.5",fontSize:"48",fontFamily:"Arial Black,Arial,sans-serif",children:"TCmedia"})]})}),(0,ph.jsxs)("div",{className:"flex flex-wrap justify-center md:justify-end gap-6 w-full md:w-auto",children:[(0,ph.jsx)("a",{href:"https://t.me/+TzgGpmtVBHY0MGY5",target:"_blank",rel:"noopener noreferrer","aria-label":"Telegram",className:"group hover:scale-110 transition p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-white",children:(0,ph.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:(0,ph.jsxs)("g",{children:[(0,ph.jsx)("path",{className:"transition-all duration-300 group-hover:stroke-[#29A8E9] group-hover:scale-110",strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 6.584a1.5 1.5 0 0 1-.986 1.877l-15 5a1.5 1.5 0 0 1-1.013-2.83l15-5a1.5 1.5 0 0 1 1.999 1.953z"}),(0,ph.jsx)("path",{className:"transition-all duration-300 group-hover:stroke-[#29A8E9] group-hover:translate-x-1",strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 6.584l-8.752 8.752m0 0l-3.376-3.376m3.376 3.376l-1.5 4.5"})]})})}),(0,ph.jsx)("a",{href:"https://www.instagram.com/reaperresins/",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"group hover:scale-110 transition p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-white",children:(0,ph.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:[(0,ph.jsx)("rect",{x:"2.5",y:"2.5",width:"19",height:"19",rx:"5",stroke:"currentColor",strokeWidth:"1.5",className:"transition-all duration-300 group-hover:stroke-pink-500 group-hover:scale-110"}),(0,ph.jsx)("circle",{cx:"12",cy:"12",r:"5",stroke:"currentColor",strokeWidth:"1.5",className:"transition-all duration-300 group-hover:stroke-yellow-400 group-hover:scale-110"}),(0,ph.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor",className:"transition-all duration-300 group-hover:fill-purple-500 group-hover:scale-125"})]})}),(0,ph.jsx)("a",{href:"sms:+12077379594","aria-label":"Text Message",className:"hover:scale-110 transition p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-white",children:(0,ph.jsxs)("svg",{width:"32",height:"32",fill:"none",viewBox:"0 0 24 24",className:"text-green-700",xmlns:"http://www.w3.org/2000/svg",children:[(0,ph.jsx)("circle",{cx:"12",cy:"12",r:"12",fill:"#fff"}),(0,ph.jsx)("rect",{x:"5",y:"7",width:"14",height:"10",rx:"2",fill:"#25D366"}),(0,ph.jsx)("rect",{x:"7",y:"9",width:"10",height:"2",rx:"1",fill:"#fff"}),(0,ph.jsx)("rect",{x:"7",y:"13",width:"6",height:"2",rx:"1",fill:"#fff"})]})}),(0,ph.jsx)("a",{href:"tel:+12077379594","aria-label":"Phone",className:"group hover:scale-110 transition p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-white",children:(0,ph.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:[(0,ph.jsx)("path",{d:"M15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",stroke:"currentColor",strokeWidth:"1.5",className:"transition-all duration-300 group-hover:stroke-blue-500 group-hover:scale-110"}),(0,ph.jsx)("path",{d:"M20.354 10.646a.5.5 0 0 1-.708-.708l-2.5 2.5a.5.5 0 0 1-.708 0l-2.5-2.5a.5.5 0 0 1 .708-.708L14 13.293l1.646-1.647a.5.5 0 0 1 .708 0z",stroke:"currentColor",strokeWidth:"1.5",className:"transition-all duration-300 group-hover:stroke-blue-500 group-hover:scale-110"})]})})]}),(0,ph.jsx)("div",{className:"flex md:hidden w-full justify-center my-2",children:(0,ph.jsxs)("svg",{viewBox:"0 0 400 80",width:"180",height:"36",className:"h-8 w-auto",style:{maxWidth:"90vw"},xmlns:"http://www.w3.org/2000/svg","aria-label":"TCmedia logo",children:[(0,ph.jsx)("polyline",{points:"40,10 10,40 40,70",fill:"none",stroke:"#00FF00",strokeWidth:"6"}),(0,ph.jsx)("polyline",{points:"360,10 390,40 360,70",fill:"none",stroke:"#00FF00",strokeWidth:"6"}),(0,ph.jsx)("text",{x:"50%",y:"67%",textAnchor:"middle",fill:"none",stroke:"#00FF00",strokeWidth:"2.5",fontSize:"40",fontFamily:"Arial Black,Arial,sans-serif",children:"TCmedia"})]})})]})});var xh=n(472);function _h(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),s=Qi().currentUser;(0,r.useEffect)(()=>{if(!s)return t([]),void i(!1);i(!0);const e=(0,xh.H9)(Xi.db,"users",s.uid);(0,xh.x7)(e).then(e=>{e.exists()&&e.data().likedProducts?t(e.data().likedProducts):t([]),i(!1)})},[s]);const a=(0,r.useCallback)(async e=>{if(!s)return;t(t=>t.includes(e)?t:[...t,e]);const n=(0,xh.H9)(Xi.db,"users",s.uid);await(0,xh.BN)(n,{likedProducts:(0,xh.hq)(e)},{merge:!0})},[s]),o=(0,r.useCallback)(async e=>{if(!s)return;t(t=>t.filter(t=>t!==e));const n=(0,xh.H9)(Xi.db,"users",s.uid);await(0,xh.mZ)(n,{likedProducts:(0,xh.C3)(e)})},[s]),l=(0,r.useCallback)(t=>e.includes(t),[e]);return{liked:e,loading:n,likeProduct:a,unlikeProduct:o,isProductLiked:l}}function kh(e){let{productId:t,className:n=""}=e;const{isProductLiked:r,likeProduct:i,unlikeProduct:s}=_h(),a=r(t);return(0,ph.jsx)(fh.button,{whileTap:{scale:.85},whileHover:{scale:1.1},"aria-label":a?"Unlike":"Like",className:"p-2 rounded-full bg-white/80 shadow-md hover:bg-pink-50 focus:outline-none ".concat(n),onClick:e=>{e.stopPropagation(),a?s(t):i(t)},children:(0,ph.jsx)(fh.svg,{initial:{scale:.7,opacity:.5},animate:{scale:1.1,opacity:1},transition:{type:"spring",stiffness:400,damping:15},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:a?"#e11d48":"none",stroke:"#e11d48",strokeWidth:a?0:2,className:"w-7 h-7 drop-shadow",children:(0,ph.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",strokeLinecap:"round",strokeLinejoin:"round",fill:a?"#e11d48":"none"})},a?"filled":"outline")})}const Sh=e=>{let{product:t,onSelect:n,isAdmin:i,onEdit:s,onDelete:a}=e;const[o,l]=(0,r.useState)(!1),{isProductLiked:c,likeProduct:u,unlikeProduct:d}=_h();c(t.id);return(0,ph.jsxs)("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition p-3 sm:p-4 flex flex-col relative w-full max-w-full",children:[(0,ph.jsx)(kh,{productId:t.id,className:"absolute top-2 right-2 z-20"}),(0,ph.jsx)("img",{src:t.image&&""!==t.image&&"placeholder.jpg"!==t.image?t.image:"/placeholder.jpg",alt:t.name+(t.image?"":" (placeholder image)"),className:"w-full h-40 sm:h-48 object-cover rounded mb-4 bg-gray-100",style:{minHeight:"120px",maxHeight:"220px"},onError:e=>{e.target.onerror=null,e.target.src="/placeholder.jpg"}}),(0,ph.jsx)("h3",{className:"text-xl font-semibold mb-2",children:t.name}),(0,ph.jsx)("p",{className:"text-gray-600 mb-2",children:t.description}),(0,ph.jsxs)("div",{className:"flex items-center justify-between mt-auto",children:[(0,ph.jsxs)("span",{className:"font-bold text-green-700 text-lg",children:["$",t.price]}),(0,ph.jsx)("div",{className:"space-x-2",children:(0,ph.jsx)("button",{className:"bg-green-700 text-white px-5 py-3 rounded-lg text-lg hover:bg-green-800 transition min-w-[44px] min-h-[44px]",onClick:()=>n(t),children:"Learn More"})})]}),i&&(0,ph.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2",children:[(0,ph.jsx)("button",{className:"bg-yellow-400 text-white px-2 py-1 rounded hover:bg-yellow-500",onClick:()=>l(!0),children:"Edit"}),(0,ph.jsx)("button",{className:"bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700",onClick:()=>a(t.id),children:"Delete"})]}),o&&(0,ph.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ph.jsx)(vh,{initial:t,onSave:e=>{s(t.id,e),l(!1)},onCancel:()=>l(!1)})})]})},Eh=e=>{let{products:t,onSelect:n,isAdmin:i,onEdit:s,onDelete:a}=e;const[o,l]=(0,r.useState)(!1);(0,r.useEffect)(()=>{l(!1)},[t]);const c=o?t:t.slice(0,3);return(0,ph.jsxs)(ph.Fragment,{children:[(0,ph.jsx)("div",{className:"grid grid-cols-1 xs:grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 sm:gap-8",children:c.map(e=>(0,ph.jsx)(Sh,{product:e,onSelect:n,isAdmin:i,onEdit:s,onDelete:a},e.id))}),t.length>3&&!o&&(0,ph.jsx)("div",{className:"flex justify-center mt-8",children:(0,ph.jsx)("button",{className:"bg-green-700 text-white px-5 py-3 rounded-lg text-lg hover:bg-green-800 transition",onClick:()=>l(!0),children:"See More"})})]})},Ch={Flower:["Indica","Hybrid","Sativa"],Concentrate:["Shatter","Badder","Terps"],Edible:["Brownie","Cookie","Drink"]};function Th(e){let{selectedCategory:t,selectedSubcategory:n,onCategorySelect:r,onSubcategorySelect:i}=e;return(0,ph.jsxs)("div",{className:"mb-8 flex flex-col items-center",children:[(0,ph.jsx)("div",{className:"flex flex-wrap gap-6 justify-center mb-4",children:Object.keys(Ch).map(e=>(0,ph.jsx)("button",{className:"text-xl md:text-2xl px-8 py-4 rounded-lg shadow font-bold transition border-2 border-green-700 ".concat(t===e?"bg-green-700 text-black":"bg-white text-green-700 hover:bg-green-700 hover:text-white"),onClick:()=>r(e),children:e},e))}),t&&(0,ph.jsxs)("div",{className:"flex flex-wrap gap-4 justify-center",children:[(0,ph.jsxs)("button",{className:"px-6 py-2 rounded-full border-2 border-green-500 font-semibold transition ".concat(n?"bg-green-50 text-green-700 hover:bg-green-700 hover:text-white":"bg-green-700 text-black"),onClick:()=>i(""),children:["All ",t,"s"]}),Ch[t].map(e=>(0,ph.jsx)("button",{className:"px-6 py-2 rounded-full border-2 border-green-500 font-semibold transition ".concat(n===e?"bg-green-700 text-black":"bg-green-50 text-green-700 hover:bg-green-700 hover:text-white"),onClick:()=>i(e),children:e},e))]})]})}const Ah={Flower:["Indica","Hybrid","Sativa"],Concentrate:["Shatter","Badder","Terps"],Edible:["Brownie","Cookie","Drink"]};function Nh(e){let{products:t,isAdmin:n,onAdd:i,onEdit:s,onDelete:a,onSelect:o=()=>{}}=e;const[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),g={};Object.keys(Ah).forEach(e=>{g[e]={},Ah[e].forEach(n=>{g[e][n]=t.filter(t=>t.category===e&&t.subcategory===n)})});const y=h?[h]:Object.keys(Ah);return(0,ph.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-6 sm:py-12",children:[(0,ph.jsx)("h1",{className:"text-4xl font-extrabold mb-12 text-center tracking-tight drop-shadow-lg",children:"Reaper Resins Store"}),(0,ph.jsx)("div",{className:"flex flex-wrap gap-4 justify-center mb-10 sticky top-0 z-20 bg-opacity-80 backdrop-blur rounded-xl py-4",children:Object.keys(Ah).map(e=>(0,ph.jsx)("button",{className:"px-7 py-3 rounded-full font-semibold border-2 transition-all duration-150 shadow-sm text-lg md:text-xl mx-1 mb-2 focus:outline-none ".concat(h===e?"bg-green-700 text-white border-green-700 scale-105":"bg-white text-green-700 border-green-700 hover:bg-green-700 hover:text-white"),onClick:()=>{f(e===h?"":e),m("")},children:e},e))}),h&&(0,ph.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center mb-10",children:[(0,ph.jsxs)("button",{className:"px-5 py-2 rounded-full border-2 font-medium transition-all duration-150 shadow-sm text-base md:text-lg mx-1 mb-2 focus:outline-none ".concat(p?"bg-white text-green-700 border-green-500 hover:bg-green-700 hover:text-white":"bg-green-700 text-white border-green-700 scale-105"),onClick:()=>m(""),children:["All ",h,"s"]}),Ah[h].map(e=>(0,ph.jsx)("button",{className:"px-5 py-2 rounded-full border-2 font-medium transition-all duration-150 shadow-sm text-base md:text-lg mx-1 mb-2 focus:outline-none ".concat(p===e?"bg-green-700 text-white border-green-700 scale-105":"bg-white text-green-700 border-green-500 hover:bg-green-700 hover:text-white"),onClick:()=>m(e),children:e},e))]}),n&&(0,ph.jsx)("div",{className:"flex justify-end mb-6",children:(0,ph.jsx)("button",{className:"bg-green-700 text-white px-6 py-2 rounded shadow hover:bg-green-800",onClick:()=>c(!0),children:"Add Product"})}),y.map(e=>(0,ph.jsxs)("section",{className:"mb-16",children:[(0,ph.jsxs)("h2",{className:"text-3xl font-extrabold mb-8 border-b-4 border-green-700 pb-3 pl-1 tracking-tight flex items-center gap-2",children:[(0,ph.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-green-700 mr-2"}),e]}),Object.keys(Ah[e]).map(t=>{const r=Ah[e][t],i=p?g[e][p]:g[e][r];return(0,ph.jsxs)("div",{className:"mb-12",children:[(0,ph.jsxs)("h3",{className:"text-xl font-bold mb-5 text-green-600 tracking-wide uppercase flex items-center gap-2",children:[(0,ph.jsx)("span",{className:"inline-block w-2 h-2 rounded-full bg-green-400 mr-2"}),r]}),0===i.length?(0,ph.jsx)("div",{className:"text-gray-400 italic text-center py-8 border border-dashed border-gray-200 rounded-lg bg-gray-50",children:"No products available in this category yet. Check back soon!"}):(0,ph.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:i.map(e=>(0,ph.jsx)(Sh,{product:e,isAdmin:n,onSelect:o,onEdit:(t,n)=>d({id:t,updated:n,orig:e}),onDelete:a},e.id))})]},r)})]},e)),l&&(0,ph.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ph.jsx)(vh,{onSave:i,onCancel:()=>c(!1)})}),u&&(0,ph.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ph.jsx)(vh,{product:u.orig,onSave:e=>{s(u.orig.id,e),d(null)},onCancel:()=>d(null)})})]})}var Ih=n(470);const Ph=e=>{let{isAdmin:t,productList:n=[],reviews:i,productId:s,user:o}=e;const[l,c]=(0,r.useState)({name:(null===o||void 0===o?void 0:o.displayName)||"",rating:5,text:"",productId:"general",isAnonymous:!1,showAvatar:!0,loyaltyTier:(null===o||void 0===o?void 0:o.loyaltyTier)||null}),[u,d]=(0,r.useState)([]),[h,f]=(0,r.useState)(!0),[p,m]=(0,r.useState)(""),[g,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)(0),[w,x]=(0,r.useState)(!1),[_,k]=(0,r.useState)(!0);(0,r.useEffect)(()=>{i?f(!1):(async()=>{f(!0);try{const e=await(0,Ih.fetchReviews)();d(e)}catch(e){m("Failed to load reviews.")}f(!1)})()},[i]),(0,r.useEffect)(()=>{if(w)return;const e=setInterval(()=>{k(!1),setTimeout(()=>{b(e=>3*(e+1)<u.length?e+1:0),k(!0)},250)},5e3);return()=>clearInterval(e)},[u.length,w,v]);const S=e=>{const{name:t,value:n,type:r,checked:i}=e.target;c(e=>(0,a.A)((0,a.A)({},e),{},{[t]:"checkbox"===r?i:n}))};let E=i||u;s&&(E=E.filter(e=>String(e.productId)===String(s)));const C=E.slice(3*v,3*(v+1)),T=3*(v+1)<u.length,A=v>0;return(0,ph.jsxs)("div",{id:"reviews",children:[(0,ph.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Customer Reviews"}),s&&!E.length&&!h&&(0,ph.jsx)("div",{className:"text-gray-500 mb-4",children:"No reviews for this product yet."}),(0,ph.jsx)("button",{className:"bg-green-700 text-white px-5 py-3 rounded-lg text-lg hover:bg-green-800 transition mb-6 min-h-[44px]",onClick:()=>y(!0),children:"Want to leave a review?"}),g&&(0,ph.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",onClick:()=>y(!1),children:(0,ph.jsxs)("div",{className:"bg-white p-4 sm:p-8 rounded shadow-lg max-w-md w-full relative mx-2",onClick:e=>e.stopPropagation(),children:[(0,ph.jsx)("button",{className:"absolute top-4 right-4 text-3xl font-bold text-gray-400 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-700 transition",style:{lineHeight:"1",width:"2.5rem",height:"2.5rem",display:"flex",alignItems:"center",justifyContent:"center",background:"none",border:"none",zIndex:10},"aria-label":"Close Modal",onClick:()=>y(!1),children:"\xd7"}),(0,ph.jsx)("h4",{className:"text-xl font-bold mb-4",children:"Leave a Review"}),(0,ph.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let t="General",r=null;if("general"!==l.productId){const e=n.find(e=>String(e.id)===String(l.productId));e&&(t=e.name,r=e.image||null)}const i=(0,a.A)((0,a.A)({},l),{},{productName:t,productImage:r,displayName:l.isAnonymous?"Anonymous":(null===o||void 0===o?void 0:o.displayName)||l.name,avatarUrl:l.showAvatar&&null!==o&&void 0!==o&&o.photoURL?o.photoURL:null,userId:(null===o||void 0===o?void 0:o.uid)||null,role:(null===o||void 0===o?void 0:o.role)||"user",loyaltyTier:(null===o||void 0===o?void 0:o.loyaltyTier)||null});try{await(0,Ih.addReview)(i);const e=await(0,Ih.fetchReviews)();d(e),c({name:(null===o||void 0===o?void 0:o.displayName)||"",rating:5,text:"",productId:"general",isAnonymous:!1,showAvatar:!0,loyaltyTier:(null===o||void 0===o?void 0:o.loyaltyTier)||null})}catch(s){m("Failed to submit review.")}},className:"space-y-3",children:[(0,ph.jsxs)("select",{name:"productId",value:l.productId,onChange:S,className:"border px-3 py-2 rounded w-full",children:[(0,ph.jsx)("option",{value:"general",children:"General Company Review"}),(()=>{const e=[],t={};return n.forEach(e=>{t[e.category]||(t[e.category]={}),t[e.category][e.subcategory]||(t[e.category][e.subcategory]=[]),t[e.category][e.subcategory].push(e)}),Object.entries(t).forEach(t=>{let[n,r]=t;e.push((0,ph.jsx)("optgroup",{label:n,children:Object.entries(r).flatMap(e=>{let[t,n]=e;return n.map(e=>(0,ph.jsxs)("option",{value:e.id,children:[t,": ",e.name]},e.id))})},n))}),e})()]}),(0,ph.jsx)("input",{type:"text",name:"name",value:l.name,onChange:S,placeholder:"Your name",className:"border px-3 py-2 rounded w-full",required:!0}),(0,ph.jsx)("select",{name:"rating",value:l.rating,onChange:S,className:"border px-3 py-2 rounded w-full",children:[5,4,3,2,1].map(e=>(0,ph.jsxs)("option",{value:e,children:[e," Star",e>1?"s":""]},e))}),(0,ph.jsx)("textarea",{name:"text",value:l.text,onChange:S,placeholder:"Write your review...",className:"border px-3 py-2 rounded w-full",required:!0}),(0,ph.jsxs)("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[(0,ph.jsx)("input",{type:"checkbox",name:"isAnonymous",checked:l.isAnonymous,onChange:S,className:"accent-green-700"}),"Submit as Anonymous"]}),o&&(0,ph.jsxs)("label",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[(0,ph.jsx)("input",{type:"checkbox",name:"showAvatar",checked:l.showAvatar,onChange:S,className:"accent-green-700"}),"Show my avatar"]}),(null===o||void 0===o?void 0:o.loyaltyTier)&&(0,ph.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,ph.jsx)("span",{className:"text-sm font-medium",children:"Loyalty Tier:"}),(0,ph.jsxs)("select",{name:"loyaltyTier",value:l.loyaltyTier||"",onChange:S,className:"border px-3 py-2 rounded w-full",children:[(0,ph.jsx)("option",{value:"top",children:"Top Tier (VIP)"}),(0,ph.jsx)("option",{value:"mid",children:"Mid Tier"}),(0,ph.jsx)("option",{value:"low",children:"Low Tier"})]})]}),"admin"===(null===o||void 0===o?void 0:o.role)||"staff"===(null===o||void 0===o?void 0:o.role)?(0,ph.jsx)("div",{className:"flex items-center gap-2 mt-2",children:(0,ph.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-yellow-200 text-yellow-800 font-semibold",children:["admin"===o.role?"Admin":"Staff"," Review"]})}):null,(0,ph.jsx)("button",{type:"submit",className:"bg-green-700 text-white px-5 py-3 rounded-lg text-lg hover:bg-green-800 transition w-full min-h-[44px]",children:"Submit Review"})]})]})}),h&&(0,ph.jsx)("div",{children:"Loading reviews..."}),p&&(0,ph.jsx)("div",{className:"text-red-600",children:p}),(0,ph.jsx)("ul",{className:"space-y-4 transition-opacity duration-250 ".concat(_?"opacity-100":"opacity-0"," px-1 sm:px-0"),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:C.map(e=>{var r;const i=e.productId&&"general"!==e.productId?(null===(r=n.find(t=>String(t.id)===String(e.productId)))||void 0===r?void 0:r.name)||"[Deleted Product]":null;return(0,ph.jsxs)("li",{className:"border rounded p-4 bg-gray-50 relative",children:[(0,ph.jsxs)("div",{className:"flex items-center mb-1",children:[(0,ph.jsx)("span",{className:"font-semibold mr-2",children:e.name}),(0,ph.jsxs)("span",{className:"text-yellow-500",children:["\u2605".repeat(e.rating),"\u2606".repeat(5-e.rating)]}),i?(0,ph.jsx)("span",{className:"ml-2 text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded",children:i}):(0,ph.jsx)("span",{className:"ml-2 text-xs bg-gray-100 text-gray-700 px-2 py-0.5 rounded",children:"General"})]}),(0,ph.jsxs)("p",{className:"text-gray-700 italic",children:["\u201c",e.text,"\u201d"]}),(0,ph.jsx)("span",{className:"text-xs text-gray-400",children:new Date(e.date).toLocaleDateString()}),t&&(0,ph.jsx)("button",{className:"absolute top-2 right-2 bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700",onClick:()=>(async e=>{try{await(0,Ih.deleteReview)(e),d(u.filter(t=>t.id!==e))}catch(t){m("Failed to delete review.")}})(e.id),children:"Delete"})]},e.id)})}),(0,ph.jsxs)("div",{className:"flex gap-2 mt-4 flex-wrap justify-center",children:[A&&(0,ph.jsx)("button",{className:"px-5 py-3 text-lg bg-gray-200 rounded-lg min-w-[44px] min-h-[44px]",onClick:()=>b(v-1),children:"Prev"}),T&&(0,ph.jsx)("button",{className:"px-5 py-3 text-lg bg-gray-200 rounded-lg min-w-[44px] min-h-[44px]",onClick:()=>b(v+1),children:"Next"})]}),u.length>3&&!T&&(0,ph.jsx)("button",{className:"mt-4 underline text-green-700 text-lg min-h-[44px]",onClick:()=>b(0),children:"See more reviews"})]})};function Rh(e){let{product:t,reviews:n,onAddReview:i,onSave:s,isAdmin:o,onBack:l,productList:c=[]}=e;const[u,d]=(0,r.useState)(t.description||""),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(""),[g,y]=(0,r.useState)("");return(0,ph.jsxs)("div",{className:"max-w-3xl mx-auto p-4 sm:p-6 bg-white rounded-lg shadow-lg mt-4 sm:mt-12 mb-8",children:[(0,ph.jsxs)("button",{className:"mb-6 sm:mb-10 text-green-700 text-sm sm:text-base font-semibold hover:underline flex items-center gap-1",onClick:l,"aria-label":"Back to Store",children:[(0,ph.jsx)("span",{className:"text-lg",children:"\u2190"})," Back"]}),(0,ph.jsxs)("div",{className:"flex flex-col md:flex-row gap-12",children:[(0,ph.jsx)("img",{src:t.image,alt:t.name,className:"w-full md:w-80 h-80 object-cover rounded"}),(0,ph.jsxs)("div",{className:"flex-1",children:[(0,ph.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,ph.jsx)("h2",{className:"text-3xl font-bold",children:t.name}),(0,ph.jsx)(kh,{productId:t.id})]}),(0,ph.jsxs)("div",{className:"mb-6 text-lg text-green-700 font-semibold",children:["$",t.price]}),(0,ph.jsx)("div",{className:"mb-8",children:h?(0,ph.jsxs)(ph.Fragment,{children:[(0,ph.jsx)("textarea",{className:"w-full p-2 border rounded mb-2",value:u,onChange:e=>d(e.target.value),rows:4}),(0,ph.jsxs)("div",{className:"flex gap-2",children:[(0,ph.jsx)("button",{className:"bg-green-700 text-white px-4 py-1 rounded",onClick:()=>{u.trim()&&(s((0,a.A)((0,a.A)({},t),{},{description:u})),f(!1))},children:"Save"}),(0,ph.jsx)("button",{className:"bg-gray-200 text-gray-700 px-4 py-1 rounded",onClick:()=>f(!1),children:"Cancel"})]})]}):(0,ph.jsxs)(ph.Fragment,{children:[(0,ph.jsx)("p",{className:"mb-2 text-gray-700",children:t.description}),o&&(0,ph.jsx)("button",{className:"text-xs text-green-700 underline",onClick:()=>f(!0),children:"Edit Description"})]})}),(0,ph.jsxs)("div",{className:"mb-8",children:[(0,ph.jsx)("div",{className:"font-semibold mb-1",children:"THC:"})," ",(0,ph.jsx)("span",{className:"mb-2 inline-block",children:t.thc||"-"}),(0,ph.jsx)("div",{className:"font-semibold mb-1",children:"CBD:"})," ",(0,ph.jsx)("span",{className:"mb-2 inline-block",children:t.cbd||"-"}),(0,ph.jsx)("div",{className:"font-semibold mb-1",children:"Effects:"})," ",(0,ph.jsx)("span",{className:"mb-2 inline-block",children:t.effects||"-"}),(0,ph.jsx)("div",{className:"font-semibold mb-1",children:"Usage:"})," ",(0,ph.jsx)("span",{className:"mb-2 inline-block",children:t.usage||"-"})]})]})]}),(0,ph.jsx)("div",{className:"border-t border-gray-200 mt-24 pt-12",children:(0,ph.jsx)(Ph,{productId:t.id,onAdd:i,productList:c,isAdmin:!1,onDelete:()=>{}})})]})}const jh=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(!1);return(0,ph.jsxs)("div",{className:"bg-green-100 rounded-lg p-6 text-center",children:[(0,ph.jsx)("h4",{className:"text-xl font-bold mb-2",children:"Join Our Newsletter"}),(0,ph.jsx)("p",{className:"mb-4",children:"Get updates on new products, deals, and more."}),n?(0,ph.jsx)("p",{className:"text-green-700 font-semibold",children:"Thank you for subscribing!"}):(0,ph.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(!0)},className:"flex flex-col sm:flex-row gap-2 justify-center",children:[(0,ph.jsx)("input",{type:"email",className:"border px-3 py-2 rounded w-full sm:w-auto",placeholder:"Enter your email",value:e,onChange:e=>t(e.target.value),required:!0}),(0,ph.jsx)("button",{type:"submit",className:"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800 transition",children:"Subscribe"})]})]})},Dh=e=>{let{open:t,setOpen:n}=e;const[i,s]=(0,r.useState)(!1);return t?(0,ph.jsx)(bs,{children:(0,ph.jsx)(fh.div,{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,ph.jsxs)(fh.div,{className:"bg-white rounded-lg p-8 max-w-sm w-full text-center relative",initial:{scale:.95,y:30},animate:{scale:1,y:0},exit:{scale:.95,y:30},children:[(0,ph.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Age Verification"}),(0,ph.jsx)("p",{className:"mb-4",children:"Are you at least 21 years old?"}),(0,ph.jsx)("button",{className:"bg-green-700 text-white px-6 py-2 rounded font-semibold hover:bg-green-800 transition w-full mb-2",onClick:()=>{s(!0),n(!1)},children:"Yes, I am 21 or older"}),(0,ph.jsx)("button",{className:"text-gray-400 text-sm underline",onClick:()=>{s(!1),n(!0),alert("Sorry, you must be of legal age to enter this site.")},children:"No, I am not"})]})})}):null},Oh=()=>{const[e,t]=(0,r.useState)({name:"",email:"",message:""}),[n,i]=(0,r.useState)(!1),[s,o]=(0,r.useState)({}),l=n=>{t((0,a.A)((0,a.A)({},e),{},{[n.target.name]:n.target.value})),o((0,a.A)((0,a.A)({},s),{},{[n.target.name]:void 0}))};return(0,ph.jsxs)("div",{id:"contact",className:"flex flex-col items-center justify-center text-center",children:[(0,ph.jsx)("h4",{className:"text-2xl font-bold mb-2",children:"Contact Us"}),n?(0,ph.jsx)("p",{className:"text-green-700 font-semibold mb-6",children:"Thank you for reaching out! We'll get back to you soon."}):(0,ph.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const n={};var r;if(r=e.name,/^[a-zA-Z\s'-]+$/.test(r)||(n.name="Enter a valid name (letters and spaces only)."),(e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))(e.email)||(n.email="Enter a valid email address."),e.message.trim().length>=10||(n.message="Message must be at least 10 characters."),o(n),0===Object.keys(n).length)try{const n=await fetch("https://formspree.io/f/mrbkolpy",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,message:e.message})});if(n.ok)i(!0),o({});else{let e={};try{e=await n.json()}catch(t){}o({form:e.error||"There was an error submitting the form. Please try again later."})}}catch(s){o({form:"Network error: Unable to submit the form. Please check your connection and try again."})}},className:"space-y-4 w-full max-w-md",children:[(0,ph.jsxs)("div",{children:[(0,ph.jsx)("input",{type:"text",name:"name",value:e.name,onChange:l,placeholder:"Your name",className:"border px-3 py-2 rounded w-full ".concat(s.name?"border-red-500":""),required:!0}),s.name&&(0,ph.jsx)("p",{className:"text-red-500 text-xs mt-1",children:s.name})]}),(0,ph.jsxs)("div",{children:[(0,ph.jsx)("input",{type:"email",name:"email",value:e.email,onChange:l,placeholder:"Your email",className:"border px-3 py-2 rounded w-full ".concat(s.email?"border-red-500":""),required:!0}),s.email&&(0,ph.jsx)("p",{className:"text-red-500 text-xs mt-1",children:s.email})]}),(0,ph.jsxs)("div",{children:[(0,ph.jsx)("textarea",{name:"message",value:e.message,onChange:l,placeholder:"Your message (at least 10 characters)",className:"border px-3 py-2 rounded w-full ".concat(s.message?"border-red-500":""),required:!0}),s.message&&(0,ph.jsx)("p",{className:"text-red-500 text-xs mt-1",children:s.message})]}),(0,ph.jsx)("button",{type:"submit",className:"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800 transition w-full",children:"Send Message"})]}),(0,ph.jsxs)("div",{className:"flex justify-center gap-6 mt-8",children:[(0,ph.jsx)("a",{href:"https://t.me/+TzgGpmtVBHY0MGY5",target:"_blank",rel:"noopener noreferrer","aria-label":"Telegram",className:"group hover:scale-110 transition p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-white",children:(0,ph.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:(0,ph.jsxs)("g",{children:[(0,ph.jsx)("path",{className:"transition-all duration-300 group-hover:stroke-[#29A8E9] group-hover:scale-110",strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 6.584a1.5 1.5 0 0 1-.986 1.877l-15 5a1.5 1.5 0 0 1-1.013-2.83l15-5a1.5 1.5 0 0 1 1.999 1.953z"}),(0,ph.jsx)("path",{className:"transition-all duration-300 group-hover:stroke-[#29A8E9] group-hover:translate-x-1",strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 6.584l-8.752 8.752m0 0l-3.376-3.376m3.376 3.376l-1.5 4.5"})]})})}),(0,ph.jsx)("a",{href:"https://www.instagram.com/reaperresins/",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"group hover:scale-110 transition p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-white",children:(0,ph.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:[(0,ph.jsx)("rect",{x:"2.5",y:"2.5",width:"19",height:"19",rx:"5",stroke:"currentColor",strokeWidth:"1.5",className:"transition-all duration-300 group-hover:stroke-pink-500 group-hover:scale-110"}),(0,ph.jsx)("circle",{cx:"12",cy:"12",r:"5",stroke:"currentColor",strokeWidth:"1.5",className:"transition-all duration-300 group-hover:stroke-yellow-400 group-hover:scale-110"}),(0,ph.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor",className:"transition-all duration-300 group-hover:fill-purple-500 group-hover:scale-125"})]})}),(0,ph.jsx)("a",{href:"sms:+12077379594","aria-label":"Text Message",className:"hover:scale-110 transition p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-white",children:(0,ph.jsxs)("svg",{width:"32",height:"32",fill:"none",viewBox:"0 0 24 24",className:"text-green-700",xmlns:"http://www.w3.org/2000/svg",children:[(0,ph.jsx)("circle",{cx:"12",cy:"12",r:"12",fill:"#fff"}),(0,ph.jsx)("rect",{x:"5",y:"7",width:"14",height:"10",rx:"2",fill:"#25D366"}),(0,ph.jsx)("rect",{x:"7",y:"9",width:"10",height:"2",rx:"1",fill:"#fff"}),(0,ph.jsx)("rect",{x:"7",y:"13",width:"6",height:"2",rx:"1",fill:"#fff"})]})}),(0,ph.jsx)("a",{href:"tel:+12077379594","aria-label":"Phone",className:"group hover:scale-110 transition p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-white",children:(0,ph.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:[(0,ph.jsx)("path",{d:"M15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",stroke:"currentColor",strokeWidth:"1.5",className:"transition-all duration-300 group-hover:stroke-blue-500 group-hover:scale-110"}),(0,ph.jsx)("path",{d:"M20.354 10.646a.5.5 0 0 1-.708-.708l-2.5 2.5a.5.5 0 0 1-.708 0l-2.5-2.5a.5.5 0 0 1 .708-.708L14 13.293l1.646-1.647a.5.5 0 0 1 .708 0z",stroke:"currentColor",strokeWidth:"1.5",className:"transition-all duration-300 group-hover:stroke-blue-500 group-hover:scale-110"})]})})]})]})},Lh=[{id:1,name:"Zen OG Kush",category:"Flower",subcategory:"Indica",description:"A relaxing indica-dominant hybrid for ultimate chill.",image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80",price:39.99,thc:22,cbd:1,effects:"Relaxed, Happy, Sleepy",usage:"Evening, Stress Relief",reviews:["Smooth and mellow.","Perfect for winding down."]},{id:2,name:"GreenDream Sativa",category:"Flower",subcategory:"Sativa",description:"Energizing sativa for creativity and focus.",image:"https://images.pexels.com/photos/766773/pexels-photo-766773.jpeg?auto=compress&w=400&q=80",price:42.99,thc:19,cbd:2,effects:"Euphoric, Uplifted, Creative",usage:"Daytime, Social",reviews:["Great for daytime use!","Keeps me focused."]},{id:3,name:"Purple Haze Hybrid",category:"Flower",subcategory:"Hybrid",description:"Balanced hybrid for a mellow, creative high.",image:"https://images.pexels.com/photos/2272941/pexels-photo-2272941.jpeg?auto=compress&w=400&q=80",price:41.99,thc:20,cbd:1,effects:"Creative, Relaxed, Happy",usage:"Anytime, Social",reviews:["Nice balanced effects.","Great for hanging out."]},{id:4,name:"Golden Shatter",category:"Concentrate",subcategory:"Shatter",description:"Potent shatter concentrate for experienced users.",image:"https://images.unsplash.com/photo-1519864600265-abb23847ef2c?auto=format&fit=crop&w=400&q=80",price:54.99,thc:78,cbd:0,effects:"Euphoric, Uplifted, Intense",usage:"Evening, High Tolerance",reviews:["Super strong!","Great for dabbing."]},{id:5,name:"Terpene Badder",category:"Concentrate",subcategory:"Badder",description:"Smooth badder with rich terpene profile.",image:"https://images.pexels.com/photos/325490/pexels-photo-325490.jpeg?auto=compress&w=400&q=80",price:59.99,thc:72,cbd:0,effects:"Flavorful, Relaxed, Happy",usage:"Anytime, Flavor Chasers",reviews:["Best taste ever!","Smooth and flavorful."]},{id:6,name:"Live Resin Terps",category:"Concentrate",subcategory:"Terps",description:"Live resin concentrate packed with terpenes.",image:"https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=400&q=80",price:62.99,thc:70,cbd:0,effects:"Euphoric, Uplifted, Flavorful",usage:"Daytime, Terp Lovers",reviews:["Amazing aroma!","Great for flavor."]},{id:7,name:"Classic Pot Brownie",category:"Edible",subcategory:"Brownie",description:"Rich chocolate brownie infused with premium cannabis.",image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=400&q=80",price:14.99,thc:25,cbd:0,effects:"Relaxed, Sleepy, Happy",usage:"Evening, Dessert",reviews:["Delicious and effective.","Perfect for dessert."]},{id:8,name:"Canna Cookies",category:"Edible",subcategory:"Cookie",description:"Fresh baked cookies with a mellow cannabis kick.",image:"https://images.unsplash.com/photo-1519864600265-abb23847ef2c?auto=format&fit=crop&w=400&q=80",price:12.99,thc:15,cbd:0,effects:"Relaxed, Happy, Uplifted",usage:"Anytime, Snack",reviews:["Yummy!","Nice buzz."]},{id:9,name:"Infused Lemonade",category:"Edible",subcategory:"Drink",description:"Refreshing lemonade infused with cannabis extract.",image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&w=400&q=80",price:9.99,thc:10,cbd:0,effects:"Uplifted, Refreshed, Social",usage:"Daytime, Refreshment",reviews:["So tasty!","Perfect for summer."]}],Mh=["_f"],Vh=["name"],Fh=["_f"],Uh=["ref","message","type"],zh=["formControl"];var Bh=e=>"checkbox"===e.type,Hh=e=>e instanceof Date,Wh=e=>null==e;const qh=e=>"object"===typeof e;var Kh=e=>!Wh(e)&&!Array.isArray(e)&&qh(e)&&!Hh(e),Gh=e=>Kh(e)&&e.target?Bh(e.target)?e.target.checked:e.target.value:e,Zh=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),Qh="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Yh(e){let t;const n=Array.isArray(e),r="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(Qh&&(e instanceof Blob||r)||!n&&!Kh(e))return e;if(t=n?[]:{},n||(e=>{const t=e.constructor&&e.constructor.prototype;return Kh(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=Yh(e[n]));else t=e}return t}var $h=e=>/^\w*$/.test(e),Xh=e=>void 0===e,Jh=e=>Array.isArray(e)?e.filter(Boolean):[],ef=e=>Jh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),tf=(e,t,n)=>{if(!t||!Kh(e))return n;const r=($h(t)?[t]:ef(t)).reduce((e,t)=>Wh(e)?e:e[t],e);return Xh(r)||r===e?Xh(e[t])?n:e[t]:r},nf=e=>"boolean"===typeof e,rf=(e,t,n)=>{let r=-1;const i=$h(t)?[t]:ef(t),s=i.length,a=s-1;for(;++r<s;){const t=i[r];let s=n;if(r!==a){const n=e[t];s=Kh(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}};const sf="blur",af="focusout",of="change",lf="onBlur",cf="onChange",uf="onSubmit",df="onTouched",hf="all",ff="max",pf="min",mf="maxLength",gf="minLength",yf="pattern",vf="required",bf="validate",wf=r.createContext(null);wf.displayName="HookFormContext";const xf=()=>r.useContext(wf);var _f=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const i=s;return t._proxyFormState[i]!==hf&&(t._proxyFormState[i]=!r||hf),n&&(n[i]=!0),e[i]}});return i};const kf="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;var Sf=e=>"string"===typeof e,Ef=(e,t,n,r,i)=>Sf(e)?(r&&t.watch.add(e),tf(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),tf(n,e))):(r&&(t.watchAll=!0),n);function Cf(e){const t=xf(),{name:n,disabled:i,control:s=t.control,shouldUnregister:o}=e,l=Zh(s._names.array,n),c=function(e){const t=xf(),{control:n=t.control,name:i,defaultValue:s,disabled:a,exact:o}=e||{},l=r.useRef(s),[c,u]=r.useState(n._getWatch(i,l.current));return kf(()=>n._subscribe({name:i,formState:{values:!0},exact:o,callback:e=>!a&&u(Ef(i,n._names,e.values||n._formValues,!1,l.current))}),[i,n,a,o]),r.useEffect(()=>n._removeUnmounted()),c}({control:s,name:n,defaultValue:tf(s._formValues,n,tf(s._defaultValues,n,e.defaultValue)),exact:!0}),u=function(e){const t=xf(),{control:n=t.control,disabled:i,name:s,exact:o}=e||{},[l,c]=r.useState(n._formState),u=r.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return kf(()=>n._subscribe({name:s,formState:u.current,exact:o,callback:e=>{!i&&c((0,a.A)((0,a.A)({},n._formState),e))}}),[s,i,o]),r.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),r.useMemo(()=>_f(l,n,u.current,!1),[l,n])}({control:s,name:n,exact:!0}),d=r.useRef(e),h=r.useRef(s.register(n,(0,a.A)((0,a.A)({},e.rules),{},{value:c},nf(e.disabled)?{disabled:e.disabled}:{}))),f=r.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!tf(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!tf(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!tf(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!tf(u.validatingFields,n)},error:{enumerable:!0,get:()=>tf(u.errors,n)}}),[u,n]),p=r.useCallback(e=>h.current.onChange({target:{value:Gh(e),name:n},type:of}),[n]),m=r.useCallback(()=>h.current.onBlur({target:{value:tf(s._formValues,n),name:n},type:sf}),[n,s._formValues]),g=r.useCallback(e=>{const t=tf(s._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus&&e.focus(),select:()=>e.select&&e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})},[s._fields,n]),y=r.useMemo(()=>(0,a.A)((0,a.A)({name:n,value:c},nf(i)||u.disabled?{disabled:u.disabled||i}:{}),{},{onChange:p,onBlur:m,ref:g}),[n,i,u.disabled,p,m,g,c]);return r.useEffect(()=>{const e=s._options.shouldUnregister||o;s.register(n,(0,a.A)((0,a.A)({},d.current.rules),nf(d.current.disabled)?{disabled:d.current.disabled}:{}));const t=(e,t)=>{const n=tf(s._fields,e);n&&n._f&&(n._f.mount=t)};if(t(n,!0),e){const e=Yh(tf(s._options.defaultValues,n));rf(s._defaultValues,n,e),Xh(tf(s._formValues,n))&&rf(s._formValues,n,e)}return!l&&s.register(n),()=>{(l?e&&!s._state.action:e)?s.unregister(n):t(n,!1)}},[n,s,l,o]),r.useEffect(()=>{s._setDisabledField({disabled:i,name:n})},[i,n,s]),r.useMemo(()=>({field:y,formState:u,fieldState:f}),[y,u,f])}const Tf=e=>e.render(Cf(e));var Af=(e,t,n,r,i)=>t?(0,a.A)((0,a.A)({},n[e]),{},{types:(0,a.A)((0,a.A)({},n[e]&&n[e].types?n[e].types:{}),{},{[r]:i||!0})}):{},Nf=e=>Array.isArray(e)?e:[e],If=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},Pf=e=>Wh(e)||!qh(e);function Rf(e,t){if(Pf(e)||Pf(t))return e===t;if(Hh(e)&&Hh(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const n=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(Hh(n)&&Hh(e)||Kh(n)&&Kh(e)||Array.isArray(n)&&Array.isArray(e)?!Rf(n,e):n!==e)return!1}}return!0}var jf=e=>Kh(e)&&!Object.keys(e).length,Df=e=>"file"===e.type,Of=e=>"function"===typeof e,Lf=e=>{if(!Qh)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Mf=e=>"select-multiple"===e.type,Vf=e=>"radio"===e.type,Ff=e=>Lf(e)&&e.isConnected;function Uf(e,t){const n=Array.isArray(t)?t:$h(t)?[t]:ef(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Xh(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,s=n[i];return r&&delete r[s],0!==i&&(Kh(r)&&jf(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Xh(e[t]))return!1;return!0}(r))&&Uf(e,n.slice(0,-1)),e}var zf=e=>{for(const t in e)if(Of(e[t]))return!0;return!1};function Bf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e);if(Kh(e)||n)for(const r in e)Array.isArray(e[r])||Kh(e[r])&&!zf(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Bf(e[r],t[r])):Wh(e[r])||(t[r]=!0);return t}function Hf(e,t,n){const r=Array.isArray(e);if(Kh(e)||r)for(const i in e)Array.isArray(e[i])||Kh(e[i])&&!zf(e[i])?Xh(t)||Pf(n[i])?n[i]=Array.isArray(e[i])?Bf(e[i],[]):(0,a.A)({},Bf(e[i])):Hf(e[i],Wh(t)?{}:t[i],n[i]):n[i]=!Rf(e[i],t[i]);return n}var Wf=(e,t)=>Hf(e,t,Bf(t));const qf={value:!1,isValid:!1},Kf={value:!0,isValid:!0};var Gf=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Xh(e[0].attributes.value)?Xh(e[0].value)||""===e[0].value?Kf:{value:e[0].value,isValid:!0}:Kf:qf}return qf},Zf=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return Xh(e)?e:n?""===e?NaN:e?+e:e:r&&Sf(e)?new Date(e):i?i(e):e};const Qf={isValid:!1,value:null};var Yf=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Qf):Qf;function $f(e){const t=e.ref;return Df(t)?t.files:Vf(t)?Yf(e.refs).value:Mf(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):Bh(t)?Gf(e.refs).value:Zf(Xh(t.value)?e.ref.value:t.value,e)}var Xf=e=>e instanceof RegExp,Jf=e=>Xh(e)?e:Xf(e)?e.source:Kh(e)?Xf(e.value)?e.value.source:e.value:e,ep=e=>({isOnSubmit:!e||e===uf,isOnBlur:e===lf,isOnChange:e===cf,isOnAll:e===hf,isOnTouch:e===df});const tp="AsyncFunction";var np=e=>!!e&&!!e.validate&&!!(Of(e.validate)&&e.validate.constructor.name===tp||Kh(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===tp)),rp=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const ip=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=tf(e,i);if(n){const{_f:e}=n,a=s(n,Mh);if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(ip(a,t))break}else if(Kh(a)&&ip(a,t))break}}};function sp(e,t,n){const r=tf(e,n);if(r||$h(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),s=tf(t,r),a=tf(e,r);if(s&&!Array.isArray(s)&&n!==r)return{name:n};if(a&&a.type)return{name:r,error:a};if(a&&a.root&&a.root.type)return{name:"".concat(r,".root"),error:a.root};i.pop()}return{name:n}}var ap=(e,t,n)=>{const r=Nf(tf(e,n));return rf(r,"root",t[n]),rf(e,n,r),e},op=e=>Sf(e);function lp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(op(e)||Array.isArray(e)&&e.every(op)||nf(e)&&!e)return{type:n,message:op(e)?e:"",ref:t}}var cp=e=>Kh(e)&&!Xf(e)?e:{value:e,message:""},up=async(e,t,n,r,i,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:p,validate:m,name:g,valueAsNumber:y,mount:v}=e._f,b=tf(n,g);if(!v||t.has(g))return{};const w=l?l[0]:o,x=e=>{i&&w.reportValidity&&(w.setCustomValidity(nf(e)?"":e||""),w.reportValidity())},_={},k=Vf(o),S=Bh(o),E=k||S,C=(y||Df(o))&&Xh(o.value)&&Xh(b)||Lf(o)&&""===o.value||""===b||Array.isArray(b)&&!b.length,T=Af.bind(null,g,r,_),A=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:mf,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gf;const s=e?t:n;_[g]=(0,a.A)({type:e?r:i,message:s,ref:o},T(e?r:i,s))};if(s?!Array.isArray(b)||!b.length:c&&(!E&&(C||Wh(b))||nf(b)&&!b||S&&!Gf(l).isValid||k&&!Yf(l).isValid)){const{value:e,message:t}=op(c)?{value:!!c,message:c}:cp(c);if(e&&(_[g]=(0,a.A)({type:vf,message:t,ref:w},T(vf,t)),!r))return x(t),_}if(!C&&(!Wh(h)||!Wh(f))){let e,t;const n=cp(f),i=cp(h);if(Wh(b)||isNaN(b)){const r=o.valueAsDate||new Date(b),s=e=>new Date((new Date).toDateString()+" "+e),a="time"==o.type,l="week"==o.type;Sf(n.value)&&b&&(e=a?s(b)>s(n.value):l?b>n.value:r>new Date(n.value)),Sf(i.value)&&b&&(t=a?s(b)<s(i.value):l?b<i.value:r<new Date(i.value))}else{const r=o.valueAsNumber||(b?+b:b);Wh(n.value)||(e=r>n.value),Wh(i.value)||(t=r<i.value)}if((e||t)&&(A(!!e,n.message,i.message,ff,pf),!r))return x(_[g].message),_}if((u||d)&&!C&&(Sf(b)||s&&Array.isArray(b))){const e=cp(u),t=cp(d),n=!Wh(e.value)&&b.length>+e.value,i=!Wh(t.value)&&b.length<+t.value;if((n||i)&&(A(n,e.message,t.message),!r))return x(_[g].message),_}if(p&&!C&&Sf(b)){const{value:e,message:t}=cp(p);if(Xf(e)&&!b.match(e)&&(_[g]=(0,a.A)({type:yf,message:t,ref:o},T(yf,t)),!r))return x(t),_}if(m)if(Of(m)){const e=lp(await m(b,n),w);if(e&&(_[g]=(0,a.A)((0,a.A)({},e),T(bf,e.message)),!r))return x(e.message),_}else if(Kh(m)){let e={};for(const t in m){if(!jf(e)&&!r)break;const i=lp(await m[t](b,n),w,t);i&&(e=(0,a.A)((0,a.A)({},i),T(t,i.message)),x(i.message),r&&(_[g]=e))}if(!jf(e)&&(_[g]=(0,a.A)({ref:w},e),!r))return _}return x(!0),_};const dp={mode:uf,reValidateMode:cf,shouldFocusError:!0};function hp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,a.A)((0,a.A)({},dp),e),n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Of(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let i,o=(Kh(t.defaultValues)||Kh(t.values))&&Yh(t.defaultValues||t.values)||{},l=t.shouldUnregister?{}:Yh(o),c={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f=(0,a.A)({},h);const p={array:If(),state:If()},m=t.criteriaMode===hf,g=async e=>{if(!t.disabled&&(h.isValid||f.isValid||e)){const e=t.resolver?jf((await x()).errors):await _(r,!0);e!==n.isValid&&p.state.next({isValid:e})}},y=(e,r)=>{!t.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((e||Array.from(u.mount)).forEach(e=>{e&&(r?rf(n.validatingFields,e,r):Uf(n.validatingFields,e))}),p.state.next({validatingFields:n.validatingFields,isValidating:!jf(n.validatingFields)}))},v=(e,t,n,i)=>{const s=tf(r,e);if(s){const r=tf(l,e,Xh(n)?tf(o,e):n);Xh(r)||i&&i.defaultChecked||t?rf(l,e,t?r:$f(s._f)):E(e,r),c.mount&&g()}},b=(e,r,i,s,a)=>{let l=!1,c=!1;const u={name:e};if(!t.disabled){if(!i||s){(h.isDirty||f.isDirty)&&(c=n.isDirty,n.isDirty=u.isDirty=k(),l=c!==u.isDirty);const t=Rf(tf(o,e),r);c=!!tf(n.dirtyFields,e),t?Uf(n.dirtyFields,e):rf(n.dirtyFields,e,!0),u.dirtyFields=n.dirtyFields,l=l||(h.dirtyFields||f.dirtyFields)&&c!==!t}if(i){const t=tf(n.touchedFields,e);t||(rf(n.touchedFields,e,i),u.touchedFields=n.touchedFields,l=l||(h.touchedFields||f.touchedFields)&&t!==i)}l&&a&&p.state.next(u)}return l?u:{}},w=(e,r,s,o)=>{const l=tf(n.errors,e),c=(h.isValid||f.isValid)&&nf(r)&&n.isValid!==r;var u;if(t.delayError&&s?(u=()=>((e,t)=>{rf(n.errors,e,t),p.state.next({errors:n.errors})})(e,s),i=e=>{clearTimeout(d),d=setTimeout(u,e)},i(t.delayError)):(clearTimeout(d),i=null,s?rf(n.errors,e,s):Uf(n.errors,e)),(s?!Rf(l,s):l)||!jf(o)||c){const t=(0,a.A)((0,a.A)((0,a.A)({},o),c&&nf(r)?{isValid:r}:{}),{},{errors:n.errors,name:e});n=(0,a.A)((0,a.A)({},n),t),p.state.next(t)}},x=async e=>{y(e,!0);const n=await t.resolver(l,t.context,((e,t,n,r)=>{const i={};for(const s of e){const e=tf(t,s);e&&rf(i,s,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||u.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return y(e),n},_=async function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const a in e){const o=e[a];if(o){const{_f:e}=o,c=s(o,Fh);if(e){const s=u.array.has(e.name),c=o._f&&np(o._f);c&&h.validatingFields&&y([a],!0);const d=await up(o,u.disabled,l,m,t.shouldUseNativeValidation&&!r,s);if(c&&h.validatingFields&&y([a]),d[e.name]&&(i.valid=!1,r))break;!r&&(tf(d,e.name)?s?ap(n.errors,d,e.name):rf(n.errors,e.name,d[e.name]):Uf(n.errors,e.name))}!jf(c)&&await _(c,r,i)}}return i.valid},k=(e,n)=>!t.disabled&&(e&&n&&rf(l,e,n),!Rf(P(),o)),S=(e,t,n)=>Ef(e,u,(0,a.A)({},c.mount?l:Xh(t)?o:Sf(e)?{[e]:t}:t),n,t),E=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=tf(r,e);let s=t;if(i){const n=i._f;n&&(!n.disabled&&rf(l,e,Zf(t,n)),s=Lf(n.ref)&&Wh(t)?"":t,Mf(n.ref)?[...n.ref.options].forEach(e=>e.selected=s.includes(e.value)):n.refs?Bh(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(s)?e.checked=!!s.find(t=>t===e.value):e.checked=s===e.value||!!s)}):n.refs.forEach(e=>e.checked=e.value===s):Df(n.ref)?n.ref.value="":(n.ref.value=s,n.ref.type||p.state.next({name:e,values:Yh(l)})))}(n.shouldDirty||n.shouldTouch)&&b(e,s,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&I(e)},C=(e,t,n)=>{for(const i in t){if(!t.hasOwnProperty(i))return;const s=t[i],a=e+"."+i,o=tf(r,a);(u.array.has(e)||Kh(s)||o&&!o._f)&&!Hh(s)?C(a,s,n):E(a,s,n)}},T=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=tf(r,e),d=u.array.has(e),m=Yh(t);rf(l,e,m),d?(p.array.next({name:e,values:Yh(l)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&i.shouldDirty&&p.state.next({name:e,dirtyFields:Wf(o,l),isDirty:k(e,m)})):!s||s._f||Wh(m)?E(e,m,i):C(e,m,i),rp(e,u)&&p.state.next((0,a.A)({},n)),p.state.next({name:c.mount?e:void 0,values:Yh(l)})},A=async e=>{c.mount=!0;const s=e.target;let o=s.name,d=!0;const v=tf(r,o),k=e=>{d=Number.isNaN(e)||Hh(e)&&isNaN(e.getTime())||Rf(e,tf(l,o,e))},S=ep(t.mode),E=ep(t.reValidateMode);if(v){let c,T;const A=s.type?$f(v._f):Gh(e),N=e.type===sf||e.type===af,P=!((C=v._f).mount&&(C.required||C.min||C.max||C.maxLength||C.minLength||C.pattern||C.validate))&&!t.resolver&&!tf(n.errors,o)&&!v._f.deps||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(N,tf(n.touchedFields,o),n.isSubmitted,E,S),R=rp(o,u,N);rf(l,o,A),N?(v._f.onBlur&&v._f.onBlur(e),i&&i(0)):v._f.onChange&&v._f.onChange(e);const j=b(o,A,N),D=!jf(j)||R;if(!N&&p.state.next({name:o,type:e.type,values:Yh(l)}),P)return(h.isValid||f.isValid)&&("onBlur"===t.mode?N&&g():N||g()),D&&p.state.next((0,a.A)({name:o},R?{}:j));if(!N&&R&&p.state.next((0,a.A)({},n)),t.resolver){const{errors:e}=await x([o]);if(k(A),d){const t=sp(n.errors,r,o),i=sp(e,r,t.name||o);c=i.error,o=i.name,T=jf(e)}}else y([o],!0),c=(await up(v,u.disabled,l,m,t.shouldUseNativeValidation))[o],y([o]),k(A),d&&(c?T=!1:(h.isValid||f.isValid)&&(T=await _(r,!0)));d&&(v._f.deps&&I(v._f.deps),w(o,T,c,j))}var C},N=(e,t)=>{if(tf(n.errors,t)&&e.focus)return e.focus(),1},I=async function(e){let i,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=Nf(e);if(t.resolver){const t=await(async e=>{const{errors:t}=await x(e);if(e)for(const r of e){const e=tf(t,r);e?rf(n.errors,r,e):Uf(n.errors,r)}else n.errors=t;return t})(Xh(e)?e:l);i=jf(t),s=e?!l.some(e=>tf(t,e)):i}else e?(s=(await Promise.all(l.map(async e=>{const t=tf(r,e);return await _(t&&t._f?{[e]:t}:t)}))).every(Boolean),(s||n.isValid)&&g()):s=i=await _(r);return p.state.next((0,a.A)((0,a.A)((0,a.A)({},!Sf(e)||(h.isValid||f.isValid)&&i!==n.isValid?{}:{name:e}),t.resolver||!e?{isValid:i}:{}),{},{errors:n.errors})),o.shouldFocus&&!s&&ip(r,N,e?l:u.mount),s},P=e=>{const t=(0,a.A)({},c.mount?l:o);return Xh(e)?t:Sf(e)?tf(t,e):e.map(e=>tf(t,e))},R=(e,t)=>({invalid:!!tf((t||n).errors,e),isDirty:!!tf((t||n).dirtyFields,e),error:tf((t||n).errors,e),isValidating:!!tf(n.validatingFields,e),isTouched:!!tf((t||n).touchedFields,e)}),j=(e,t,i)=>{const o=(tf(r,e,{_f:{}})._f||{}).ref,l=tf(n.errors,e)||{},{ref:c,message:u,type:d}=l,h=s(l,Uh);rf(n.errors,e,(0,a.A)((0,a.A)((0,a.A)({},h),t),{},{ref:o})),p.state.next({name:e,errors:n.errors,isValid:!1}),i&&i.shouldFocus&&o&&o.focus&&o.focus()},D=e=>p.state.subscribe({next:t=>{var r,i,o;r=e.name,i=t.name,o=e.exact,r&&i&&r!==i&&!Nf(r).some(e=>e&&(o?e===i:e.startsWith(i)||i.startsWith(e)))||!((e,t,n,r)=>{n(e);const{name:i}=e,a=s(e,Vh);return jf(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(e=>t[e]===(!r||hf))})(t,e.formState||h,B,e.reRenderRoot)||e.callback((0,a.A)((0,a.A)({values:(0,a.A)({},l)},n),t))}}).unsubscribe,O=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const s of e?Nf(e):u.mount)u.mount.delete(s),u.array.delete(s),i.keepValue||(Uf(r,s),Uf(l,s)),!i.keepError&&Uf(n.errors,s),!i.keepDirty&&Uf(n.dirtyFields,s),!i.keepTouched&&Uf(n.touchedFields,s),!i.keepIsValidating&&Uf(n.validatingFields,s),!t.shouldUnregister&&!i.keepDefaultValue&&Uf(o,s);p.state.next({values:Yh(l)}),p.state.next((0,a.A)((0,a.A)({},n),i.keepDirty?{isDirty:k()}:{})),!i.keepIsValid&&g()},L=e=>{let{disabled:t,name:n}=e;(nf(t)&&c.mount||t||u.disabled.has(n))&&(t?u.disabled.add(n):u.disabled.delete(n))},M=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=tf(r,e);const s=nf(n.disabled)||nf(t.disabled);return rf(r,e,(0,a.A)((0,a.A)({},i||{}),{},{_f:(0,a.A)((0,a.A)({},i&&i._f?i._f:{ref:{name:e}}),{},{name:e,mount:!0},n)})),u.mount.add(e),i?L({disabled:nf(n.disabled)?n.disabled:t.disabled,name:e}):v(e,!0,n.value),(0,a.A)((0,a.A)((0,a.A)({},s?{disabled:n.disabled||t.disabled}:{}),t.progressive?{required:!!n.required,min:Jf(n.min),max:Jf(n.max),minLength:Jf(n.minLength),maxLength:Jf(n.maxLength),pattern:Jf(n.pattern)}:{}),{},{name:e,onChange:A,onBlur:A,ref:s=>{if(s){M(e,n),i=tf(r,e);const t=Xh(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,l=(e=>Vf(e)||Bh(e))(t),c=i._f.refs||[];if(l?c.find(e=>e===t):t===i._f.ref)return;rf(r,e,{_f:(0,a.A)((0,a.A)({},i._f),l?{refs:[...c.filter(Ff),t,...Array.isArray(tf(o,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t})}),v(e,!1,void 0,t)}else i=tf(r,e,{}),i._f&&(i._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&(!Zh(u.array,e)||!c.action)&&u.unMount.add(e)}})},V=()=>t.shouldFocusError&&ip(r,N,u.mount),F=(e,i)=>async s=>{let o;s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let c=Yh(l);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:t}=await x();n.errors=e,c=t}else await _(r);if(u.disabled.size)for(const e of u.disabled)rf(c,e,void 0);if(Uf(n.errors,"root"),jf(n.errors)){p.state.next({errors:{}});try{await e(c,s)}catch(d){o=d}}else i&&await i((0,a.A)({},n.errors),s),V(),setTimeout(V);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jf(n.errors)&&!o,submitCount:n.submitCount+1,errors:n.errors}),o)throw o},U=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=e?Yh(e):o,d=Yh(s),f=jf(e),m=f?o:d;if(i.keepDefaultValues||(o=s),!i.keepValues){if(i.keepDirtyValues){const e=new Set([...u.mount,...Object.keys(Wf(o,l))]);for(const t of Array.from(e))tf(n.dirtyFields,t)?rf(m,t,tf(l,t)):T(t,tf(m,t))}else{if(Qh&&Xh(e))for(const e of u.mount){const t=tf(r,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Lf(e)){const t=e.closest("form");if(t){t.reset();break}}}}for(const e of u.mount)T(e,tf(m,e))}l=Yh(m),p.array.next({values:(0,a.A)({},m)}),p.state.next({values:(0,a.A)({},m)})}u={mount:i.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!h.isValid||!!i.keepIsValid||!!i.keepDirtyValues,c.watch=!!t.shouldUnregister,p.state.next({submitCount:i.keepSubmitCount?n.submitCount:0,isDirty:!f&&(i.keepDirty?n.isDirty:!(!i.keepDefaultValues||Rf(e,o))),isSubmitted:!!i.keepIsSubmitted&&n.isSubmitted,dirtyFields:f?{}:i.keepDirtyValues?i.keepDefaultValues&&l?Wf(o,l):n.dirtyFields:i.keepDefaultValues&&e?Wf(o,e):i.keepDirty?n.dirtyFields:{},touchedFields:i.keepTouched?n.touchedFields:{},errors:i.keepErrors?n.errors:{},isSubmitSuccessful:!!i.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1})},z=(e,t)=>U(Of(e)?e(l):e,t),B=e=>{n=(0,a.A)((0,a.A)({},n),e)},H={control:{register:M,unregister:O,getFieldState:R,handleSubmit:F,setError:j,_subscribe:D,_runSchema:x,_focusError:V,_getWatch:S,_getDirty:k,_setValid:g,_setFieldArray:function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,u=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(a&&s&&!t.disabled){if(c.action=!0,d&&Array.isArray(tf(r,e))){const t=s(tf(r,e),a.argA,a.argB);u&&rf(r,e,t)}if(d&&Array.isArray(tf(n.errors,e))){const t=s(tf(n.errors,e),a.argA,a.argB);u&&rf(n.errors,e,t),((e,t)=>{!Jh(tf(e,t)).length&&Uf(e,t)})(n.errors,e)}if((h.touchedFields||f.touchedFields)&&d&&Array.isArray(tf(n.touchedFields,e))){const t=s(tf(n.touchedFields,e),a.argA,a.argB);u&&rf(n.touchedFields,e,t)}(h.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Wf(o,l)),p.state.next({name:e,isDirty:k(e,i),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else rf(l,e,i)},_setDisabledField:L,_setErrors:e=>{n.errors=e,p.state.next({errors:n.errors,isValid:!1})},_getFieldArray:e=>Jh(tf(c.mount?l:o,e,t.shouldUnregister?tf(o,e,[]):[])),_reset:U,_resetDefaultValues:()=>Of(t.defaultValues)&&t.defaultValues().then(e=>{z(e,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of u.unMount){const t=tf(r,e);t&&(t._f.refs?t._f.refs.every(e=>!Ff(e)):!Ff(t._f.ref))&&O(e)}u.unMount=new Set},_disableForm:e=>{nf(e)&&(p.state.next({disabled:e}),ip(r,(t,n)=>{const i=tf(r,n);i&&(t.disabled=i._f.disabled||e,Array.isArray(i._f.refs)&&i._f.refs.forEach(t=>{t.disabled=i._f.disabled||e}))},0,!1))},_subjects:p,_proxyFormState:h,get _fields(){return r},get _formValues(){return l},get _state(){return c},set _state(e){c=e},get _defaultValues(){return o},get _names(){return u},set _names(e){u=e},get _formState(){return n},get _options(){return t},set _options(e){t=(0,a.A)((0,a.A)({},t),e)}},subscribe:e=>(c.mount=!0,f=(0,a.A)((0,a.A)({},f),e.formState),D((0,a.A)((0,a.A)({},e),{},{formState:f}))),trigger:I,register:M,handleSubmit:F,watch:(e,t)=>Of(e)?p.state.subscribe({next:n=>e(S(void 0,t),n)}):S(e,t,!0),setValue:T,getValues:P,reset:z,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};tf(r,e)&&(Xh(t.defaultValue)?T(e,Yh(tf(o,e))):(T(e,t.defaultValue),rf(o,e,Yh(t.defaultValue))),t.keepTouched||Uf(n.touchedFields,e),t.keepDirty||(Uf(n.dirtyFields,e),n.isDirty=t.defaultValue?k(e,Yh(tf(o,e))):k()),t.keepError||(Uf(n.errors,e),h.isValid&&g()),p.state.next((0,a.A)({},n)))},clearErrors:e=>{e&&Nf(e).forEach(e=>Uf(n.errors,e)),p.state.next({errors:e?n.errors:{}})},unregister:O,setError:j,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=tf(r,e),i=n&&n._f;if(i){const e=i.refs?i.refs[0]:i.ref;e.focus&&(e.focus(),t.shouldSelect&&Of(e.select)&&e.select())}},getFieldState:R};return(0,a.A)((0,a.A)({},H),{},{formControl:H})}const fp=(e,t,n)=>{if(e&&"reportValidity"in e){const r=tf(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},pp=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?fp(r.ref,n,e):r&&r.refs&&r.refs.forEach(t=>fp(t,n,e))}},mp=(e,t)=>{t.shouldUseNativeValidation&&pp(e,t);const n={};for(const r in e){const i=tf(t.fields,r),s=Object.assign(e[r]||{},{ref:i&&i.ref});if(gp(t.names||Object.keys(e),r)){const e=Object.assign({},tf(n,r));rf(e,"root",s),rf(n,r,e)}else rf(n,r,s)}return n},gp=(e,t)=>{const n=yp(t);return e.some(e=>yp(e).match("^".concat(n,"\\.\\d+")))};function yp(e){return e.replace(/\]|\[/g,"")}function vp(e,t,n){var r;function i(n,r){var i,s,a;Object.defineProperty(n,"_zod",{value:null!==(i=n._zod)&&void 0!==i?i:{},enumerable:!1}),null!==(s=(a=n._zod).traits)&&void 0!==s||(a.traits=new Set),n._zod.traits.add(e),t(n,r);for(const e in o.prototype)e in n||Object.defineProperty(n,e,{value:o.prototype[e].bind(n)});n._zod.constr=o,n._zod.def=r}const s=null!==(r=null===n||void 0===n?void 0:n.Parent)&&void 0!==r?r:Object;class a extends s{}function o(e){var t,r;const s=null!==n&&void 0!==n&&n.Parent?new a:this;i(s,e),null!==(t=(r=s._zod).deferred)&&void 0!==t||(r.deferred=[]);for(const n of s._zod.deferred)n();return s}return Object.defineProperty(a,"name",{value:e}),Object.defineProperty(o,"init",{value:i}),Object.defineProperty(o,Symbol.hasInstance,{value:t=>{var r;return!!(null!==n&&void 0!==n&&n.Parent&&t instanceof n.Parent)||(null===t||void 0===t||null===(r=t._zod)||void 0===r||null===(r=r.traits)||void 0===r?void 0:r.has(e))}}),Object.defineProperty(o,"name",{value:e}),o}Symbol("zod_brand");class bp extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const wp={};function xp(e){return e&&Object.assign(wp,e),wp}function _p(e,t){return"bigint"===typeof t?t.toString():t}const kp=Error.captureStackTrace?Error.captureStackTrace:function(){};Sp=()=>{var e;if("undefined"!==typeof navigator&&null!==(e=navigator)&&void 0!==e&&null!==(e=e.userAgent)&&void 0!==e&&e.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(t){return!1}};var Sp;new Set(["string","number","symbol"]),new Set(["string","number","bigint","boolean","symbol","undefined"]);Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MAX_VALUE,Number.MAX_VALUE;function Ep(e){return"string"===typeof e?e:null===e||void 0===e?void 0:e.message}function Cp(e,t,n){var r;const i=(0,a.A)((0,a.A)({},e),{},{path:null!==(r=e.path)&&void 0!==r?r:[]});if(!e.message){var s,o,l,c,u,d,h,f,p;const r=null!==(s=null!==(o=null!==(l=null!==(c=Ep(null===(u=e.inst)||void 0===u||null===(u=u._zod.def)||void 0===u||null===(d=u.error)||void 0===d?void 0:d.call(u,e)))&&void 0!==c?c:Ep(null===t||void 0===t||null===(h=t.error)||void 0===h?void 0:h.call(t,e)))&&void 0!==l?l:Ep(null===(f=n.customError)||void 0===f?void 0:f.call(n,e)))&&void 0!==o?o:Ep(null===(p=n.localeError)||void 0===p?void 0:p.call(n,e)))&&void 0!==s?s:"Invalid input";i.message=r}return delete i.inst,delete i.continue,null!==t&&void 0!==t&&t.reportInput||delete i.input,i}const Tp=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get:()=>JSON.stringify(t,_p,2),enumerable:!0})},Ap=vp("$ZodError",Tp),Np=vp("$ZodError",Tp,{Parent:Error});const Ip=e=>(t,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new bp;if(a.issues.length){var o;const t=new(null!==(o=null===i||void 0===i?void 0:i.Err)&&void 0!==o?o:e)(a.issues.map(e=>Cp(e,s,xp())));throw kp(t,null===i||void 0===i?void 0:i.callee),t}return a.value},Pp=Ip(Np),Rp=e=>async(t,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){var o;const t=new(null!==(o=null===i||void 0===i?void 0:i.Err)&&void 0!==o?o:e)(a.issues.map(e=>Cp(e,s,xp())));throw kp(t,null===i||void 0===i?void 0:i.callee),t}return a.value},jp=Rp(Np);const Dp="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))";"^".concat(Dp,"$");Symbol("ZodOutput"),Symbol("ZodInput");function Op(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function Lp(e,t){for(var n={};e.length;){var r=e[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=n[a].types,c=l&&l[r.code];n[a]=Af(a,t,n,i,c?[].concat(c,r.message):r.message)}e.shift()}return n}function Mp(e,t){for(var n={};e.length;){var r=e[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if("invalid_union"===r.code){var o=r.errors[0][0];n[a]={message:o.message,type:o.code}}else n[a]={message:s,type:i};if("invalid_union"===r.code&&r.errors.forEach(function(t){return t.forEach(function(t){return e.push(t)})}),t){var l=n[a].types,c=l&&l[r.code];n[a]=Af(a,t,n,i,c?[].concat(c,r.message):r.message)}e.shift()}return n}function Vp(e,t,n){if(void 0===n&&(n={}),function(e){return"_def"in e&&"object"==typeof e._def&&"typeName"in e._def}(e))return function(r,i,s){try{return Promise.resolve(Op(function(){return Promise.resolve(e["sync"===n.mode?"parse":"parseAsync"](r,t)).then(function(e){return s.shouldUseNativeValidation&&pp({},s),{errors:{},values:n.raw?Object.assign({},r):e}})},function(e){if(function(e){return Array.isArray(null==e?void 0:e.issues)}(e))return{values:{},errors:mp(Lp(e.errors,!s.shouldUseNativeValidation&&"all"===s.criteriaMode),s)};throw e}))}catch(fp){return Promise.reject(fp)}};if(function(e){return"_zod"in e&&"object"==typeof e._zod}(e))return function(r,i,s){try{return Promise.resolve(Op(function(){return Promise.resolve(("sync"===n.mode?Pp:jp)(e,r,t)).then(function(e){return s.shouldUseNativeValidation&&pp({},s),{errors:{},values:n.raw?Object.assign({},r):e}})},function(e){if(function(e){return e instanceof Ap}(e))return{values:{},errors:mp(Mp(e.issues,!s.shouldUseNativeValidation&&"all"===s.criteriaMode),s)};throw e}))}catch(fp){return Promise.reject(fp)}};throw new Error("Invalid input: not a Zod schema")}var Fp,Up;!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter(e=>"number"!==typeof t[t[e]]),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map(e=>"string"===typeof e?"'".concat(e,"'"):e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(Fp||(Fp={})),function(e){e.mergeShapes=(e,t)=>(0,a.A)((0,a.A)({},e),t)}(Up||(Up={}));const zp=Fp.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bp=e=>{switch(typeof e){case"undefined":return zp.undefined;case"string":return zp.string;case"number":return Number.isNaN(e)?zp.nan:zp.number;case"boolean":return zp.boolean;case"function":return zp.function;case"bigint":return zp.bigint;case"symbol":return zp.symbol;case"object":return Array.isArray(e)?zp.array:null===e?zp.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?zp.promise:"undefined"!==typeof Map&&e instanceof Map?zp.map:"undefined"!==typeof Set&&e instanceof Set?zp.set:"undefined"!==typeof Date&&e instanceof Date?zp.date:zp.object;default:return zp.unknown}},Hp=Fp.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Wp extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof Wp))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fp.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Wp.create=e=>new Wp(e);const qp=(e,t)=>{let n;switch(e.code){case Hp.invalid_type:n=e.received===zp.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case Hp.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,Fp.jsonStringifyReplacer));break;case Hp.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(Fp.joinValues(e.keys,", "));break;case Hp.invalid_union:n="Invalid input";break;case Hp.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(Fp.joinValues(e.options));break;case Hp.invalid_enum_value:n="Invalid enum value. Expected ".concat(Fp.joinValues(e.options),", received '").concat(e.received,"'");break;case Hp.invalid_arguments:n="Invalid function arguments";break;case Hp.invalid_return_type:n="Invalid function return type";break;case Hp.invalid_date:n="Invalid date";break;case Hp.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"===typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):Fp.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case Hp.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case Hp.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case Hp.custom:n="Invalid input";break;case Hp.invalid_intersection_types:n="Intersection results could not be merged";break;case Hp.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case Hp.not_finite:n="Number must be finite";break;default:n=t.defaultError,Fp.assertNever(e)}return{message:n}};let Kp=qp;function Gp(){return Kp}const Zp=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],o=(0,a.A)((0,a.A)({},i),{},{path:s});if(void 0!==i.message)return(0,a.A)((0,a.A)({},i),{},{path:s,message:i.message});let l="";const c=r.filter(e=>!!e).slice().reverse();for(const a of c)l=a(o,{data:t,defaultError:l}).message;return(0,a.A)((0,a.A)({},i),{},{path:s,message:l})};function Qp(e,t){const n=Gp(),r=Zp({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===qp?void 0:qp].filter(e=>!!e)});e.common.issues.push(r)}class Yp{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return $p;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return Yp.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return $p;if("aborted"===i.status)return $p;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const $p=Object.freeze({status:"aborted"}),Xp=e=>({status:"dirty",value:e}),Jp=e=>({status:"valid",value:e}),em=e=>"aborted"===e.status,tm=e=>"dirty"===e.status,nm=e=>"valid"===e.status,rm=e=>"undefined"!==typeof Promise&&e instanceof Promise;var im;!function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(im||(im={}));class sm{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const am=(e,t)=>{if(nm(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Wp(e.common.issues);return this._error=t,this._error}}};function om(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(t,i)=>{var s;const{message:a}=e;return"invalid_enum_value"===t.code?{message:null!==a&&void 0!==a?a:i.defaultError}:"undefined"===typeof i.data?{message:null!==(o=null!==a&&void 0!==a?a:r)&&void 0!==o?o:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(s=null!==a&&void 0!==a?a:n)&&void 0!==s?s:i.defaultError};var o},description:i}}class lm{get description(){return this._def.description}_getType(e){return Bp(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Bp(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Yp,ctx:{common:e.parent.common,data:e.data,parsedType:Bp(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(rm(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bp(e)},i=this._parseSync({data:e,path:r.path,parent:r});return am(r,i)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bp(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return nm(n)?{value:n.value}:{issues:t.common.issues}}catch(r){var n;null!==r&&void 0!==r&&null!==(n=r.message)&&void 0!==n&&null!==(n=n.toLowerCase())&&void 0!==n&&n.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>nm(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bp(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(rm(r)?r:Promise.resolve(r));return am(n,i)}refine(e,t){return this._refinement((n,r)=>{const i=e(n),s=()=>r.addIssue((0,a.A)({code:Hp.custom},(e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t)(n)));return"undefined"!==typeof Promise&&i instanceof Promise?i.then(e=>!!e||(s(),!1)):!!i||(s(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1))}_refinement(e){return new ag({schema:this,typeName:mg.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return og.create(this,this._def)}nullable(){return lg.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qm.create(this)}promise(){return sg.create(this,this._def)}or(e){return Zm.create([this,e],this._def)}and(e){return Ym.create(this,e,this._def)}transform(e){return new ag((0,a.A)((0,a.A)({},om(this._def)),{},{schema:this,typeName:mg.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t="function"===typeof e?e:()=>e;return new cg((0,a.A)((0,a.A)({},om(this._def)),{},{innerType:this,defaultValue:t,typeName:mg.ZodDefault}))}brand(){return new hg((0,a.A)({typeName:mg.ZodBranded,type:this},om(this._def)))}catch(e){const t="function"===typeof e?e:()=>e;return new ug((0,a.A)((0,a.A)({},om(this._def)),{},{innerType:this,catchValue:t,typeName:mg.ZodCatch}))}describe(e){return new(0,this.constructor)((0,a.A)((0,a.A)({},this._def),{},{description:e}))}pipe(e){return fg.create(this,e)}readonly(){return pg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cm=/^c[^\s-]{8,}$/i,um=/^[0-9a-z]+$/,dm=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hm=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,fm=/^[a-z0-9_-]{21}$/i,pm=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,mm=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,gm=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let ym;const vm=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bm=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,wm=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,xm=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_m=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,km=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Sm="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Em=new RegExp("^".concat(Sm,"$"));function Cm(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?"));const n=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(n)}function Tm(e){return new RegExp("^".concat(Cm(e),"$"))}function Am(e){let t="".concat(Sm,"T").concat(Cm(e));const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function Nm(e,t){return!("v4"!==t&&t||!vm.test(e))||!("v6"!==t&&t||!wm.test(e))}function Im(e,t){if(!pm.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return"object"===typeof i&&null!==i&&((!("typ"in i)||"JWT"===(null===i||void 0===i?void 0:i.typ))&&(!!i.alg&&(!t||i.alg===t)))}catch(n){return!1}}function Pm(e,t){return!("v4"!==t&&t||!bm.test(e))||!("v6"!==t&&t||!xm.test(e))}class Rm extends lm{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==zp.string){const t=this._getOrReturnCtx(e);return Qp(t,{code:Hp.invalid_type,expected:zp.string,received:t.parsedType}),$p}const t=new Yp;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),Qp(n,{code:Hp.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),Qp(n,{code:Hp.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,s=e.data.length<i.value;(r||s)&&(n=this._getOrReturnCtx(e,n),r?Qp(n,{code:Hp.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&Qp(n,{code:Hp.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)gm.test(e.data)||(n=this._getOrReturnCtx(e,n),Qp(n,{validation:"email",code:Hp.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)ym||(ym=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),ym.test(e.data)||(n=this._getOrReturnCtx(e,n),Qp(n,{validation:"emoji",code:Hp.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)hm.test(e.data)||(n=this._getOrReturnCtx(e,n),Qp(n,{validation:"uuid",code:Hp.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)fm.test(e.data)||(n=this._getOrReturnCtx(e,n),Qp(n,{validation:"nanoid",code:Hp.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)cm.test(e.data)||(n=this._getOrReturnCtx(e,n),Qp(n,{validation:"cuid",code:Hp.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)um.test(e.data)||(n=this._getOrReturnCtx(e,n),Qp(n,{validation:"cuid2",code:Hp.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)dm.test(e.data)||(n=this._getOrReturnCtx(e,n),Qp(n,{validation:"ulid",code:Hp.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),Qp(n,{validation:"url",code:Hp.invalid_string,message:i.message}),t.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Qp(n,{validation:"regex",code:Hp.invalid_string,message:i.message}),t.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),Qp(n,{code:Hp.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),Qp(n,{code:Hp.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),Qp(n,{code:Hp.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty());else if("datetime"===i.kind){Am(i).test(e.data)||(n=this._getOrReturnCtx(e,n),Qp(n,{code:Hp.invalid_string,validation:"datetime",message:i.message}),t.dirty())}else if("date"===i.kind){Em.test(e.data)||(n=this._getOrReturnCtx(e,n),Qp(n,{code:Hp.invalid_string,validation:"date",message:i.message}),t.dirty())}else if("time"===i.kind){Tm(i).test(e.data)||(n=this._getOrReturnCtx(e,n),Qp(n,{code:Hp.invalid_string,validation:"time",message:i.message}),t.dirty())}else"duration"===i.kind?mm.test(e.data)||(n=this._getOrReturnCtx(e,n),Qp(n,{validation:"duration",code:Hp.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?Nm(e.data,i.version)||(n=this._getOrReturnCtx(e,n),Qp(n,{validation:"ip",code:Hp.invalid_string,message:i.message}),t.dirty()):"jwt"===i.kind?Im(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),Qp(n,{validation:"jwt",code:Hp.invalid_string,message:i.message}),t.dirty()):"cidr"===i.kind?Pm(e.data,i.version)||(n=this._getOrReturnCtx(e,n),Qp(n,{validation:"cidr",code:Hp.invalid_string,message:i.message}),t.dirty()):"base64"===i.kind?_m.test(e.data)||(n=this._getOrReturnCtx(e,n),Qp(n,{validation:"base64",code:Hp.invalid_string,message:i.message}),t.dirty()):"base64url"===i.kind?km.test(e.data)||(n=this._getOrReturnCtx(e,n),Qp(n,{validation:"base64url",code:Hp.invalid_string,message:i.message}),t.dirty()):Fp.assertNever(i);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),(0,a.A)({validation:t,code:Hp.invalid_string},im.errToObj(n)))}_addCheck(e){return new Rm((0,a.A)((0,a.A)({},this._def),{},{checks:[...this._def.checks,e]}))}email(e){return this._addCheck((0,a.A)({kind:"email"},im.errToObj(e)))}url(e){return this._addCheck((0,a.A)({kind:"url"},im.errToObj(e)))}emoji(e){return this._addCheck((0,a.A)({kind:"emoji"},im.errToObj(e)))}uuid(e){return this._addCheck((0,a.A)({kind:"uuid"},im.errToObj(e)))}nanoid(e){return this._addCheck((0,a.A)({kind:"nanoid"},im.errToObj(e)))}cuid(e){return this._addCheck((0,a.A)({kind:"cuid"},im.errToObj(e)))}cuid2(e){return this._addCheck((0,a.A)({kind:"cuid2"},im.errToObj(e)))}ulid(e){return this._addCheck((0,a.A)({kind:"ulid"},im.errToObj(e)))}base64(e){return this._addCheck((0,a.A)({kind:"base64"},im.errToObj(e)))}base64url(e){return this._addCheck((0,a.A)({kind:"base64url"},im.errToObj(e)))}jwt(e){return this._addCheck((0,a.A)({kind:"jwt"},im.errToObj(e)))}ip(e){return this._addCheck((0,a.A)({kind:"ip"},im.errToObj(e)))}cidr(e){return this._addCheck((0,a.A)({kind:"cidr"},im.errToObj(e)))}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck((0,a.A)({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n},im.errToObj(null===e||void 0===e?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck((0,a.A)({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision},im.errToObj(null===e||void 0===e?void 0:e.message)))}duration(e){return this._addCheck((0,a.A)({kind:"duration"},im.errToObj(e)))}regex(e,t){return this._addCheck((0,a.A)({kind:"regex",regex:e},im.errToObj(t)))}includes(e,t){return this._addCheck((0,a.A)({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position},im.errToObj(null===t||void 0===t?void 0:t.message)))}startsWith(e,t){return this._addCheck((0,a.A)({kind:"startsWith",value:e},im.errToObj(t)))}endsWith(e,t){return this._addCheck((0,a.A)({kind:"endsWith",value:e},im.errToObj(t)))}min(e,t){return this._addCheck((0,a.A)({kind:"min",value:e},im.errToObj(t)))}max(e,t){return this._addCheck((0,a.A)({kind:"max",value:e},im.errToObj(t)))}length(e,t){return this._addCheck((0,a.A)({kind:"length",value:e},im.errToObj(t)))}nonempty(e){return this.min(1,im.errToObj(e))}trim(){return new Rm((0,a.A)((0,a.A)({},this._def),{},{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new Rm((0,a.A)((0,a.A)({},this._def),{},{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new Rm((0,a.A)((0,a.A)({},this._def),{},{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function jm(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}Rm.create=e=>{var t;return new Rm((0,a.A)({checks:[],typeName:mg.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},om(e)))};class Dm extends lm{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==zp.number){const t=this._getOrReturnCtx(e);return Qp(t,{code:Hp.invalid_type,expected:zp.number,received:t.parsedType}),$p}let t;const n=new Yp;for(const r of this._def.checks)if("int"===r.kind)Fp.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Qp(t,{code:Hp.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Qp(t,{code:Hp.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Qp(t,{code:Hp.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==jm(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Qp(t,{code:Hp.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Qp(t,{code:Hp.not_finite,message:r.message}),n.dirty()):Fp.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,im.toString(t))}gt(e,t){return this.setLimit("min",e,!1,im.toString(t))}lte(e,t){return this.setLimit("max",e,!0,im.toString(t))}lt(e,t){return this.setLimit("max",e,!1,im.toString(t))}setLimit(e,t,n,r){return new Dm((0,a.A)((0,a.A)({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:im.toString(r)}]}))}_addCheck(e){return new Dm((0,a.A)((0,a.A)({},this._def),{},{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:im.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:im.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:im.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:im.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:im.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:im.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:im.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:im.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:im.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&Fp.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Dm.create=e=>new Dm((0,a.A)({checks:[],typeName:mg.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},om(e)));class Om extends lm{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(r){return this._getInvalidInput(e)}if(this._getType(e)!==zp.bigint)return this._getInvalidInput(e);let t;const n=new Yp;for(const i of this._def.checks)if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),Qp(t,{code:Hp.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),Qp(t,{code:Hp.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Qp(t,{code:Hp.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):Fp.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Qp(t,{code:Hp.invalid_type,expected:zp.bigint,received:t.parsedType}),$p}gte(e,t){return this.setLimit("min",e,!0,im.toString(t))}gt(e,t){return this.setLimit("min",e,!1,im.toString(t))}lte(e,t){return this.setLimit("max",e,!0,im.toString(t))}lt(e,t){return this.setLimit("max",e,!1,im.toString(t))}setLimit(e,t,n,r){return new Om((0,a.A)((0,a.A)({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:im.toString(r)}]}))}_addCheck(e){return new Om((0,a.A)((0,a.A)({},this._def),{},{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:im.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:im.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:im.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:im.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:im.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Om.create=e=>{var t;return new Om((0,a.A)({checks:[],typeName:mg.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},om(e)))};class Lm extends lm{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==zp.boolean){const t=this._getOrReturnCtx(e);return Qp(t,{code:Hp.invalid_type,expected:zp.boolean,received:t.parsedType}),$p}return Jp(e.data)}}Lm.create=e=>new Lm((0,a.A)({typeName:mg.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},om(e)));class Mm extends lm{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==zp.date){const t=this._getOrReturnCtx(e);return Qp(t,{code:Hp.invalid_type,expected:zp.date,received:t.parsedType}),$p}if(Number.isNaN(e.data.getTime())){return Qp(this._getOrReturnCtx(e),{code:Hp.invalid_date}),$p}const t=new Yp;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Qp(n,{code:Hp.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Qp(n,{code:Hp.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):Fp.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Mm((0,a.A)((0,a.A)({},this._def),{},{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:im.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:im.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Mm.create=e=>new Mm((0,a.A)({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:mg.ZodDate},om(e)));class Vm extends lm{_parse(e){if(this._getType(e)!==zp.symbol){const t=this._getOrReturnCtx(e);return Qp(t,{code:Hp.invalid_type,expected:zp.symbol,received:t.parsedType}),$p}return Jp(e.data)}}Vm.create=e=>new Vm((0,a.A)({typeName:mg.ZodSymbol},om(e)));class Fm extends lm{_parse(e){if(this._getType(e)!==zp.undefined){const t=this._getOrReturnCtx(e);return Qp(t,{code:Hp.invalid_type,expected:zp.undefined,received:t.parsedType}),$p}return Jp(e.data)}}Fm.create=e=>new Fm((0,a.A)({typeName:mg.ZodUndefined},om(e)));class Um extends lm{_parse(e){if(this._getType(e)!==zp.null){const t=this._getOrReturnCtx(e);return Qp(t,{code:Hp.invalid_type,expected:zp.null,received:t.parsedType}),$p}return Jp(e.data)}}Um.create=e=>new Um((0,a.A)({typeName:mg.ZodNull},om(e)));class zm extends lm{constructor(){super(...arguments),this._any=!0}_parse(e){return Jp(e.data)}}zm.create=e=>new zm((0,a.A)({typeName:mg.ZodAny},om(e)));class Bm extends lm{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Jp(e.data)}}Bm.create=e=>new Bm((0,a.A)({typeName:mg.ZodUnknown},om(e)));class Hm extends lm{_parse(e){const t=this._getOrReturnCtx(e);return Qp(t,{code:Hp.invalid_type,expected:zp.never,received:t.parsedType}),$p}}Hm.create=e=>new Hm((0,a.A)({typeName:mg.ZodNever},om(e)));class Wm extends lm{_parse(e){if(this._getType(e)!==zp.undefined){const t=this._getOrReturnCtx(e);return Qp(t,{code:Hp.invalid_type,expected:zp.void,received:t.parsedType}),$p}return Jp(e.data)}}Wm.create=e=>new Wm((0,a.A)({typeName:mg.ZodVoid},om(e)));class qm extends lm{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==zp.array)return Qp(t,{code:Hp.invalid_type,expected:zp.array,received:t.parsedType}),$p;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(Qp(t,{code:e?Hp.too_big:Hp.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Qp(t,{code:Hp.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Qp(t,{code:Hp.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new sm(t,e,t.path,n)))).then(e=>Yp.mergeArray(n,e));const i=[...t.data].map((e,n)=>r.type._parseSync(new sm(t,e,t.path,n)));return Yp.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new qm((0,a.A)((0,a.A)({},this._def),{},{minLength:{value:e,message:im.toString(t)}}))}max(e,t){return new qm((0,a.A)((0,a.A)({},this._def),{},{maxLength:{value:e,message:im.toString(t)}}))}length(e,t){return new qm((0,a.A)((0,a.A)({},this._def),{},{exactLength:{value:e,message:im.toString(t)}}))}nonempty(e){return this.min(1,e)}}function Km(e){if(e instanceof Gm){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=og.create(Km(r))}return new Gm((0,a.A)((0,a.A)({},e._def),{},{shape:()=>t}))}return e instanceof qm?new qm((0,a.A)((0,a.A)({},e._def),{},{type:Km(e.element)})):e instanceof og?og.create(Km(e.unwrap())):e instanceof lg?lg.create(Km(e.unwrap())):e instanceof $m?$m.create(e.items.map(e=>Km(e))):e}qm.create=(e,t)=>new qm((0,a.A)({type:e,minLength:null,maxLength:null,exactLength:null,typeName:mg.ZodArray},om(t)));class Gm extends lm{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Fp.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==zp.object){const t=this._getOrReturnCtx(e);return Qp(t,{code:Hp.invalid_type,expected:zp.object,received:t.parsedType}),$p}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof Hm&&"strip"===this._def.unknownKeys))for(const o in n.data)i.includes(o)||s.push(o);const a=[];for(const o of i){const e=r[o],t=n.data[o];a.push({key:{status:"valid",value:o},value:e._parse(new sm(n,t,n.path,o)),alwaysSet:o in n.data})}if(this._def.catchall instanceof Hm){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of s)a.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)s.length>0&&(Qp(n,{code:Hp.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const r=n.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new sm(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of a){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>Yp.mergeObjectSync(t,e)):Yp.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return im.errToObj,new Gm((0,a.A)((0,a.A)({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:(t,n)=>{var r,i,s,a;const o=null!==(r=null===(i=(s=this._def).errorMap)||void 0===i?void 0:i.call(s,t,n).message)&&void 0!==r?r:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=im.errToObj(e).message)&&void 0!==a?a:o}:{message:o}}}:{}))}strip(){return new Gm((0,a.A)((0,a.A)({},this._def),{},{unknownKeys:"strip"}))}passthrough(){return new Gm((0,a.A)((0,a.A)({},this._def),{},{unknownKeys:"passthrough"}))}extend(e){return new Gm((0,a.A)((0,a.A)({},this._def),{},{shape:()=>(0,a.A)((0,a.A)({},this._def.shape()),e)}))}merge(e){return new Gm({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>(0,a.A)((0,a.A)({},this._def.shape()),e._def.shape()),typeName:mg.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Gm((0,a.A)((0,a.A)({},this._def),{},{catchall:e}))}pick(e){const t={};for(const n of Fp.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new Gm((0,a.A)((0,a.A)({},this._def),{},{shape:()=>t}))}omit(e){const t={};for(const n of Fp.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new Gm((0,a.A)((0,a.A)({},this._def),{},{shape:()=>t}))}deepPartial(){return Km(this)}partial(e){const t={};for(const n of Fp.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new Gm((0,a.A)((0,a.A)({},this._def),{},{shape:()=>t}))}required(e){const t={};for(const n of Fp.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof og;)e=e._def.innerType;t[n]=e}return new Gm((0,a.A)((0,a.A)({},this._def),{},{shape:()=>t}))}keyof(){return ng(Fp.objectKeys(this.shape))}}Gm.create=(e,t)=>new Gm((0,a.A)({shape:()=>e,unknownKeys:"strip",catchall:Hm.create(),typeName:mg.ZodObject},om(t))),Gm.strictCreate=(e,t)=>new Gm((0,a.A)({shape:()=>e,unknownKeys:"strict",catchall:Hm.create(),typeName:mg.ZodObject},om(t))),Gm.lazycreate=(e,t)=>new Gm((0,a.A)({shape:e,unknownKeys:"strip",catchall:Hm.create(),typeName:mg.ZodObject},om(t)));class Zm extends lm{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{const n=(0,a.A)((0,a.A)({},t),{},{common:(0,a.A)((0,a.A)({},t.common),{},{issues:[]}),parent:null});return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map(e=>new Wp(e.ctx.common.issues));return Qp(t,{code:Hp.invalid_union,unionErrors:n}),$p});{let e;const r=[];for(const s of n){const n=(0,a.A)((0,a.A)({},t),{},{common:(0,a.A)((0,a.A)({},t.common),{},{issues:[]}),parent:null}),i=s._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map(e=>new Wp(e));return Qp(t,{code:Hp.invalid_union,unionErrors:i}),$p}}get options(){return this._def.options}}Zm.create=(e,t)=>new Zm((0,a.A)({options:e,typeName:mg.ZodUnion},om(t)));function Qm(e,t){const n=Bp(e),r=Bp(t);if(e===t)return{valid:!0,data:e};if(n===zp.object&&r===zp.object){const n=Fp.objectKeys(t),r=Fp.objectKeys(e).filter(e=>-1!==n.indexOf(e)),i=(0,a.A)((0,a.A)({},e),t);for(const s of r){const n=Qm(e[s],t[s]);if(!n.valid)return{valid:!1};i[s]=n.data}return{valid:!0,data:i}}if(n===zp.array&&r===zp.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=Qm(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===zp.date&&r===zp.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class Ym extends lm{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(em(e)||em(r))return $p;const i=Qm(e.value,r.value);return i.valid?((tm(e)||tm(r))&&t.dirty(),{status:t.value,value:i.data}):(Qp(n,{code:Hp.invalid_intersection_types}),$p)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(e=>{let[t,n]=e;return r(t,n)}):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ym.create=(e,t,n)=>new Ym((0,a.A)({left:e,right:t,typeName:mg.ZodIntersection},om(n)));class $m extends lm{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==zp.array)return Qp(n,{code:Hp.invalid_type,expected:zp.array,received:n.parsedType}),$p;if(n.data.length<this._def.items.length)return Qp(n,{code:Hp.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$p;!this._def.rest&&n.data.length>this._def.items.length&&(Qp(n,{code:Hp.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new sm(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>Yp.mergeArray(t,e)):Yp.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new $m((0,a.A)((0,a.A)({},this._def),{},{rest:e}))}}$m.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $m((0,a.A)({items:e,typeName:mg.ZodTuple,rest:null},om(t)))};class Xm extends lm{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==zp.map)return Qp(n,{code:Hp.invalid_type,expected:zp.map,received:n.parsedType}),$p;const r=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map((e,t)=>{let[s,a]=e;return{key:r._parse(new sm(n,s,n.path,[t,"key"])),value:i._parse(new sm(n,a,n.path,[t,"value"]))}});if(n.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const n of s){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return $p;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}})}{const e=new Map;for(const n of s){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return $p;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}Xm.create=(e,t,n)=>new Xm((0,a.A)({valueType:t,keyType:e,typeName:mg.ZodMap},om(n)));class Jm extends lm{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==zp.set)return Qp(n,{code:Hp.invalid_type,expected:zp.set,received:n.parsedType}),$p;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(Qp(n,{code:Hp.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(Qp(n,{code:Hp.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function s(e){const n=new Set;for(const r of e){if("aborted"===r.status)return $p;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const a=[...n.data.values()].map((e,t)=>i._parse(new sm(n,e,n.path,t)));return n.common.async?Promise.all(a).then(e=>s(e)):s(a)}min(e,t){return new Jm((0,a.A)((0,a.A)({},this._def),{},{minSize:{value:e,message:im.toString(t)}}))}max(e,t){return new Jm((0,a.A)((0,a.A)({},this._def),{},{maxSize:{value:e,message:im.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Jm.create=(e,t)=>new Jm((0,a.A)({valueType:e,minSize:null,maxSize:null,typeName:mg.ZodSet},om(t)));class eg extends lm{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}eg.create=(e,t)=>new eg((0,a.A)({getter:e,typeName:mg.ZodLazy},om(t)));class tg extends lm{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Qp(t,{received:t.data,code:Hp.invalid_literal,expected:this._def.value}),$p}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ng(e,t){return new rg((0,a.A)({values:e,typeName:mg.ZodEnum},om(t)))}tg.create=(e,t)=>new tg((0,a.A)({value:e,typeName:mg.ZodLiteral},om(t)));class rg extends lm{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Qp(t,{expected:Fp.joinValues(n),received:t.parsedType,code:Hp.invalid_type}),$p}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Qp(t,{received:t.data,code:Hp.invalid_enum_value,options:n}),$p}return Jp(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return rg.create(e,(0,a.A)((0,a.A)({},this._def),t))}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return rg.create(this.options.filter(t=>!e.includes(t)),(0,a.A)((0,a.A)({},this._def),t))}}rg.create=ng;class ig extends lm{_parse(e){const t=Fp.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==zp.string&&n.parsedType!==zp.number){const e=Fp.objectValues(t);return Qp(n,{expected:Fp.joinValues(e),received:n.parsedType,code:Hp.invalid_type}),$p}if(this._cache||(this._cache=new Set(Fp.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=Fp.objectValues(t);return Qp(n,{received:n.data,code:Hp.invalid_enum_value,options:e}),$p}return Jp(e.data)}get enum(){return this._def.values}}ig.create=(e,t)=>new ig((0,a.A)({values:e,typeName:mg.ZodNativeEnum},om(t)));class sg extends lm{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==zp.promise&&!1===t.common.async)return Qp(t,{code:Hp.invalid_type,expected:zp.promise,received:t.parsedType}),$p;const n=t.parsedType===zp.promise?t.data:Promise.resolve(t.data);return Jp(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}sg.create=(e,t)=>new sg((0,a.A)({type:e,typeName:mg.ZodPromise},om(t)));class ag extends lm{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===mg.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{Qp(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){const e=r.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return $p;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?$p:"dirty"===r.status||"dirty"===t.value?Xp(r.value):r});{if("aborted"===t.value)return $p;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?$p:"dirty"===r.status||"dirty"===t.value?Xp(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?$p:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?$p:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!nm(e))return $p;const s=r.transform(e.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>nm(e)?Promise.resolve(r.transform(e.value,i)).then(e=>({status:t.value,value:e})):$p)}Fp.assertNever(r)}}ag.create=(e,t,n)=>new ag((0,a.A)({schema:e,typeName:mg.ZodEffects,effect:t},om(n))),ag.createWithPreprocess=(e,t,n)=>new ag((0,a.A)({schema:t,effect:{type:"preprocess",transform:e},typeName:mg.ZodEffects},om(n)));class og extends lm{_parse(e){return this._getType(e)===zp.undefined?Jp(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}og.create=(e,t)=>new og((0,a.A)({innerType:e,typeName:mg.ZodOptional},om(t)));class lg extends lm{_parse(e){return this._getType(e)===zp.null?Jp(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}lg.create=(e,t)=>new lg((0,a.A)({innerType:e,typeName:mg.ZodNullable},om(t)));class cg extends lm{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===zp.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}cg.create=(e,t)=>new cg((0,a.A)({innerType:e,typeName:mg.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default},om(t)));class ug extends lm{_parse(e){const{ctx:t}=this._processInputParams(e),n=(0,a.A)((0,a.A)({},t),{},{common:(0,a.A)((0,a.A)({},t.common),{},{issues:[]})}),r=this._def.innerType._parse({data:n.data,path:n.path,parent:(0,a.A)({},n)});return rm(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Wp(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new Wp(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ug.create=(e,t)=>new ug((0,a.A)({innerType:e,typeName:mg.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch},om(t)));class dg extends lm{_parse(e){if(this._getType(e)!==zp.nan){const t=this._getOrReturnCtx(e);return Qp(t,{code:Hp.invalid_type,expected:zp.nan,received:t.parsedType}),$p}return{status:"valid",value:e.data}}}dg.create=e=>new dg((0,a.A)({typeName:mg.ZodNaN},om(e)));Symbol("zod_brand");class hg extends lm{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class fg extends lm{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?$p:"dirty"===e.status?(t.dirty(),Xp(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?$p:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new fg({in:e,out:t,typeName:mg.ZodPipeline})}}class pg extends lm{_parse(e){const t=this._def.innerType._parse(e),n=e=>(nm(e)&&(e.value=Object.freeze(e.value)),e);return rm(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}pg.create=(e,t)=>new pg((0,a.A)({innerType:e,typeName:mg.ZodReadonly},om(t)));Gm.lazycreate;var mg;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(mg||(mg={}));const gg=Rm.create,yg=(Dm.create,dg.create,Om.create,Lm.create,Mm.create,Vm.create,Fm.create,Um.create,zm.create,Bm.create,Hm.create,Wm.create,qm.create,Gm.create),vg=(Gm.strictCreate,Zm.create,Ym.create,$m.create,Xm.create,Jm.create,eg.create,tg.create,rg.create,ig.create,sg.create,ag.create,og.create,lg.create,ag.createWithPreprocess,fg.create,[{value:"snapchat",label:"Snapchat"},{value:"instagram",label:"Instagram"},{value:"whatsapp",label:"WhatsApp"},{value:"facebook",label:"Facebook"},{value:"kik",label:"Kik"}]),bg=[{value:"phone",label:"Phone Call"},{value:"text",label:"Text"},{value:"email",label:"Email"},{value:"social",label:"Social Platform"}],wg=yg({firstName:gg().min(1,"Required"),lastName:gg().min(1,"Required"),contactMethod:gg(),socialPlatform:gg().optional(),socialHandle:gg().optional(),contactValue:gg().optional()}),xg=e=>{var t,n;let{user:i}=e;const o=i||Qi(Xi.y).currentUser,[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(null),[p,m]=(0,r.useState)("light"),{control:g,handleSubmit:y,watch:v,setValue:b,formState:{errors:w}}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=r.useRef(void 0),n=r.useRef(void 0),[i,o]=r.useState({isDirty:!1,isValidating:!1,isLoading:Of(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Of(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=(0,a.A)((0,a.A)({},e.formControl),{},{formState:i}),e.defaultValues&&!Of(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const n=hp(e),{formControl:r}=n,o=s(n,zh);t.current=(0,a.A)((0,a.A)({},o),{},{formState:i})}const l=t.current.control;return l._options=e,kf(()=>{const e=l._subscribe({formState:l._proxyFormState,callback:()=>o((0,a.A)({},l._formState)),reRenderRoot:!0});return o(e=>(0,a.A)((0,a.A)({},e),{},{isReady:!0})),l._formState.isReady=!0,e},[l]),r.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),r.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode)},[l,e.mode,e.reValidateMode]),r.useEffect(()=>{e.errors&&(l._setErrors(e.errors),l._focusError())},[l,e.errors]),r.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),r.useEffect(()=>{if(l._proxyFormState.isDirty){const e=l._getDirty();e!==i.isDirty&&l._subjects.state.next({isDirty:e})}},[l,i.isDirty]),r.useEffect(()=>{e.values&&!Rf(e.values,n.current)?(l._reset(e.values,l._options.resetOptions),n.current=e.values,o(e=>(0,a.A)({},e))):l._resetDefaultValues()},[l,e.values]),r.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next((0,a.A)({},l._formState))),l._removeUnmounted()}),t.current.formState=_f(i,l),t.current}({resolver:Vp(wg),defaultValues:{firstName:(null===o||void 0===o||null===(t=o.displayName)||void 0===t?void 0:t.split(" ")[0])||"",lastName:(null===o||void 0===o||null===(n=o.displayName)||void 0===n?void 0:n.split(" ")[1])||"",contactMethod:"email",socialPlatform:"",socialHandle:"",contactValue:(null===o||void 0===o?void 0:o.email)||""}}),x=v("contactMethod");v("socialPlatform");return o?(0,ph.jsxs)("div",{className:"relative min-h-screen flex flex-col justify-end bg-gradient-to-br from-green-50 to-green-200 overflow-hidden",children:[(0,ph.jsx)(fh.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.7,ease:"easeOut"},className:"absolute inset-0 pointer-events-none z-0",children:(0,ph.jsxs)("svg",{width:"100%",height:"100%",className:"absolute top-0 left-0 blur-2xl opacity-40 animate-pulse",style:{zIndex:0},children:[(0,ph.jsx)("defs",{children:(0,ph.jsxs)("radialGradient",{id:"blobGrad",cx:"50%",cy:"50%",r:"80%",children:[(0,ph.jsx)("stop",{offset:"0%",stopColor:"#34d399",stopOpacity:"1"}),(0,ph.jsx)("stop",{offset:"100%",stopColor:"#4ade80",stopOpacity:"0.2"})]})}),(0,ph.jsx)("ellipse",{cx:"60%",cy:"40%",rx:"340",ry:"160",fill:"url(#blobGrad)"}),(0,ph.jsx)("ellipse",{cx:"30%",cy:"70%",rx:"240",ry:"120",fill:"url(#blobGrad)"})]})}),(0,ph.jsx)("div",{className:"flex-1 flex flex-col items-center justify-center relative z-10",children:(0,ph.jsxs)(fh.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"backOut"},className:"max-w-4xl mx-auto p-4 sm:p-8 bg-white/90 rounded-2xl shadow-2xl mt-4 sm:mt-12 mb-6 sm:mb-10 flex flex-col md:flex-row gap-6 md:gap-20",children:[(0,ph.jsx)("div",{className:"flex flex-col items-center md:items-start w-full md:w-1/3",children:(0,ph.jsx)(fh.div,{className:"w-36 h-36 rounded-full bg-gradient-to-tr from-green-400 via-green-200 to-green-100 shadow-2xl border-4 border-green-300 flex items-center justify-center relative",style:{boxShadow:"0 0 60px 10px #6ee7b7, 0 4px 32px #34d399"},animate:{boxShadow:["0 0 60px 10px #6ee7b7, 0 4px 32px #34d399","0 0 80px 20px #6ee7b7, 0 4px 32px #34d399","0 0 60px 10px #6ee7b7, 0 4px 32px #34d399"]},transition:{repeat:1/0,duration:3,ease:"easeInOut"},children:(0,ph.jsx)("img",{src:o.photoURL||"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(o.displayName||o.email||"U")),alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-xl",style:{filter:"drop-shadow(0 0 16px #6ee7b7)"}})})}),(0,ph.jsxs)("form",{onSubmit:y(e=>{f(e),c(!1),d(!1)}),className:"mt-20 flex flex-col gap-6",children:[(0,ph.jsxs)("div",{className:"flex gap-4",children:[(0,ph.jsx)("div",{className:"relative flex-1",children:(0,ph.jsx)(Tf,{name:"firstName",control:g,render:e=>{let{field:t}=e;return(0,ph.jsx)("input",(0,a.A)((0,a.A)({},t),{},{className:"w-full px-5 py-3 rounded-xl bg-white/60 border border-green-200 shadow focus:outline-none focus:ring-2 focus:ring-green-400 transition-all duration-200 ".concat(w.firstName?"border-red-400":""),placeholder:"First Name",autoComplete:"off"}))}})}),(0,ph.jsx)("div",{className:"relative flex-1",children:(0,ph.jsx)(Tf,{name:"lastName",control:g,render:e=>{let{field:t}=e;return(0,ph.jsx)("input",(0,a.A)((0,a.A)({},t),{},{className:"w-full px-5 py-3 rounded-xl bg-white/60 border border-green-200 shadow focus:outline-none focus:ring-2 focus:ring-green-400 transition-all duration-200 ".concat(w.lastName?"border-red-400":""),placeholder:"Last Name",autoComplete:"off"}))}})})]}),(0,ph.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ph.jsx)("label",{className:"text-green-800 font-semibold mb-1",children:"Preferred Contact Method"}),(0,ph.jsx)(Tf,{name:"contactMethod",control:g,render:e=>{let{field:t}=e;return(0,ph.jsx)("select",(0,a.A)((0,a.A)({},t),{},{className:"w-full px-5 py-3 rounded-xl bg-white/60 border border-green-200 shadow focus:outline-none focus:ring-2 focus:ring-green-400 transition-all duration-200",children:bg.map(e=>(0,ph.jsx)("option",{value:e.value,children:e.label},e.value))}))}}),"social"===x&&(0,ph.jsxs)("div",{className:"flex gap-3 mt-2",children:[(0,ph.jsx)(Tf,{name:"socialPlatform",control:g,render:e=>{let{field:t}=e;return(0,ph.jsxs)("select",(0,a.A)((0,a.A)({},t),{},{className:"flex-1 px-4 py-3 rounded-xl bg-white/60 border border-green-200 shadow focus:outline-none focus:ring-2 focus:ring-green-400",children:[(0,ph.jsx)("option",{value:"",children:"Choose Platform"}),vg.map(e=>(0,ph.jsx)("option",{value:e.value,children:e.label},e.value))]}))}}),(0,ph.jsx)(Tf,{name:"socialHandle",control:g,render:e=>{let{field:t}=e;return(0,ph.jsx)("input",(0,a.A)((0,a.A)({},t),{},{className:"flex-1 px-4 py-3 rounded-xl bg-white/60 border border-green-200 shadow focus:outline-none focus:ring-2 focus:ring-green-400",placeholder:"Your handle or link"}))}})]}),"social"!==x&&(0,ph.jsx)(Tf,{name:"contactValue",control:g,render:e=>{let{field:t}=e;return(0,ph.jsx)("input",(0,a.A)((0,a.A)({},t),{},{className:"w-full px-5 py-3 rounded-xl bg-white/60 border border-green-200 shadow focus:outline-none focus:ring-2 focus:ring-green-400",placeholder:"Enter your ".concat(x)}))}})]}),(0,ph.jsx)(fh.button,{whileTap:{scale:.95},whileHover:{scale:1.03},type:"submit",className:"mt-2 w-full py-3 rounded-xl bg-green-700 text-white font-bold shadow-lg hover:bg-green-800 transition-all text-lg",children:"Save Changes"})]}),(0,ph.jsxs)("div",{className:"mt-8 flex flex-wrap gap-4 justify-center",children:[(0,ph.jsx)(fh.button,{whileTap:{scale:.96},whileHover:{scale:1.04},className:"px-6 py-2 rounded-lg bg-green-100 text-green-800 font-semibold shadow hover:bg-green-200 transition",onClick:()=>window.location.href="/profile/settings",children:"Profile Settings"}),(0,ph.jsx)(fh.button,{whileTap:{scale:.96},whileHover:{scale:1.04},className:"px-6 py-2 rounded-lg bg-green-100 text-green-800 font-semibold shadow hover:bg-green-200 transition",onClick:()=>window.location.href="/profile/reviews",children:"Reviews Left"}),(0,ph.jsx)(fh.button,{whileTap:{scale:.96},whileHover:{scale:1.04},className:"px-6 py-2 rounded-lg bg-green-100 text-green-800 font-semibold shadow hover:bg-green-200 transition",onClick:()=>window.location.href="/profile/liked",children:"Products Liked"})]})]})}),(0,ph.jsx)("footer",{className:"w-full mt-auto"})]}):(0,ph.jsx)("div",{className:"w-full min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-green-100 to-green-300",children:(0,ph.jsx)("div",{className:"text-2xl font-bold text-gray-700",children:"You must be logged in to view your profile."})})},_g=()=>{const e=ue(),t=Qi().currentUser,[n,i]=(0,r.useState)((null===t||void 0===t?void 0:t.displayName)||""),[s,a]=(0,r.useState)((null===t||void 0===t?void 0:t.email)||""),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),[y,v]=(0,r.useState)(!1),b=null===t||void 0===t?void 0:t.providerData.some(e=>"password"===e.providerId);return(0,ph.jsxs)(fh.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-xl mx-auto mt-8 sm:mt-16 bg-white/90 rounded-2xl shadow-2xl px-4 py-6 sm:p-10",children:[(0,ph.jsxs)("button",{className:"mb-4 sm:mb-6 text-green-700 text-sm sm:text-base font-semibold hover:underline flex items-center gap-1",onClick:()=>e(-1),"aria-label":"Back to Profile",children:[(0,ph.jsx)("span",{className:"text-lg",children:"\u2190"})," Back"]}),(0,ph.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Profile Settings"}),(0,ph.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p(""),g(""),v(!0),c&&c!==d)return p("New passwords do not match."),void v(!1);try{if((c||s!==t.email)&&b){if(!o)return p("Please enter your current password to make these changes."),void v(!1);const e=lr.credential(t.email,o);await Sr(t,e)}n!==t.displayName&&(await Cr(t,{displayName:n}),g("Display name updated successfully!")),s!==t.email&&(await function(e,t){const n=(0,bt.Ku)(e);return(0,vt.xZ)(n.auth.app)?Promise.reject(Pt(n.auth)):Tr(n,t,null)}(t,s),g("Email updated successfully! A verification email has been sent.")),c&&(await function(e,t){return Tr((0,bt.Ku)(e),null,t)}(t,c),g("Password updated successfully!"),u(""),h(""),l(""))}catch(r){p(r.message)}finally{v(!1)}},className:"space-y-6",children:[(0,ph.jsxs)("div",{children:[(0,ph.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Display Name"}),(0,ph.jsx)("input",{type:"text",id:"displayName",value:n,onChange:e=>i(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})]}),(0,ph.jsxs)("div",{children:[(0,ph.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),(0,ph.jsx)("input",{type:"email",id:"email",value:s,onChange:e=>a(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})]}),(0,ph.jsx)("hr",{}),(0,ph.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"Change Password"}),b&&(0,ph.jsxs)("div",{children:[(0,ph.jsx)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),(0,ph.jsx)("input",{type:"password",id:"currentPassword",value:o,onChange:e=>l(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})]}),(0,ph.jsxs)("div",{children:[(0,ph.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),(0,ph.jsx)("input",{type:"password",id:"newPassword",value:c,onChange:e=>u(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})]}),(0,ph.jsxs)("div",{children:[(0,ph.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),(0,ph.jsx)("input",{type:"password",id:"confirmPassword",value:d,onChange:e=>h(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})]}),f&&(0,ph.jsx)("p",{className:"text-sm text-red-600",children:f}),m&&(0,ph.jsx)("p",{className:"text-sm text-green-600",children:m}),(0,ph.jsx)("button",{type:"submit",disabled:y,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-gray-400",children:y?"Saving...":"Save Changes"})]})]})},kg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sg=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Eg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Cg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Tg=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Ag=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:d}=e,h=s(e,Tg);return(0,r.createElement)("svg",(0,a.A)((0,a.A)((0,a.A)({ref:t},Cg),{},{width:i,height:i,stroke:n,strokeWidth:l?24*Number(o)/Number(i):o,className:Eg("lucide",c)},!u&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...d.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(u)?u:[u]])}),Ng=["className"],Ig=(e,t)=>{const n=(0,r.forwardRef)((n,i)=>{let{className:o}=n,l=s(n,Ng);return(0,r.createElement)(Ag,(0,a.A)({ref:i,iconNode:t,className:Eg("lucide-".concat(kg(Sg(e))),"lucide-".concat(e),o)},l))});return n.displayName=Sg(e),n},Pg=Ig("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),Rg=Ig("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),jg=Ig("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Dg=Ig("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Og=Ig("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);const Lg=Ig("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Mg=Ig("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Vg=Ig("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Fg=Ig("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ug=e=>{let{review:t,onUpdate:n,onDelete:i}=e;const[s,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)(t.content),c=(0,r.useRef)(null);(0,r.useEffect)(()=>{s&&c.current&&(c.current.style.height="auto",c.current.style.height="".concat(c.current.scrollHeight,"px"),c.current.focus())},[s]);return(0,ph.jsxs)(fh.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-lg rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,ph.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ph.jsxs)("div",{children:[(0,ph.jsx)("h3",{className:"font-bold text-lg text-gray-800 dark:text-white",children:t.productName}),(0,ph.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(t.timestamp).toLocaleDateString()})]}),(0,ph.jsx)("div",{className:"flex items-center gap-2",children:s?(0,ph.jsxs)(ph.Fragment,{children:[(0,ph.jsx)("button",{onClick:()=>{n(t.id,o),a(!1)},className:"p-2 rounded-full hover:bg-green-100 dark:hover:bg-green-900/50 focus:outline-none focus:ring-2 focus:ring-green-500",children:(0,ph.jsx)(Lg,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,ph.jsx)("button",{onClick:()=>{l(t.content),a(!1)},className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700/50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:(0,ph.jsx)(Mg,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}):(0,ph.jsxs)(ph.Fragment,{children:[(0,ph.jsx)("button",{onClick:()=>a(!0),className:"p-2 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:(0,ph.jsx)(Vg,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,ph.jsx)("button",{onClick:()=>i(t.id),className:"p-2 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50 focus:outline-none focus:ring-2 focus:ring-red-500",children:(0,ph.jsx)(Fg,{className:"w-5 h-5 text-red-600 dark:text-red-400"})})]})})]}),s?(0,ph.jsx)("textarea",{ref:c,value:o,onChange:e=>{l(e.target.value),c.current&&(c.current.style.height="auto",c.current.style.height="".concat(e.target.scrollHeight,"px"))},className:"w-full p-2 bg-gray-100 dark:bg-gray-700 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-700 dark:text-gray-200",rows:3}):(0,ph.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:t.content})]})},zg=Ig("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Bg=e=>{let{isOpen:t,onClose:n,onConfirm:r,loading:i}=e;return(0,ph.jsx)(bs,{children:t&&(0,ph.jsx)(fh.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:n,children:(0,ph.jsxs)(fh.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md p-8 relative",onClick:e=>e.stopPropagation(),children:[(0,ph.jsx)("button",{onClick:n,className:"absolute top-4 right-4 p-2 rounded-full text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-400",children:(0,ph.jsx)(Mg,{className:"w-6 h-6"})}),(0,ph.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,ph.jsx)("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center mb-6",children:(0,ph.jsx)(zg,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),(0,ph.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Delete Review"}),(0,ph.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-8",children:"Are you sure you want to delete this review? This action cannot be undone."}),(0,ph.jsxs)("div",{className:"flex gap-4 w-full",children:[(0,ph.jsx)("button",{onClick:n,className:"flex-1 py-3 px-4 rounded-xl bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white font-semibold hover:bg-gray-300 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 dark:focus:ring-offset-gray-800 transition-colors",children:"Cancel"}),(0,ph.jsx)("button",{onClick:r,disabled:i,className:"flex-1 py-3 px-4 rounded-xl bg-red-600 text-white font-semibold hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-offset-gray-800 transition-colors disabled:bg-red-400 dark:disabled:bg-red-800 disabled:cursor-not-allowed",children:i?"Deleting...":"Delete"})]})]})]})})})},Hg=e=>{let{user:t}=e;const n=ue(),[i,s]=(0,r.useState)([]),[a,o]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),[g,y]=(0,r.useState)(!1),v=function(e,t){const[n,i]=(0,r.useState)(e);return(0,r.useEffect)(()=>{const n=setTimeout(()=>{i(e)},t);return()=>{clearTimeout(n)}},[e,t]),n}(u,300);(0,r.useEffect)(()=>{(async()=>{if(t){o(!0);try{const e=await(0,Ih.fetchReviewsByUserId)(t.uid);s(e)}catch(e){c("Failed to fetch reviews. Please try again later.")}finally{o(!1)}}})()},[t]);const b=async(e,n)=>{try{if(await(0,Ih.updateReview)(e,n),t){const e=await(0,Ih.fetchReviewsByUserId)(t.uid);s(e)}}catch(r){c("Failed to update review.")}},w=e=>{m(e),f(!0)},x=(0,r.useMemo)(()=>i.filter(e=>e.productName.toLowerCase().includes(v.toLowerCase())||e.content.toLowerCase().includes(v.toLowerCase())),[i,v]);return(0,ph.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200 p-4 sm:p-6 lg:p-8",children:[(0,ph.jsxs)(fh.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:[(0,ph.jsxs)("button",{className:"mb-6 text-green-600 dark:text-green-400 font-semibold hover:underline flex items-center gap-2 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 rounded-md p-1",onClick:()=>n(-1),"aria-label":"Back to Profile",children:[(0,ph.jsx)(Dg,{className:"w-5 h-5"}),"Back"]}),(0,ph.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[(0,ph.jsx)("h1",{className:"text-4xl font-bold tracking-tight text-gray-900 dark:text-white",children:"Your Reviews"}),(0,ph.jsxs)("div",{className:"relative mt-4 sm:mt-0 w-full sm:w-64",children:[(0,ph.jsx)(Og,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500"}),(0,ph.jsx)("input",{type:"text",placeholder:"Filter reviews...",value:u,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors"})]})]}),a?(0,ph.jsxs)("div",{className:"flex flex-col items-center justify-center text-center p-10",children:[(0,ph.jsx)(Pg,{className:"w-12 h-12 text-green-500 animate-spin mb-4"}),(0,ph.jsx)("p",{className:"text-lg font-medium text-gray-600 dark:text-gray-300",children:"Loading your reviews..."})]}):l?(0,ph.jsxs)("div",{className:"flex flex-col items-center justify-center text-center p-10 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,ph.jsx)(Rg,{className:"w-12 h-12 text-red-500 mb-4"}),(0,ph.jsx)("p",{className:"text-lg font-medium text-red-700 dark:text-red-300",children:l})]}):i.length>0&&0===x.length?(0,ph.jsx)("div",{className:"text-center p-10",children:(0,ph.jsx)("p",{className:"text-lg font-medium text-gray-600 dark:text-gray-300",children:"No reviews match your search."})}):0===x.length?(0,ph.jsxs)("div",{className:"flex flex-col items-center justify-center text-center p-10",children:[(0,ph.jsx)(jg,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mb-4"}),(0,ph.jsx)("p",{className:"text-lg font-medium text-gray-600 dark:text-gray-300",children:"You haven't left any reviews yet."}),(0,ph.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"When you do, they'll show up here."})]}):(0,ph.jsx)(fh.div,{layout:!0,className:"space-y-6",children:(0,ph.jsx)(bs,{children:x.map(e=>(0,ph.jsx)(Ug,{review:e,onUpdate:b,onDelete:w},e.id))})})]}),(0,ph.jsx)(Bg,{isOpen:h,onClose:()=>f(!1),onConfirm:async()=>{y(!0);try{if(await(0,Ih.deleteReview)(p),t){const e=await(0,Ih.fetchReviewsByUserId)(t.uid);s(e)}f(!1),m(null)}catch(e){c("Failed to delete review.")}finally{y(!1)}},loading:g})]})},Wg={Flower:["Indica","Hybrid","Sativa"],Concentrate:["Shatter","Badder","Terps"],Edible:["Brownie","Cookie","Drink"]},qg=()=>{const e=ue(),{liked:t,loading:n}=_h(),r=Lh.filter(e=>t.includes(e.id)),i={};return Object.keys(Wg).forEach(e=>{i[e]={},Wg[e].forEach(t=>{i[e][t]=r.filter(n=>n.category===e&&n.subcategory===t)})}),(0,ph.jsxs)(fh.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-5xl mx-auto mt-8 sm:mt-16 bg-white/90 rounded-2xl shadow-2xl px-2 sm:px-8 py-6 sm:py-10",children:[(0,ph.jsxs)("button",{className:"mb-4 sm:mb-6 text-green-700 text-sm sm:text-base font-semibold hover:underline flex items-center gap-1",onClick:()=>e(-1),"aria-label":"Back to Profile",children:[(0,ph.jsx)("span",{className:"text-lg",children:"\u2190"})," Back"]}),(0,ph.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 text-green-800",children:"Products Liked"}),n?(0,ph.jsx)("div",{className:"text-center text-gray-500 py-12",children:"Loading..."}):0===r.length?(0,ph.jsx)("div",{className:"text-center text-gray-500 py-12",children:"No liked products yet. Tap the heart on any product to add it here!"}):(0,ph.jsx)("div",{className:"space-y-10",children:Object.keys(Wg).map(e=>(0,ph.jsxs)("div",{children:[(0,ph.jsx)("h3",{className:"text-2xl font-bold text-green-700 mb-3 mt-6",children:e}),(0,ph.jsx)("div",{className:"space-y-8",children:Wg[e].map(t=>i[e][t].length>0&&(0,ph.jsxs)("div",{children:[(0,ph.jsx)("h4",{className:"text-lg font-semibold text-green-800 mb-2 ml-2",children:t}),(0,ph.jsx)(bs,{children:(0,ph.jsx)(fh.div,{layout:!0,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i[e][t].map(e=>(0,ph.jsx)(fh.div,{layout:!0,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.35},children:(0,ph.jsx)(Sh,{product:e})},e.id))})})]},t))})]},e))})]})},Kg=e=>{let{detailMode:t,selectedProduct:n,productList:r,isAdmin:i,handleEditProduct:s,setDetailMode:o,setSelectedProduct:l,showStore:c,setShowStore:u,selectedCategory:d,setSelectedCategory:h,selectedSubcategory:f,setSelectedSubcategory:p,handleAddProduct:m,handleDeleteProduct:g,showAddProduct:y,setShowAddProduct:v}=e;return(0,ph.jsx)(ph.Fragment,{children:t&&n?(0,ph.jsx)(Rh,{product:n,productList:r,onSave:e=>{s(e.id,e),l((0,a.A)((0,a.A)({},n),e))},isAdmin:i,onBack:()=>{o(!1),l(null)}}):(0,ph.jsxs)(ph.Fragment,{children:[(0,ph.jsxs)("section",{className:"bg-green-700 text-white py-16 px-4 text-center smokey-hero-bg",children:[(0,ph.jsx)("button",{className:"text-5xl font-bold mb-4 bg-transparent border-none outline-none cursor-pointer hover:underline",style:{color:"inherit"},onClick:()=>u(!1),children:"Reaper Resins"}),(0,ph.jsx)("p",{className:"text-xl mb-6",children:"Elevate your senses. Discover premium cannabis products for a modern lifestyle."}),(0,ph.jsx)("button",{className:"inline-block bg-white text-green-700 px-6 py-3 rounded-full font-semibold shadow hover:bg-green-100 transition",onClick:()=>u(!0),children:"Browse Store"})]}),c?(0,ph.jsxs)(ph.Fragment,{children:[(0,ph.jsx)(Nh,{products:r,isAdmin:i,onAdd:m,onEdit:s,onDelete:g,onSelect:e=>{l(e),o(!0)},selectedCategory:d,selectedSubcategory:f}),(0,ph.jsx)("div",{className:"flex justify-center mt-8",children:(0,ph.jsx)("button",{className:"px-6 py-2 bg-gray-200 text-green-700 rounded-full font-semibold shadow hover:bg-gray-300 transition mb-8",onClick:()=>u(!1),children:"Back to Home"})})]}):(0,ph.jsxs)("section",{id:"products",className:"py-12 px-4 max-w-6xl mx-auto",children:[(0,ph.jsxs)("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[(0,ph.jsx)("h2",{className:"text-3xl font-bold text-center",children:"Our Products"}),i&&(0,ph.jsx)("button",{className:"bg-green-700 text-white px-4 py-2 rounded ml-4",onClick:()=>v(!0),children:"Add Product"})]}),(0,ph.jsx)(Th,{selectedCategory:d,selectedSubcategory:f,onCategorySelect:e=>{h(e),p("")},onSubcategorySelect:p}),(0,ph.jsx)(Eh,{products:r.filter(e=>!d||(f?e.category===d&&e.subcategory===f:e.category===d)),onSelect:e=>{l(e),o(!0)},isAdmin:i,onEdit:s,onDelete:g})]}),y&&(0,ph.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ph.jsx)(vh,{onSave:m,onCancel:()=>v(!1)})}),!t&&(0,ph.jsx)("section",{className:"py-12 px-4 bg-white max-w-4xl mx-auto",children:(0,ph.jsx)(Ph,{isAdmin:i,productList:r})}),(0,ph.jsx)("section",{className:"py-12 px-4 max-w-2xl mx-auto",children:(0,ph.jsx)(jh,{})}),(0,ph.jsx)("section",{className:"py-12 px-4 bg-gray-100 max-w-2xl mx-auto",children:(0,ph.jsx)(Oh,{})})]})})},Gg=e=>{let{productList:t,isAdmin:n,handleEditProduct:r,handleDeleteProduct:i,selectedCategory:s,setSelectedCategory:a,selectedSubcategory:o,setSelectedSubcategory:l,setSelectedProduct:c,setDetailMode:u}=e;return(0,ph.jsxs)("section",{id:"products",className:"py-12 px-4 max-w-6xl mx-auto",children:[(0,ph.jsxs)("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[(0,ph.jsx)("h2",{className:"text-3xl font-bold text-center",children:"Our Products"}),n&&(0,ph.jsx)("button",{className:"bg-green-700 text-white px-4 py-2 rounded ml-4",onClick:()=>{},children:"Add Product"})]}),(0,ph.jsx)(Th,{selectedCategory:s,selectedSubcategory:o,onCategorySelect:e=>{a(e),l("")},onSubcategorySelect:l}),(0,ph.jsx)(Eh,{products:t.filter(e=>!s||(o?e.category===s&&e.subcategory===o:e.category===s)),onSelect:e=>{c(e),u(!0)},isAdmin:n,onEdit:r,onDelete:i})]})},Zg=Ig("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Qg=Ig("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),Yg=e=>{let{user:t}=e;const[i,s]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)({});(0,r.useEffect)(()=>{(async()=>{l(!0);try{const e=await(0,Ih.fetchReviews)();s(e)}catch(e){u("Failed to fetch reviews. Please try again later.")}finally{l(!1)}})()},[]);const y=(0,r.useMemo)(()=>d.trim()?i.filter(e=>{var t,n;return((null===(t=e.productName)||void 0===t?void 0:t.toLowerCase())||"").includes(d.toLowerCase())||((null===(n=e.text)||void 0===n?void 0:n.toLowerCase())||"").includes(d.toLowerCase())}):i,[i,d]);return(0,ph.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-100/70 via-white to-green-300/60 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900 text-gray-900 dark:text-gray-100 p-4 sm:p-6 lg:p-8",children:(0,ph.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,ph.jsx)("h1",{className:"text-4xl sm:text-5xl font-extrabold tracking-tight mb-2 text-center bg-gradient-to-r from-green-600 via-emerald-400 to-green-600 bg-clip-text text-transparent drop-shadow-lg",children:"\ud83c\udf1f Customer Reviews"}),(0,ph.jsx)("p",{className:"text-center text-lg text-gray-600 dark:text-gray-300 mb-8",children:"See what people are saying about our products. Real reviews, real experiences."}),(0,ph.jsxs)("div",{className:"relative max-w-md mx-auto mb-8",children:[(0,ph.jsx)(Og,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,ph.jsx)("input",{type:"text",placeholder:"Search by product or review...",value:d,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white/80 dark:bg-gray-800/80 focus:ring-2 focus:ring-green-400 focus:border-green-500 transition shadow-sm"})]}),o?(0,ph.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ph.jsx)(Pg,{className:"animate-spin text-green-500",size:48})}):c?(0,ph.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-lg p-6",children:[(0,ph.jsx)(Rg,{size:48,className:"mb-4"}),(0,ph.jsx)("h3",{className:"text-xl font-semibold",children:"An Error Occurred"}),(0,ph.jsx)("p",{className:"mt-1",children:c})]}):0===y.length?(0,ph.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 bg-gray-100 dark:bg-gray-800 rounded-lg p-6",children:[(0,ph.jsx)(jg,{size:48,className:"mb-4 text-gray-400"}),(0,ph.jsx)("h3",{className:"text-xl font-semibold",children:"No Reviews Found"}),(0,ph.jsx)("p",{className:"mt-1 text-gray-500",children:"Try another search or check back later."})]}):(0,ph.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:(0,ph.jsx)(bs,{children:y.map((e,r)=>(0,ph.jsxs)(fh.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{duration:.35,delay:.05*r},className:"".concat("backdrop-blur-lg bg-white/60 dark:bg-gray-900/60 border border-gray-200 dark:border-gray-800 shadow-xl rounded-2xl p-6 flex flex-col md:flex-row gap-4 transition hover:scale-[1.025] hover:shadow-2xl"," ")+("admin"===e.role?"border-4 border-yellow-400 shadow-yellow-300 animate-pulse":"staff"===e.role?"border-4 border-blue-400 shadow-blue-300":"top"===e.loyaltyTier?"border-4 border-purple-500 bg-gradient-to-r from-purple-100 via-white to-purple-300 shadow-purple-400 animate-[pulse_2s_infinite]":"mid"===e.loyaltyTier?"border-2 border-cyan-400 bg-cyan-50 dark:bg-cyan-950":"low"===e.loyaltyTier?"border border-gray-400 bg-gray-100 dark:bg-gray-900 opacity-80":"bg-white/60 dark:bg-gray-900/60 border border-gray-200 dark:border-gray-800"),children:[(0,ph.jsxs)("div",{className:"flex flex-col items-center mr-4",children:[e.showAvatar&&e.avatarUrl?(0,ph.jsx)("img",{src:e.avatarUrl,alt:e.displayName||"Avatar",className:"w-14 h-14 rounded-full border-2 border-green-400 shadow-md mb-1"}):(0,ph.jsx)(Qg,{className:"w-14 h-14 text-gray-400 mb-1"}),"admin"===e.role&&(0,ph.jsx)("span",{className:"text-xs font-bold text-yellow-700 bg-yellow-200 rounded px-2 py-0.5 mt-1",children:"ADMIN"}),"staff"===e.role&&(0,ph.jsx)("span",{className:"text-xs font-bold text-blue-700 bg-blue-200 rounded px-2 py-0.5 mt-1",children:"STAFF"}),"top"===e.loyaltyTier&&(0,ph.jsx)("span",{className:"text-xs font-bold text-purple-800 bg-purple-100 rounded px-2 py-0.5 mt-1 animate-pulse",children:"VIP"}),"mid"===e.loyaltyTier&&(0,ph.jsx)("span",{className:"text-xs font-bold text-cyan-800 bg-cyan-100 rounded px-2 py-0.5 mt-1",children:"MID"}),"low"===e.loyaltyTier&&(0,ph.jsx)("span",{className:"text-xs font-bold text-gray-700 bg-gray-200 rounded px-2 py-0.5 mt-1",children:"LOW"})]}),e.productImage&&(0,ph.jsx)("img",{src:e.productImage,alt:e.productName||"Product",className:"w-24 h-24 object-cover rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 bg-white/40"}),(0,ph.jsxs)("div",{className:"flex-1 flex flex-col gap-2",children:[(0,ph.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ph.jsx)("span",{className:"text-lg font-bold text-green-700 dark:text-green-400",children:e.productName||"General"}),e.rating&&(0,ph.jsx)("span",{className:"flex items-center gap-1 ml-2 text-yellow-500",children:[...Array(e.rating)].map((e,t)=>(0,ph.jsx)(Zg,{size:16},t))})]}),(0,ph.jsx)("div",{className:"flex items-center gap-2",children:f===e.id?(0,ph.jsxs)("form",{className:"flex-1 flex flex-col gap-2",onSubmit:async t=>{t.preventDefault();try{await Promise.resolve().then(n.bind(n,470)).then(t=>{let{updateReview:n}=t;return n(e.id,{text:m.text,rating:m.rating,loyaltyTier:m.loyaltyTier,showAvatar:m.showAvatar,avatarUrl:e.avatarUrl})}),s(t=>t.map(t=>t.id===e.id?(0,a.A)((0,a.A)({},t),m):t)),p(null)}catch(r){alert("Failed to update review.")}},children:[(0,ph.jsx)("textarea",{className:"border rounded p-2 w-full text-gray-900",value:m.text,onChange:e=>g(t=>(0,a.A)((0,a.A)({},t),{},{text:e.target.value}))}),(0,ph.jsx)("select",{className:"border rounded p-2 w-full text-gray-900",value:m.rating,onChange:e=>g(t=>(0,a.A)((0,a.A)({},t),{},{rating:Number(e.target.value)})),children:[5,4,3,2,1].map(e=>(0,ph.jsxs)("option",{value:e,children:[e," Star",e>1?"s":""]},e))}),e.loyaltyTier&&(0,ph.jsxs)("select",{className:"border rounded p-2 w-full text-gray-900",value:m.loyaltyTier,onChange:e=>g(t=>(0,a.A)((0,a.A)({},t),{},{loyaltyTier:e.target.value})),children:[(0,ph.jsx)("option",{value:"top",children:"Top Tier (VIP)"}),(0,ph.jsx)("option",{value:"mid",children:"Mid Tier"}),(0,ph.jsx)("option",{value:"low",children:"Low Tier"})]}),(0,ph.jsxs)("label",{className:"flex items-center gap-2",children:[(0,ph.jsx)("input",{type:"checkbox",checked:!!m.showAvatar,onChange:e=>g(t=>(0,a.A)((0,a.A)({},t),{},{showAvatar:e.target.checked}))}),"Show my avatar"]}),(0,ph.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,ph.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-4 py-1 rounded",children:"Save"}),(0,ph.jsx)("button",{type:"button",className:"bg-gray-300 text-gray-800 px-4 py-1 rounded",onClick:()=>p(null),children:"Cancel"})]})]}):(0,ph.jsxs)(ph.Fragment,{children:[(0,ph.jsx)("p",{className:"text-gray-800 dark:text-gray-100 text-base leading-relaxed mb-1 flex-1",children:e.text}),t&&t.uid===e.userId&&(0,ph.jsx)("button",{className:"ml-2 px-2 py-1 text-xs rounded bg-green-200 text-green-900 font-semibold hover:bg-green-300 transition",onClick:()=>{p(e.id),g({text:e.text,rating:e.rating,loyaltyTier:e.loyaltyTier,showAvatar:e.showAvatar})},children:"Edit"})]})}),(0,ph.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,ph.jsx)("span",{className:"font-semibold",children:"User:"})," ",e.displayName||"Anonymous",e.timestamp&&(0,ph.jsx)("span",{className:"ml-2",children:e.timestamp.seconds?new Date(1e3*e.timestamp.seconds).toLocaleString():new Date(e.timestamp).toLocaleString()})]})]})]},e.id))})})]})})};const $g=e=>{let{user:t,detailMode:n,selectedProduct:r,productList:i,isAdmin:s,handleEditProduct:a,setDetailMode:o,setSelectedProduct:l,showStore:c,setShowStore:u,selectedCategory:d,setSelectedCategory:h,selectedSubcategory:f,setSelectedSubcategory:p,handleAddProduct:m,handleDeleteProduct:g,showAddProduct:y,setShowAddProduct:v}=e;return(0,ph.jsxs)(Ae,{children:[(0,ph.jsx)(Ce,{path:"/",element:(0,ph.jsx)(Kg,{detailMode:n,selectedProduct:r,productList:i,isAdmin:s,handleEditProduct:a,setDetailMode:o,setSelectedProduct:l,showStore:c,setShowStore:u,selectedCategory:d,setSelectedCategory:h,selectedSubcategory:f,setSelectedSubcategory:p,handleAddProduct:m,handleDeleteProduct:g,showAddProduct:y,setShowAddProduct:v})}),(0,ph.jsx)(Ce,{path:"/products",element:(0,ph.jsx)(Gg,{productList:i,isAdmin:s,handleEditProduct:a,handleDeleteProduct:g,selectedCategory:d,setSelectedCategory:h,selectedSubcategory:f,setSelectedSubcategory:p,setSelectedProduct:l,setDetailMode:o})}),(0,ph.jsx)(Ce,{path:"/reviews",element:(0,ph.jsx)(Yg,{})}),(0,ph.jsx)(Ce,{path:"/profile",element:t?(0,ph.jsx)(xg,{user:t}):(0,ph.jsx)(Ee,{to:"/",replace:!0})}),(0,ph.jsx)(Ce,{path:"/profile/settings",element:t?(0,ph.jsx)(_g,{user:t}):(0,ph.jsx)(Ee,{to:"/",replace:!0})}),(0,ph.jsx)(Ce,{path:"/profile/reviews",element:t?(0,ph.jsx)(Hg,{user:t}):(0,ph.jsx)(Ee,{to:"/",replace:!0})}),(0,ph.jsx)(Ce,{path:"/profile/liked",element:t?(0,ph.jsx)(qg,{user:t}):(0,ph.jsx)(Ee,{to:"/",replace:!0})}),(0,ph.jsx)(Ce,{path:"*",element:(0,ph.jsx)(Kg,{detailMode:n,selectedProduct:r,productList:i,isAdmin:s,handleEditProduct:a,setDetailMode:o,setSelectedProduct:l,showStore:c,setShowStore:u,selectedCategory:d,setSelectedCategory:h,selectedSubcategory:f,setSelectedSubcategory:p,handleAddProduct:m,handleDeleteProduct:g,showAddProduct:y,setShowAddProduct:v})})]})};const Xg=function(){const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(!1),[s,o]=(0,r.useState)(()=>{const e=localStorage.getItem("rr_product_reviews");return e?JSON.parse(e):{}}),[l,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),[g,y]=(0,r.useState)(null),[v,b]=(0,r.useState)(!1),[w,x]=(0,r.useState)(()=>{const e=localStorage.getItem("rr_products");return e?JSON.parse(e):Lh}),[_,k]=(0,r.useState)(null),[S,E]=(0,r.useState)(""),[C,T]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{const e=function(e,t,n,r){return(0,bt.Ku)(e).onAuthStateChanged(t,n,r)}(Qi(Xi.y),e=>{e?(y(e),m("user"),d(!1),console.log("User is signed in",e)):(y(null),m(null),d(!1),console.log("No user signed in"))});return()=>e()},[]),oe().pathname,(0,ph.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-50 px-2 sm:px-0",children:[(0,ph.jsx)(Dh,{open:l,setOpen:c}),(0,ph.jsx)(yh,{open:h,onLogin:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;m(e),d("admin"===e),f(!1),"admin"===e?(y(null),console.log("Admin login successful")):t&&(y(t),console.log("User login successful",t))},onClose:()=>f(!1)}),(0,ph.jsx)(bh,{isAdmin:u,user:g,onLogin:()=>f(!0),onLogout:async()=>{m(null),d(!1),y(null);const e=Qi(Xi.y);try{await function(e){return(0,bt.Ku)(e).signOut()}(e),console.log("Logged out successfully")}catch(t){console.error("Logout failed",t)}},onHomeClick:()=>{i(!1),t(null),T(!1)}}),(0,ph.jsx)("main",{className:"flex-1",children:(0,ph.jsx)($g,{user:g,detailMode:n,selectedProduct:e,productList:w,isAdmin:u,handleEditProduct:(e,t)=>{const n=w.map(n=>n.id===e?(0,a.A)((0,a.A)({},n),t):n);x(n),localStorage.setItem("rr_products",JSON.stringify(n))},setDetailMode:i,setSelectedProduct:t,showStore:C,setShowStore:T,selectedCategory:_,setSelectedCategory:k,selectedSubcategory:S,setSelectedSubcategory:E,handleAddProduct:e=>{const t=[...w,(0,a.A)((0,a.A)({},e),{},{id:Date.now()})];x(t),localStorage.setItem("rr_products",JSON.stringify(t)),b(!1)},handleDeleteProduct:e=>{const n=w.filter(t=>t.id!==e);x(n),localStorage.setItem("rr_products",JSON.stringify(n)),t(null)},showAddProduct:v,setShowAddProduct:b})}),(0,ph.jsx)(wh,{})]})},Jg=document.getElementById("root");(0,i.H)(Jg).render((0,ph.jsx)(ct,{children:(0,ph.jsx)(Xg,{})}))})();
//# sourceMappingURL=main.fe7341b8.js.map