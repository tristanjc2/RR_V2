{"ast":null,"code":"import _objectSpread from\"C:/RR_V3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import{fetchReviews,addReview,deleteReview}from\"../firebaseReviews\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ReviewSection=_ref=>{let{isAdmin,productList=[],reviews:reviewsProp,productId}=_ref;const[form,setForm]=useState({name:\"\",rating:5,text:\"\",productId:\"general\"});const[reviews,setReviews]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(\"\");const[showModal,setShowModal]=useState(false);const[page,setPage]=useState(0);const[isHovered,setIsHovered]=useState(false);const[fade,setFade]=useState(true);const REVIEWS_PER_PAGE=3;// Load reviews once\nuseEffect(()=>{const load=async()=>{setLoading(true);try{const data=await fetchReviews();setReviews(data);}catch(err){setError(\"Failed to load reviews.\");}setLoading(false);};// If reviews are passed as a prop, don't fetch\nif(!reviewsProp)load();else setLoading(false);},[reviewsProp]);// Auto-rotate carousel every 5 seconds (pause on hover)\nuseEffect(()=>{if(isHovered)return;const interval=setInterval(()=>{setFade(false);setTimeout(()=>{setPage(prev=>(prev+1)*REVIEWS_PER_PAGE<reviews.length?prev+1:0);setFade(true);},250);// match fade duration\n},5000);return()=>clearInterval(interval);},[reviews.length,isHovered,page]);const handleChange=e=>{setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();try{await addReview(form);// Reload reviews\nconst data=await fetchReviews();setReviews(data);setForm({name:\"\",rating:5,text:\"\",productId:\"general\"});}catch(err){setError(\"Failed to submit review.\");}};const handleDelete=async id=>{try{await deleteReview(id);setReviews(reviews.filter(r=>r.id!==id));}catch(err){setError(\"Failed to delete review.\");}};// Use prop reviews if provided, otherwise use fetched\nlet filteredReviews=reviewsProp||reviews;if(productId){filteredReviews=filteredReviews.filter(r=>String(r.productId)===String(productId));}const paginatedReviews=filteredReviews.slice(page*REVIEWS_PER_PAGE,(page+1)*REVIEWS_PER_PAGE);const hasNext=(page+1)*REVIEWS_PER_PAGE<reviews.length;const hasPrev=page>0;return/*#__PURE__*/_jsxs(\"div\",{id:\"reviews\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold mb-4\",children:\"Customer Reviews\"}),productId&&!filteredReviews.length&&!loading&&/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 mb-4\",children:\"No reviews for this product yet.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-700 text-white px-5 py-3 rounded-lg text-lg hover:bg-green-800 transition mb-6 min-h-[44px]\",onClick:()=>setShowModal(true),children:\"Want to leave a review?\"}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\",onClick:()=>setShowModal(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 sm:p-8 rounded shadow-lg max-w-md w-full relative mx-2\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-4 right-4 text-3xl font-bold text-gray-400 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-700 transition\",style:{lineHeight:'1',width:'2.5rem',height:'2.5rem',display:'flex',alignItems:'center',justifyContent:'center',background:'none',border:'none',zIndex:10},\"aria-label\":\"Close Modal\",onClick:()=>setShowModal(false),children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-xl font-bold mb-4\",children:\"Leave a Review\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"select\",{name:\"productId\",value:form.productId,onChange:handleChange,className:\"border px-3 py-2 rounded w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"general\",children:\"General Company Review\"}),(()=>{const groups=[];const grouped={};productList.forEach(p=>{if(!grouped[p.category])grouped[p.category]={};if(!grouped[p.category][p.subcategory])grouped[p.category][p.subcategory]=[];grouped[p.category][p.subcategory].push(p);});Object.entries(grouped).forEach(_ref2=>{let[cat,subs]=_ref2;groups.push(/*#__PURE__*/_jsx(\"optgroup\",{label:cat,children:Object.entries(subs).flatMap(_ref3=>{let[sub,prods]=_ref3;return prods.map(prod=>/*#__PURE__*/_jsxs(\"option\",{value:prod.id,children:[sub,\": \",prod.name]},prod.id));})},cat));});return groups;})()]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:form.name,onChange:handleChange,placeholder:\"Your name\",className:\"border px-3 py-2 rounded w-full\",required:true}),/*#__PURE__*/_jsx(\"select\",{name:\"rating\",value:form.rating,onChange:handleChange,className:\"border px-3 py-2 rounded w-full\",children:[5,4,3,2,1].map(r=>/*#__PURE__*/_jsxs(\"option\",{value:r,children:[r,\" Star\",r>1?'s':'']},r))}),/*#__PURE__*/_jsx(\"textarea\",{name:\"text\",value:form.text,onChange:handleChange,placeholder:\"Write your review...\",className:\"border px-3 py-2 rounded w-full\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-green-700 text-white px-5 py-3 rounded-lg text-lg hover:bg-green-800 transition w-full min-h-[44px]\",children:\"Submit Review\"})]})]})}),loading&&/*#__PURE__*/_jsx(\"div\",{children:\"Loading reviews...\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600\",children:error}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-4 transition-opacity duration-250 \".concat(fade?'opacity-100':'opacity-0',\" px-1 sm:px-0\"),onMouseEnter:()=>setIsHovered(true),onMouseLeave:()=>setIsHovered(false),children:paginatedReviews.map(r=>{var _productList$find;const productName=r.productId&&r.productId!==\"general\"?((_productList$find=productList.find(p=>String(p.id)===String(r.productId)))===null||_productList$find===void 0?void 0:_productList$find.name)||\"[Deleted Product]\":null;return/*#__PURE__*/_jsxs(\"li\",{className:\"border rounded p-4 bg-gray-50 relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold mr-2\",children:r.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-yellow-500\",children:['\\u2605'.repeat(r.rating),'\\u2606'.repeat(5-r.rating)]}),productName?/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded\",children:productName}):/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-xs bg-gray-100 text-gray-700 px-2 py-0.5 rounded\",children:\"General\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700 italic\",children:[\"\\u201C\",r.text,\"\\u201D\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-400\",children:new Date(r.date).toLocaleDateString()}),isAdmin&&/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-2 right-2 bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700\",onClick:()=>handleDelete(r.id),children:\"Delete\"})]},r.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-4 flex-wrap justify-center\",children:[hasPrev&&/*#__PURE__*/_jsx(\"button\",{className:\"px-5 py-3 text-lg bg-gray-200 rounded-lg min-w-[44px] min-h-[44px]\",onClick:()=>setPage(page-1),children:\"Prev\"}),hasNext&&/*#__PURE__*/_jsx(\"button\",{className:\"px-5 py-3 text-lg bg-gray-200 rounded-lg min-w-[44px] min-h-[44px]\",onClick:()=>setPage(page+1),children:\"Next\"})]}),reviews.length>REVIEWS_PER_PAGE&&!hasNext&&/*#__PURE__*/_jsx(\"button\",{className:\"mt-4 underline text-green-700 text-lg min-h-[44px]\",onClick:()=>setPage(0),children:\"See more reviews\"})]});};export default ReviewSection;","map":{"version":3,"names":["React","useEffect","useState","fetchReviews","addReview","deleteReview","jsx","_jsx","jsxs","_jsxs","ReviewSection","_ref","isAdmin","productList","reviews","reviewsProp","productId","form","setForm","name","rating","text","setReviews","loading","setLoading","error","setError","showModal","setShowModal","page","setPage","isHovered","setIsHovered","fade","setFade","REVIEWS_PER_PAGE","load","data","err","interval","setInterval","setTimeout","prev","length","clearInterval","handleChange","e","_objectSpread","target","value","handleSubmit","preventDefault","handleDelete","id","filter","r","filteredReviews","String","paginatedReviews","slice","hasNext","hasPrev","children","className","onClick","stopPropagation","style","lineHeight","width","height","display","alignItems","justifyContent","background","border","zIndex","onSubmit","onChange","groups","grouped","forEach","p","category","subcategory","push","Object","entries","_ref2","cat","subs","label","flatMap","_ref3","sub","prods","map","prod","type","placeholder","required","concat","onMouseEnter","onMouseLeave","_productList$find","productName","find","repeat","Date","date","toLocaleDateString"],"sources":["C:/RR_V3/src/components/ReviewSection.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { fetchReviews, addReview, deleteReview } from \"../firebaseReviews\";\n\nconst ReviewSection = ({ isAdmin, productList = [], reviews: reviewsProp, productId }) => {\n  const [form, setForm] = useState({ name: \"\", rating: 5, text: \"\", productId: \"general\" });\n  const [reviews, setReviews] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [page, setPage] = useState(0);\n  const [isHovered, setIsHovered] = useState(false);\n  const [fade, setFade] = useState(true);\n  const REVIEWS_PER_PAGE = 3;\n\n  // Load reviews once\n  useEffect(() => {\n    const load = async () => {\n      setLoading(true);\n      try {\n        const data = await fetchReviews();\n        setReviews(data);\n      } catch (err) {\n        setError(\"Failed to load reviews.\");\n      }\n      setLoading(false);\n    };\n    // If reviews are passed as a prop, don't fetch\n    if (!reviewsProp) load();\n    else setLoading(false);\n  }, [reviewsProp]);\n\n  // Auto-rotate carousel every 5 seconds (pause on hover)\n  useEffect(() => {\n    if (isHovered) return;\n    const interval = setInterval(() => {\n      setFade(false);\n      setTimeout(() => {\n        setPage(prev => (prev + 1) * REVIEWS_PER_PAGE < reviews.length ? prev + 1 : 0);\n        setFade(true);\n      }, 250); // match fade duration\n    }, 5000);\n    return () => clearInterval(interval);\n  }, [reviews.length, isHovered, page]);\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await addReview(form);\n      // Reload reviews\n      const data = await fetchReviews();\n      setReviews(data);\n      setForm({ name: \"\", rating: 5, text: \"\", productId: \"general\" });\n    } catch (err) {\n      setError(\"Failed to submit review.\");\n    }\n  };\n\n  const handleDelete = async (id) => {\n    try {\n      await deleteReview(id);\n      setReviews(reviews.filter(r => r.id !== id));\n    } catch (err) {\n      setError(\"Failed to delete review.\");\n    }\n  };\n\n  // Use prop reviews if provided, otherwise use fetched\n  let filteredReviews = reviewsProp || reviews;\n  if (productId) {\n    filteredReviews = filteredReviews.filter(r => String(r.productId) === String(productId));\n  }\n  const paginatedReviews = filteredReviews.slice(page * REVIEWS_PER_PAGE, (page + 1) * REVIEWS_PER_PAGE);\n  const hasNext = (page + 1) * REVIEWS_PER_PAGE < reviews.length;\n  const hasPrev = page > 0;\n\n  return (\n    <div id=\"reviews\">\n      <h3 className=\"text-2xl font-bold mb-4\">Customer Reviews</h3>\n      {/* Only show message if no reviews for this product */}\n      {productId && !filteredReviews.length && !loading && (\n        <div className=\"text-gray-500 mb-4\">No reviews for this product yet.</div>\n      )}\n      <button\n        className=\"bg-green-700 text-white px-5 py-3 rounded-lg text-lg hover:bg-green-800 transition mb-6 min-h-[44px]\"\n        onClick={() => setShowModal(true)}\n      >\n        Want to leave a review?\n      </button>\n\n      {/* Review Form Modal */}\n      {showModal && (\n        <div\n          className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\"\n          onClick={() => setShowModal(false)}\n        >\n          <div\n            className=\"bg-white p-4 sm:p-8 rounded shadow-lg max-w-md w-full relative mx-2\"\n            onClick={e => e.stopPropagation()}\n          >\n            <button\n              className=\"absolute top-4 right-4 text-3xl font-bold text-gray-400 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-700 transition\"\n              style={{ lineHeight: '1', width: '2.5rem', height: '2.5rem', display: 'flex', alignItems: 'center', justifyContent: 'center', background: 'none', border: 'none', zIndex: 10 }}\n              aria-label=\"Close Modal\"\n              onClick={() => setShowModal(false)}\n            >\n              &times;\n            </button>\n            <h4 className=\"text-xl font-bold mb-4\">Leave a Review</h4>\n            <form onSubmit={handleSubmit} className=\"space-y-3\">\n              {/* Responsive form for mobile */}\n              <select\n                name=\"productId\"\n                value={form.productId}\n                onChange={handleChange}\n                className=\"border px-3 py-2 rounded w-full\"\n              >\n                <option value=\"general\">General Company Review</option>\n                {/* Group products by category and subcategory */}\n                {(() => {\n                  const groups = [];\n                  const grouped = {};\n                  productList.forEach(p => {\n                    if (!grouped[p.category]) grouped[p.category] = {};\n                    if (!grouped[p.category][p.subcategory]) grouped[p.category][p.subcategory] = [];\n                    grouped[p.category][p.subcategory].push(p);\n                  });\n                  Object.entries(grouped).forEach(([cat, subs]) => {\n                    groups.push(\n                      <optgroup key={cat} label={cat}>\n                        {Object.entries(subs).flatMap(([sub, prods]) =>\n                          prods.map(prod => (\n                            <option key={prod.id} value={prod.id}>{sub}: {prod.name}</option>\n                          ))\n                        )}\n                      </optgroup>\n                    );\n                  });\n                  return groups;\n                })()}\n              </select>\n              <input\n                type=\"text\"\n                name=\"name\"\n                value={form.name}\n                onChange={handleChange}\n                placeholder=\"Your name\"\n                className=\"border px-3 py-2 rounded w-full\"\n                required\n              />\n              <select\n                name=\"rating\"\n                value={form.rating}\n                onChange={handleChange}\n                className=\"border px-3 py-2 rounded w-full\"\n              >\n                {[5, 4, 3, 2, 1].map((r) => (\n                  <option key={r} value={r}>{r} Star{r > 1 ? 's' : ''}</option>\n                ))}\n              </select>\n              <textarea\n                name=\"text\"\n                value={form.text}\n                onChange={handleChange}\n                placeholder=\"Write your review...\"\n                className=\"border px-3 py-2 rounded w-full\"\n                required\n              />\n              <button\n                type=\"submit\"\n                className=\"bg-green-700 text-white px-5 py-3 rounded-lg text-lg hover:bg-green-800 transition w-full min-h-[44px]\"\n              >\n                Submit Review\n              </button>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {loading && <div>Loading reviews...</div>}\n      {error && <div className=\"text-red-600\">{error}</div>}\n      <ul\n        className={`space-y-4 transition-opacity duration-250 ${fade ? 'opacity-100' : 'opacity-0'} px-1 sm:px-0`}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n      >\n        {paginatedReviews.map((r) => {\n          const productName = r.productId && r.productId !== \"general\"\n            ? (productList.find(p => String(p.id) === String(r.productId))?.name || \"[Deleted Product]\")\n            : null;\n          return (\n            <li key={r.id} className=\"border rounded p-4 bg-gray-50 relative\">\n              <div className=\"flex items-center mb-1\">\n                <span className=\"font-semibold mr-2\">{r.name}</span>\n                <span className=\"text-yellow-500\">{'\\u2605'.repeat(r.rating)}{'\\u2606'.repeat(5 - r.rating)}</span>\n                {productName ? (\n                  <span className=\"ml-2 text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded\">{productName}</span>\n                ) : (\n                  <span className=\"ml-2 text-xs bg-gray-100 text-gray-700 px-2 py-0.5 rounded\">General</span>\n                )}\n              </div>\n              <p className=\"text-gray-700 italic\">“{r.text}”</p>\n              <span className=\"text-xs text-gray-400\">{new Date(r.date).toLocaleDateString()}</span>\n              {isAdmin && (\n                <button className=\"absolute top-2 right-2 bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700\" onClick={() => handleDelete(r.id)}>Delete</button>\n              )}\n            </li>\n          );\n        })}\n      </ul>\n      <div className=\"flex gap-2 mt-4 flex-wrap justify-center\">\n        {hasPrev && (\n          <button className=\"px-5 py-3 text-lg bg-gray-200 rounded-lg min-w-[44px] min-h-[44px]\" onClick={() => setPage(page - 1)}>Prev</button>\n        )}\n        {hasNext && (\n          <button className=\"px-5 py-3 text-lg bg-gray-200 rounded-lg min-w-[44px] min-h-[44px]\" onClick={() => setPage(page + 1)}>Next</button>\n        )}\n      </div>\n      {reviews.length > REVIEWS_PER_PAGE && !hasNext && (\n        <button className=\"mt-4 underline text-green-700 text-lg min-h-[44px]\" onClick={() => setPage(0)}>See more reviews</button>\n      )}\n\n    </div>\n  );\n};\n\nexport default ReviewSection;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}